package main

import "time"

var (
	// AssetsAppBlackPNG is assets/app-black.png
	AssetsAppBlackPNG = []byte("\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00\xc0\x00\x00\x00\xc0\b\x06\x00\x00\x00R\xdcl\a\x00\x00\x00\x06bKGD\x00\xff\x00\xff\x00\xff\xa0\xbd\xa7\x93\x00\x00\x00\tpHYs\x00\x00\r\xd7\x00\x00\r\xd7\x01B(\x9bx\x00\x00\x00\atIME\a\xe2\x01\x03\x03\t*\xb0\xb2Z\xb1\x00\x00\x17@IDATx\xda\xed]kPS\xd7\xf6_\t\t\xcf\x04y+\x88\x12\x14\x01\xab\x88\xe0\xa3\x15\xb5\xd3\xfa\x16g\xacU\xd1\xf1KgZyh\xa7J\xa1V\xe8k\x86\x99\xb6\x17\xf1\xfdh\xa7\xa3\xed\xb4\x16\xadU\xd4\xdaN\x15\xad(\xd6>\xb4\x16\x15\x8bT\xa9-\x902>+\xc1@H\x80\x84\xb0\xee\x87\xfb\xe7^\xf5O\xce9\t9'\xe7$\xeb7\xb3\xbe\xb0\x99\x9c\xbd\xd7^\xbf\xb3\xd7\xdak\xed}d\x00\x80@ x(\xe4\xa4\x02\x02\x11\x80@ \x02\x10\bD\x00\x02\x81\b@ \x10\x01\b\x04\"\x00\x81@\x04 \x10\x88\x00\x04\x02\x11\x80@ \x02\x10\bD\x00\x02\x81\b@ \x10\x01\b\x04\"\x00\x81@\x04 \x10\x88\x00\x04\x02\x11\x80@ \x02\x10\b⇂T\xe0\xe47\x8a\\\x0e\x91\x91\x91\x10\x1b\x1b\v\x1a\x8d\x06\xa2\xa3\xa3!,,\fBCC!,,\f\xfc\xfc\xfc ((\b\x00\x00\x94J%\x00\x00X,\x16\x00\x00\xd0\xeb\xf5\xd0\xd1\xd1\x01\xcd\xcd͠\xd3\xe9\xe0\xfe\xfd\xfbp\xeb\xd6-hll\x04\xadV\v\xb7o\xdf\x06D:\xc2M\x04\x10\t\x02\x02\x02`\xe2ĉ\x90\x92\x92\x02cƌ\x81\xa4\xa4$\x185j\x14\xf8\xf8\xf8\xf0\xf2\xbc\xce\xceN\xb8v\xed\x1a\xd4\xd4\xd4@MM\rTWWCUU\x15\x18\x8dF\x9a\f\a!\x03\xba\x15\x823T*\x15L\x9f>\x1d\xa6M\x9b\x06iii0v\xecXP(\\\xfb\x0e\xe9\xee\xee\x86\xea\xeaj8w\xee\x1cTVV\xc2\xe9ӧ\x89\x10D\x00\xe7!&&\x06\x16-Z\x04\xe9\xe9\xe90u\xeaT\xf0\xf6\xf6\x16u\u007f\xbb\xba\xba\xe0\xc7\x1f\u007f\x84\xf2\xf2r8|\xf80455\xd1$\xb2\x00I\x1e\x95\xc8\xc8H\xcc\xcb\xcb\xc3\xf3\xe7\xcfcOO\x0fJ\x15===x\xee\xdc9|\xf5\xd5WqРA4\xb7}\v)\x01\x00P.\x97\xe3\x8c\x193\xb0\xac\xac\f\xcdf3\xba\x1b\xba\xbb\xbb\xb1\xa2\xa2\x02322P\xa1PМ\x13\x01\xfe#\x81\x81\x81\x98\x9f\x9f\x8fZ\xad\x16=\x05\x8d\x8d\x8d\x98\x97\x97\x87j\xb5\xda\xe3\t\xe0\xb11\xc0\xa0A\x83 ??\x1f\xb2\xb3\xb3a\xc0\x80\x01\xc2\xf8\x9a\x88\xa0\xd7롳\xb3\x13:::\x1ei\xf3\xf3\xf3\x03___\b\n\n\x02\x99L&H\u007f\xf4z=\xecڵ\v6o\xde\f\xf7\xeeݣ \xd8\x13\x10\x1e\x1e\x0ek\u05ee\x85\x97_~\x19\xfc\xfd\xfd\x9d\xfa\xdbf\xb3\x19\xae_\xbf\x0e\xb5\xb5\xb5\xf0\xd7_\u007f\x81V\xab\x05\xadV\vw\xee\xdc\x01\x9dN\a:\x9d\x8eu\x1f_&\x93Ahh(\x84\x86\x86BTT\x14h4\x1a\xd0h4\x10\x17\x17\a\xa3F\x8d\x82\x91#G:=\x107\x1a\x8d\xf0\xe1\x87\x1f\u0086\r\x1b\xa0\xb9\xb9\x99\x82`w\x14\u007f\u007f\u007f,**B\x83\xc1\xe04W\xe2\x8f?\xfe\xc0\xcf>\xfb\f3331))\t\x95J%\xef\xe3P*\x95\x98\x94\x94\x84\x99\x99\x99\xb8{\xf7n\xbcq\xe3\x86\xd3\xc6\xd3\xd6ֆ\xef\xbc\xf3\x0e\xfa\xf9\xf9Q\f\xe06>\x9eL\x86˖-æ\xa6\xa6~\x1bHkk+\x1e:t\b333q\xf0\xe0\xc1\xa2\x19\xe3\x90!C0++\v\x0f\x1f>\x8c\xad\xad\xad\xfd\x1e\xe7\xdf\u007f\xff\x8dK\x97.E\x99LF\x04\x90\xb2$$$\xe0ٳg\xfb\xfdV\xfc\xe2\x8b/\xf0\xb9\xe7\x9eC\x1f\x1f\x1fя\xd9\xd7\xd7\x17\x17,X\x80\xfb\xf6\xed\xeb\xf7jw\xe6\xcc\x19\x1c1b\x04\x11@j\xa2P(077\x17\x8dF\xa3Ó\u007f\xf1\xe2E\xcc\xce\xceF\x95J%Y=\xf8\xfa\xfabFF\x06VTT8\xac\x87\x8e\x8e\x0e,**Booo\"\x80\x14$11\x11/]\xba\xe4\xd0dwuu\xe1\xeeݻ199\xd9\xed&:99\x19w\xefލ]]]\x0e馪\xaa\n\x13\x12\x12\x88\x00b\xf6\xf5W\xae\\\xe9\xd0[\xdf`0`qq1FFF\xba\xbd\xcf\x1b\x15\x15\x85%%%\x0e\xb9G\xed\xed혝\x9dM\x04\x10c2\xebȑ#vO\xa8\xd1h\xc4\r\x1b6`xx\xb8\xc7%\x80\"\"\"pӦMh2\x99\xec\xd6ۡC\x87\xdc)\x89&\xed\x01<\xf1\xc4\x13XWWgw\x8dLii\xa9\xa8vr\\%\xd1\xd1Ѹw\xef^\xbbk\x9e\xae_\xbf\x8e\x89\x89\x89D\x00W\xca\xf3\xcf?o\xf7R~\xe1\xc2\x05\x9c8q\"\xd5\xc0<&\x93&M\u008b\x17/ڽC6\u007f\xfe|\"\x80+$77\x17\xadV\xab]\xeeNAA\x01zyy\x91\xc13\x14\x04fgg\xdb\xf5R\xe9\xe9\xe9\xc1\xa2\xa2\"\"\x80P\xe2\xe5\xe5\x85\x1f|\xf0\x81]o\xaaӧO\xa3F\xa3!#\xe7(\xb1\xb1\xb1XYYi\x97\x8e\xb7m\xdb&\u0557\x8b\xb4\x8c\xbf\xb4\xb4\x94\xf3\xa4\x98\xcdf,**B\xb9\\N\x86\xed\xc0\xaeZnn\xae]ۦ\xfb\xf7\xef\x17\xa4\x1c\xc4#\t\xe0\xe3\xe3\x83\xdf|\xf3\r\xe7\xc9\xf8믿0%%\x85\x8c\xb9\x9f2n\xdc8lhh\xe0\xac\xf7#G\x8eH\"c.)\x02\xf8\xf8\xf8\xe0\xf1\xe3\xc79O±c\xc7088\x98\f\xd8I\x12\x12\x12b\x97\xfe\xcb\xcb˥D\x02qwP\xa9T\xda\xf5\xe6\u007f\xff\xfd\xf7\xc9\xe5\xe1)@...\xb6k%\x90\xc8\xc93q\xfb\xfc\xfb\xf6\xed\xe3\xa4p\x8bł+V\xac c\xe5Y^|\xf1E\xceGF\x0f\x1e<(\x85\xc0X\xbc\x9d\xe3\xba\xdbc0\x18p\xe6̙d\xa0\x02ɬY\xb3\xb0\xbd\xbd\x9d\xd3\xdclݺ\x95\b\xe0\x88\xe4\xe7\xe7sR\xf0\x83\a\x0f0--\x8d\fS`\x990a\x02\xeat:Ns\xb4z\xf5j\"\x80=\xb2`\xc1\x02NI\xae\xfb\xf7\xefcjj\xaaݿ?p\xe0@2b'Hjj*677s\xba\x91B\xc4\x19c\xf1\x1db\xe1r\xaaI\xaf\xd7\xe3\xf8\xf1\xe3\x1dzƖ-[\xb0\xa2\xa2\x02\x93\x92\x92Ȑ\x9dPf\xdd\xd2\xd2\xc2\xc9M}\xe2\x89'\x88\x00L\xa2V\xab\xf1ڵk\x9c\xca\x1a\xa6N\x9d\xea\xf0s\xb6l\xd9\xf2\xdf\xc0y\xe7Ν\x1eY\r\xeaLyꩧ8\x95O\xd4\xd5\xd5\xe1\x80\x01\x03\x88\x00\xb62\x8f\\J\x9a\xcdf3Θ1\xa3_\xcf\xea%@/ZZZ\xb0\xa0\xa0\xc0\x9dO=\xf1.s\xe6\xccA\x8b\xc5\xc2ig\x88\bЇ\xac\\\xb9\x92S@匭\xce\xc7\t\xf0\xf0-\x0f\x19\x19\x19d\xd0\x0e\xca\xf2\xe5\xcb9\xcdaVV\x16\x11\xe0\xf1c\x8c\\Nr\xbd\xf7\xde{Ny\x9e-\x02\xf4\x82\xe2\x03\xc7eݺu\x9cN\x96\xc5\xc7\xc7\x13\x01z3\xbd\\\xce\xf0\x1e;v\xcci\x19^6\x02P|п\x8c\xf1\x89\x13'8\x9d1\x16I\xa6ص\x1dx\xf3\xcd79\xdde\x19\x1a\x1a\xea\xb4gr!\x00\xc5\a\x8eKpp0\xd6\xd7׳\xeav\xedڵ\x9eM\x80\x84\x84\x04\xec\xe8\xe8`\xbd\xa9\xc1\xd9U\x9d\xf6\x10\x80\xe2\x03\xc7d\xfc\xf8\xf1\xac%\x13&\x93\t\xe3\xe2\xe2<\x93\x002\x99\x8cӥUk֬q\xfa\xb3\x1d!\x00\xc5\a\xf6Kaa!\xa7\xc3J\x1eI\x80e˖\xb1*\xe7ԩS\xbcTv\xf6\x87\x00\xbd\xf1\xc1\x8e\x1d;\x9cꖹk<p\xe6\xcc\x19V}.^\xbcس\b\xe0\xe7\xe7\xc7z\x1f\xbf\xd1h\xc4aÆ\xf1\xf2\xfc\xfe\x12\x80\xe2\x03\xee\x12\x13\x13Ú$kjjB\u007f\u007f\u007f\xcf!@QQ\x11\xabq\xe5\xe6\xe6\xf2\xf6|g\x11\x80\xe2\x03n\xf2\xdak\xaf\xb1\xea\xf0\xad\xb7\xde\xf2\f\x02\x84\x87\x87\xb3\xbe\x11.\\\xb8\xc0k\x1d\xb9\xb3\t@\xf1\x01\xfb\xb9\x0e\xb6\xad\xee\xd6\xd6V\f\t\tq\u007f\x02lذ\x81\xf5\x9a\r\xbe\xef\xed\xe1\x8b\x00\x94?`\xbew\x88\xed\xf2\xad\u007f\xfd\xeb_\xeeM\x80A\x83\x06\xb1f|?\xff\xfcs\xde\xfb\xc1'\x01z\xa1\xd3\xe9p\xf5\xea\xd5R\xbc%\x817\xf9\xf2\xcb/Y3\xc4\x11\x11\x11\xeeK\x80\xf5\xeb׳\x06\xbeB\\W(\x04\x01(>\xf8\xff2t\xe8Pּ\x8f\vV\x01\xe1J\x9d\xf5z=\xe3\xe0\u05ef_/H_\x84$\xc0\xc3[\xba\x14\x1f\x00n۶\x8dugM\xe0o2\x88㈣\xc1`\x10l\xf9s\x05\x01\x1e\x8e\x0f\\\xb0̋F\xb8\xb8\xc1|\xee\x00\xba\x84\x00^^^\xd8\xd8\xd8\xc88\xe8\xe2\xe2b\xc1\x06\xed*\x02<\x9e?\x90\xd8\x05RN\x93\x8d\x1b72ꧡ\xa1Aȫm\xf8\u007fHzz:\xe3\x80;;;\x05\xfd8\x85\xab\t\xf0\xf0\x15\xe3\xe9\xe9\xe9\x1eG\x80\xc1\x83\a\xb3^\xb98{\xf6la\xb2\xd5 \x00\xb2\xb2\xb2\x18\xdb\xf7\xed\xdb\aw\xee\xdc\x01OCbb\"\x1c;v\fN\x9d:\x05III\x1e3\xee[\xb7n\xc1\x81\x03\a\x18\xff'33S\xb0\xfe\xf0ʰ\xc8\xc8H֣rcƌ\x11\xf4\r$\x96\x15\xc0\x93ピ\x94\x14\xd6*`!t\xc1\xfb\n\xb0l\xd92P(\x146\xdbϟ?\x0f555\xe0\xe9P(\x14\x90\x9d\x9d\ruuuPPP\x00>>>n=\xde\xea\xeaj\xa8\xaa\xaa\xb2\xd9\xee\xed\xed\rK\x97.\xe5\xbd\x1f\xbc\x13`ɒ%\x8c\xed\x1f\u007f\xfc1\x10\xfe\x87\xe0\xe0`X\xb7n\x1d\xd4\xd4\xd4@FF\x86[\x8f\xf5\x93O>\xe9\x97\xed\x88\xde\x05\x8a\x89\x89aL\u007f\xb7\xb5\xb5a@@\x80\xe0˯\x18] O\xcc\x1f\xa8\xd5j\xc6+\x16\xadV+FGGK\xd7\x05Z\xb4h\x11\xc8d2\x9b\xed\xdf~\xfb-\x18\x8dFz\xed3`\xfa\xf4\xe9p\xf9\xf2eعs'DDD\xb8\xd5\xd8\f\x06\x03\x1c=zԶ{\"\x97âE\x8b\xa4\xeb\x02͛7\x8f\xb1\x9dm'\x80\xe0\xfe\xf1AYY\x19c\xfbܹs\xa5\xe9\x02\xa9T*ƽ\xde\xd6\xd6V\xf4\xf5\xf5u\xc9\xd2+%\x17\xc8\xdd\xeb\x8b\xfc\xfc\xfc\xb0\xad\xad\xcd\xe6X;::x=,\xc3\xdb\n0}\xfat\xf0\xf6\xf6\xb6\xd9^QQ\x01\x9d\x9d\x9d\xf4zw\x00\xf1\xf1\xf1PVV\xe6\x16\xf9\x83\x8e\x8e\x0e\xa8\xac\xac\xb4\xd9\xee\xeb\xeb\v\xcf<\xf3\x8c\xf4\\\xa0iӦ1\xb6\x9f8q\x82,\x99\xe2\x03\x00\x008~\xfc8\xeb8%G\x80\xb4\xb44\xdb>\x17\"\x11\x80\xe2\x03\xce/\xc3ɓ'K+\x06\b\b\b`\xcc\xfe\xd6\xd5չ\xd4\xef\x94z\f\xe0\x8e\xf1\x01\xd3EZf\xb3\x99\xb78\x80\x97\x15`\u0084\t\xac\xd9_\x02\xc5\a\x0f㧟~\xb2٦T*a\xfc\xf8\xf1\xd2q\x81ƍ\x1b\xe7\xf0`\t\x9e\x19\x1f\xfc\xfc\xf3ό\xed\xa9\xa9\xa9\xd2!\x00ۛ\xe7\xd7_\u007f%\v\xa5\xf8\xe0\x11\\\xb8p\xa1_6%*\x02$''\xdbl\xeb\xeaꂺ\xba:\xb2N\x01!\x85\xfa\xa2\xeb\u05ef\x83\xd9l\x96>\x01\xe4r9$&&\xdal\xaf\xab\xab\x03\x8b\xc5BVI\xf1\xc1#0\x9b\xcdp\xe3\xc6\r\x9b\xed\xa3F\x8db,\xab\x11\r\x01\xa2\xa2\xa2\xc0\xd7\xd7\xd7f\xfbիW\xc9\x12)>\xe8\x13\xb5\xb5\xb56\xdb\xfc\xfd\xfda\xe0\xc0\x81\xe2'\x80F\xa3al\xaf\xaf\xaf'\v\xa4\xf8\xa0O444\xf4˶$A\x00\xadVK\xd6G\xf1A\x9fhlldl\x8f\x8d\x8d\x15?\x01\xa2\xa3\xa3\x89\x00\x14\x1f\xf0B\x80!C\x86\x88\x9f\x00\xe1\xe1\xe1\x8c\xed\xb7n\xdd\"k\xa3\xf8\xc0!\xdb\b\v\v\x13?\x01BCC\x19\xdbu:\x1dY\x19\xc5\a\x0e\xd9\x06\x9bm\x89\x82\x00L,\xb5Z\xad\xa0\xd7\xeb\xc9\xc2(>\xe8\x13---\xd0\xd3\xd3#\xed\x15@\xadV\xdblkmme\x1c \xc1\xb3\xe3\x03\xab\xd5\nmmm6\xdb\x03\x03\x03\xc5O\x00\xa6C0t\x00\x86\xe2\x036tuu9d[\x92 \x00S\xaa\x9b@\xf1\x01\x1b\x01\xf8\x88E\x88\x00\x84~\xc5\aW\xae\\\x81\xf4\xf4t\"\x00\xc13!\x97\xcb!  @\xba+\x9a\xb3\u007f\x90\xe9-χ\x0fGp\r\x1e<x\x00%%%\xb0e\xcb\x16\xa7\xae\xecLoy\xa6Ձ\b@\x10\x04\xdd\xdd\xdd\xf0駟\xc2\xdbo\xbf\r\xf7\xef\xdfw\xfa\xef\xbb5\x01\x98\xaaD\t\xe2ǩS\xa7 ??\x9f\u05ca^&\x1b\xe1#\x86tz\f\xd0\xda\xdaj\xb3-((\b\xbc\xbc\xbcȒ$\x86\xba\xba:\x987o\x1e̜9\x93W\xe3W(\x14\x8c{\xfd|$Q\x9dN\x00\xa6t\xb6\\.\x87\xa0\xa0 \xb2(\t\xf9\xf9\x85\x85\x85\x90\x9c\x9c\f\xe5\xe5\xe5\xbc?/$$\x84\xf1\xd0\v\x1fe4\n!\t\x00\xf0\x9ft6\xd5\x03y\xb6\x9fo\vl\xb5>---\xe2_\x01\x9a\x9b\x9b\x19ۣ\xa2\xa2\xc8\xc2D\xee秦\xa6BNN\x8e\xa0\xc6\xcf\xc56\xd8lK\x14\x04\xb8y\xf3&c;\x1f\xa7z\b\xfdǍ\x1b7`ɒ%\xbc\xfb\xf9L`;\xf0\xd2\xd4\xd4$~\x17\x88\xed\xc0KLL\fY\x9b\xc8\xfc|>\xf6\xf3\xf9 \x00\x1f\x87\xa9\x9cN\x00\xb6S=qqqdu\x1e\xec\xe73aذa\xd2'\xc0\x9d;w\xa0\xb3\xb3\xd3\xe6~\xae'}\x0eT\xcc~>\xdf\xfb\xf9\x8e\x80\xc96\x8cF#ܻwO\xfc1@OO\x0f\\\xbbv\xcdf{bb\"e\x84=\xd8Ϸ\x05\x1f\x1f\x1f\x88\x8f\x8f\xb7\xd9^[[\v\x88(~\x02\x00\x00\xe3gO\xbd\xbd\xbd\x19/\xce\"\xf0\xe3\xe7\x17\x16\x16BRR\x12\x1c<xP\x94}\x1c9r$(\x95JF\x02\xf0\x01^\b\xc0\xf6vy\xf2\xc9'\xc9*\x05\xf2\xf3w\xed\xda\x05\t\t\tPRR\"\xear\xf4I\x93&9\xfcR\x15\x1d\x01\xaa\xab\xab\x19\xdb\xf9\xfe\xe0\x01\xc1\xb5\xfb\xf9\x8e\x80\xe9\x83*\x00\x00W\xae\\\xe1\xedټ| \xc3l6\xdb\xfc\xe0\xc1\x9f\u007f\xfeI\x1fȠ\x0fd<\"\x8d\x8d\x8d\xee\xf3\x81\f\xa3\xd1\b\xbf\xfd\xf6\x9b\xcd\xf6\xb8\xb88^.9\"?_\xdc~\xbe-h4\x1a\xc6\x04\xe9\xe5˗\xc1d2I\xc7\x05\x02`\xff\xe0\xc1\x9c9s\xc8j=\xcc\xcfw\xd4\x16\xf8\xfc\xa0\no\x04`\xfa\xf4%\x11\xc03\xfd|[`\xfb\x18\xf6\xe9ӧy}>o\x1f\xca\xee\xec\xec\xb4\xe9\u05f5\xb5\xb5ч\xb2\xe9C\xd9\xe8\xe7\xe7\x87\x06\x83\xc1\xfd>\x94\xdd\xde\xdeθt\xa9\xd5jZ\x05<\xc8Ϸ\x85y\xf3\xe6\x81J\xa5\xb2\xd9\xfe\xfd\xf7\xdf\xf3\xe6\xff\xf3\xea\x02\x01\x00\x1c;v\x8c\xb1}ɒ%d\xd5\x1e\xe2\xe7;j\x03l\x1f\xd1\x16\xad\v\x04\x008t\xe8P\xec\xe9鱹\xbc\x19\f\x06T\xa9T\xe4\x021\xa0\xa2\xa2\x02\x93\x92\x92\xdc\xc2\xddy\\\x02\x03\x03\xd1h4\xda\x1c\xbb\xd5j\xc5\xc1\x83\a\xf3\xda\a^W\x80\xa6\xa6&\xf8\xe5\x97_l\xb6\xabT*Z\x05l@\xccu;\xce²e\xcb\xc0\xdfߟq\xf7\x87\xef\xeb\xf4y\xbf\x18\xeb\xc0\x81\x03\x8c\xedYYYd\xedn\xee\xe7\xdbBff&c{YY\x99 \xfd\xe0u\x89\x194h\x10cV\x18\x11199\xd9\xe3] \x8bł;w\xee\xc4\xf0\xf0p\xb7tw\x1e\x97\xd4\xd4TF}tuu\t\xa2\v\xdeW\x80\xbbw\xef\xc2ѣG\x19\xff'//\x8f\xf6\xf3\xdd`?\xdf\x1e\xe4\xe7\xe73\xb6\u007f\xf3\xcd7\x82\xe9\x82w\x96͝;\x97\x91\xedf\xb3\x19\xa3\xa3\xa3=n\x05\xb8~\xfd:\xa6\xa7\xa7{\xc4\x1b\xffa\x89\x8e\x8ef\xf5\nf͚%T\u007f\xf8\u007f\x88\x97\x97\x17c\xb1\x13\"bII\x89\xc7\x10\xa0\xa5\xa5\x05\v\n\n\xd0\xdb\xdb\xdb\xe3\x8c\x1f\x00p\xf3\xe6͌\xfaihh@\xb9\\\xee>\x04\x00\x00\xcc\xcb\xcbc\x1ct{{;\x0e\x1c8Э\t\xe0i~\xbe\xad\x98\x90i\xeb\x13\x11qժUB\xf6I\x98\a\xa9\xd5j|\xf0\xe0\x01\xe3\xc07m\xda\xe4\xb6\x04p\xe7\xfd|{d\xfb\xf6\xed\x8cz\xd2\xe9tB熄\x1b|II\t\xe3\xe0M&\x93 \xb1\x80\x90\x04p\xa7\xba\x9d\xfeJLL\fc}\x18\"\xe2{\xef\xbd't\xbf\x84{Xxx8c\xe1\x13\"\xe2\u07bd{݂\x00:\x9d\x0eW\xaf^\x8dJ\xa5\x92\x8c\xff\xff\xa4\xac\xac\x8cQg\x06\x83\x01#\"\"ܗ\x00\x00\x80\xeb\u05efgTBOO\x0fN\x992E\xb2\x04 ?\xbfoIKKc,\x8bAD|\xf7\xddw]\xd17a\x1f\x18\x16\x16\x86mmm\x8c\x8a\xa8\xaa\xaaB///\xc9\x11\x80\xfc\xfc\xbeE\xa1P`uu5\xa3\xee\xf4z=\x06\a\a\xbb?\x01\x00\x00\xdfy\xe7\x1dVc\xca\xcfϗ\f\x01\xc8\xcfg\x96\xd7_\u007f\x9dU\x87\x85\x85\x85\xae\xea\x9fk\x0eA\xb0\xe5\x05\x8cF#\x0e\x1b6L\xd4\x04\xf0\xf4\xfd|.\xa2\xd1h\xb0\xbd\xbd\x9dQ\x8f\xf5\xf5\xf5.;\x1c\x05\xaeR\xccҥKY\r\xac\xb2\xb2\x92\x97\x84H\u007f\t`\xb1Xpǎ\x1d\x18\x1a\x1aJFΒ\x00={\xf6,\xab>\x9f\u007f\xfeyW\xf6\xd35\x0f\x96\xc9dXYYɪ\x9c\xb5k\u05ca\x8a\x00\xe4\xe7s\x977\xdf|\x93U\x9f\xdf}\xf7\x9d\xab\xfb麇\x8f\x181\x02M&\x13kU\xe0\xb8q\xe3\\N\x00\xf2\xf3퓉\x13'\xb2\xd6\xfb\xf0\xe9\xe6J\x82\x00\x00\x80o\xbc\xf1\x06\xab\xf1i\xb5Z\f\v\vs\t\x01\xc8Ϸ_BBB\xb0\xa1\xa1\x81U\xb7k֬\x11C\u007f]\xbfEv\xf1\xe2EVe\x1d?~\xdci\xf1\x00\x17\x02\xd0~\xbe\xe3~\xffɓ'Y\xf5{\xe1\xc2\x05T(\x14D\x00\x00\xc0\x84\x84\x04֝\x02D\xc4\xe2\xe2bA\b@~>\u007f\x89\xceތ\xef\x88\x11#\xc4\xd2gq(.''\x87\x93K\xb2r\xe5J\xde\b@~~\xff$33\x93\xd3\x1c\xbe\xf4\xd2Kb\xea\xb7x\x14x\xe8\xd0!V\xe5\x99\xcdf\x9c={\xb6S\t@~~\xff%==\x1d-\x16\v\xeb\xfc\xed\u07ff_l}\x17OgT*\x15\xfe\xfe\xfb\xef\xacJ4\x1a\x8d\xf8\xf4\xd3O\xf7\x9b\x00\xe4\xe7;G&M\x9a\xc4Z\xe4\xd8{\x02.00\x90\b\xc0$\xf1\xf1\xf1\xa8\xd7\xebY\x95\xd9\xdaڊ\xe3Ǐw\x98\x00\xe4\xe7;GƎ\x1d\x8b---\xac\xf3\xd5\xd6ֆ#G\x8e\x14\xe3\x18ħ\xd4\xf9\xf3\xe7cww7\xabR\x9b\x9b\x9b\x1d\xca\x11\bu\xf2\xcc\xddeܸq\xd8\xdc\xdc\xcc:O\xdd\xdd\xdd8o\xde<\xb1\x8eC\x9c\xca\xcd\xcd\xcd\xe5\x14P\xe9\xf5z\x9c<y2\x19\xa4\xc02e\xca\x14N+\xb5\v\x8e8\xba\a\x01\x00\x00\xb7m\xdb\xc6I\xc1\xed\xed\xed8g\xce\x1c2L\x01\x03^\xb6s\xbd\xbdؼy\xb3\xd8\xc7#\xde\xce\xc9\xe5r\xfc\xe2\x8b/8)\xba\xbb\xbb\xdb)[\xa4$̲|\xf9r\xd6\x12\x87^\xecٳG\xc8\xdb\x1d\u070f\x00\xbd\x99\xe2#G\x8ep.](..\x96\x82\xd2%\x99\xe1\xe5\x92\xe4\xea\xc5\xe1ÇŒ\xe9\x956\x01\x00\x00}||\xb0\xbc\xbc\x9c\xb3\xf2\x8f\x1f?\x8e!!!d\xb8N<\xc5ǥ\xbc\xa1\x17\xe5\xe5\xe5RʩHc\x12|||\xecZ\t\x1a\x1b\x1b\x1d\xde&%y\xb4\xaaS\xab\xd5\xda\xf5\xe6\x97XBQZ\xcb\xf0\xeeݻ\xed:\xb8RTT\xc4\xeb\xf9bw\x15\x99L\x86\xb9\xb9\xb9\xd8\xd5\xd5\xc5Y\xdf\xfb\xf6퓊\xdb#M\x02\xf4\x06\xc6[\xb7n\xb5\xab\x96\xff̙3b\xa8;\x97\x8c\f\x1f>\x9c\xd3I\xae\xc7/5\x93h\xec%\xcdI\xca\xce\xce\xe6T{\xf2\xf0\xa5[\x05\x05\x05\xb4\x1a\xb0l8\xe4\xe6\xe6r*kxx\xf7\xed\x95W^\x91\xf2\xb8\xa5;a\xf3\xe7\xcf\xc7\xd6\xd6V\xbb\xdeT\x97.]\xa2\xc4Y\x1f2u\xeaT֫K\xfa*G\x11q\x86\xd7\xfd\t\x00\x00\x98\x98\x98\x88\u05ee]\xb3k\xe2zzz\xf0\xcb/\xbfġC\x87z\xbc\xe1\xc7\xc4\xc4\xe0\x81\x03\a\xec>\"Z[[\x8b\xf1\xf1\xf1\xee\xa0\x03\xe9O\xa2Z\xadƃ\a\x0f\xda=\x89\x1d\x1d\x1d\xb8u\xebV\x8f\xac\r\x8a\x8c\x8c\xc4\xed۷\xb3\xde\xd5i\xab\xa4\xd9\x15\x1f7$\x02\xb0HVV\x16\xa7\x93e}\x95WoܸQЏt\xb8J\x86\f\x19\x82\x9b6m\xe2\\\xca\xf0\xf8I.\x91\x1df!\x02\xf4u\xbc\xb2\xaa\xaaʡ+O\xccf3\x96\x96\x96bJJ\x8a\xdb\x19~JJ\n\xeeٳ\x87s\x19C_gxEt\x8c\x91\b\xc0e7Ñ\u0560\x17\x17/^\xc4\xec\xeclT\xabՒv\r_x\xe1\x05\xac\xa8\xa8pX\x0f&\x93\t\x8b\x8a\x8a\xdc\xf9\x96k\xf7]\xee\xe3\xe2\xe2\xf0\xf4\xe9\xd3\xfd\xba\x05\xae\xbd\xbd\x1d\x0f\x1c8\x80\v\x17.D???я\xd9\xcf\xcf\x0f\x17-Z\x84eee\x0e\xb99\x0f\xe3\xe4ɓ\x9e\x90?q\xff\x80o\xf1\xe2Ŭw\x91r\xf5\x81\xbf\xfe\xfak\xcc\xc9\xc9\xc1\x98\x98\x18ьO\xa3\xd1\xe0\x8a\x15+\xf0믿\xeeת\xf7\xf0]\x9d\v\x17.\xf4\x94\r\x01\xcf\xd8\xf5\xf0\xf5\xf5ŷ\xdez\xcb\xee\xbc\x01\x9b\xa1\x94\x96\x96bNN\x0e\x8e\x1d;V\x90\x1a\x18ooo\x1c;v,\xe6\xe4\xe4`ii)\xa7\v\xa8\xb8B\xaf\xd7caa\xa1+/\xaa\x15\xbe䣗\x05\x9e\x82\x90\x90\x10X\xb3f\r\xacZ\xb5\nT*\x95S\u007f\xdbb\xb1\xc0\x1f\u007f\xfc\x01\xb5\xb5\xb5P__\x0f\x8d\x8d\x8d\xa0\xd5j\xe1\xf6\xed۠\xd3\xe9@\xa7Ӂ\xd5je\xfc\r///\b\r\r\x85\xd0\xd0P\x88\x8a\x8a\x82\xd8\xd8X\x88\x8d\x8d\x85\xe1Ç\xc3\xe8ѣ!>>\x1e\x94J\xa5S\xfbm0\x18`\xfb\xf6\xed\xb0i\xd3&x\xf0\xe0\x81'\x99\x03x\x1c\x01z\x11\x1e\x1e\x0eyyy\xb0b\xc5\n\b\x0e\x0e\x16\xec\xb9z\xbd\x1e,\x16\v\x18\f\x86G\xfe\xaeV\xabA\xa9TBPP\x90`}iii\x81\x8f>\xfa\b\xb6n\xdd\n\xcd\xcd\xcd\xe0\xa9\xf0\xe8L\xa8J\xa5\xc2\xdc\xdc\\\xa7\xba\x12bG}}=\xaeZ\xb5\n\x03\x02\x02\xa8\f\x84\x14\xf0\xbf*\xd3\x193f`YY\x99]%\xc0RAWW\x17~\xfb\xed\xb7\x98\x91\x91A\x05\x81D\x00f\x89\x88\x88\xc0U\xabV\xe1\x8f?\xfe\x88V\xabU\xb2Fo\xb5Z\xf1\x87\x1f~\xc0W^y\x85.\xff\xa2 \xd81\f\x192\x04\x16.\\\b\xe9\xe9\xe9\xf0\xf4\xd3O\x83\xaf\xaf\xaf\xa8\xfb\xdb\xd9\xd9\tgϞ\x85\xf2\xf2r\xf8ꫯ\xe0\xe6͛4\x89\x14\x04;\a\xfe\xfe\xfe\xf0\xec\xb3\xcf\xc2\xf4\xe9\xd3!--\rRSS\x9d\xbe#\xe3\xc8\xceӥK\x97\xe0ܹsp\xea\xd4)8{\xf6,\x98L&\x9a,\"\x800\x84\x980a\x02\xa4\xa4\xa4\xc0\xe8ѣa̘10j\xd4(\xf0\xf7\xf7\xe7\xe5y&\x93\t~\xff\xfdw\xa8\xa9\xa9\x81\xabW\xafBuu5TUUAGG\aM\x06\x11@<\x88\x8c\x8c\x04\x8dF\x03\xb1\xb1\xb10x\xf0`\x88\x88\x88\xf8\xef\u07be\xbf\xbf?\x04\x06\x06\x82\x97\x97\x17(\x14\n\x00\x00\xe8\xee\xee\x06\xab\xd5\nmmm`2\x99@\xa7\xd3Ass3\xfc\xf3\xcf?p\xeb\xd6-\xd0j\xb5\xd0\xd8\xd8\bw\xef\xde%\xe5\x12\x01\b\x04\xe7AN* \x10\x01\b\x04\"\x00\x81@\x04 \x10\x88\x00\x04\x02\x11\x80@ \x02\x10\bD\x00\x02\x81\b@ \x10\x01\b\x04\"\x00\x81@\x04 \x10\x88\x00\x04\x02\x11\x80@ \x02\x10\bD\x00\x02\x81\b@ \x10\x01\b\x04\"\x00\x81 ~\xfc\x1b\xfdZ\x9d,\xd7\xf6m\xee\x00\x00\x00\x00IEND\xaeB`\x82")
	// AssetsAppBlackPNGDate is gzip encoded assets/app-black.png
	AssetsAppBlackPNGDate = time.Unix(1527896175, 0)
	// AssetsAppBlackSVG is assets/app-black.svg
	AssetsAppBlackSVG = []byte("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"192\" height=\"192\" viewBox=\"0 0 200 200\">\n<rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"#000000\"/>\n<g stroke=\"#ffffff\" stroke-width=\"12\" fill=\"#ffffff\">\n  <path class=\"fill play\" d=\"M 70,60 140,100 70,140 z\"/>\n</g>\n<g stroke=\"#ffffff\" stroke-width=\"8\" fill=\"none\">\n  <path class=\"stroke play_circle\" d=\"M 25,100 A 75,75 0 1,1 175,100 A 75,75 0 1,1 25,100 z\"/>\n</g>\n</svg>\n")
	// AssetsAppBlackSVGDate is gzip encoded assets/app-black.svg
	AssetsAppBlackSVGDate = time.Unix(1527896175, 0)
	// AssetsAppCSS is assets/app.css
	AssetsAppCSS = []byte("/* base */\n\nbody {\n  text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  margin: 0;\n  border: 0;\n  padding: 0;\n}\n\ninput::-moz-focus-inner,\ninput[type=range]::-moz-focus-outer,\nbutton::-moz-focus-inner {\n  border: 0;\n}\n\nbutton {\n  color: inherit;\n  font-family: inherit;\n  font-weight: inherit;\n  text-align: inherit;\n  text-indent: inherit;\n  outline: 0;\n  padding: 0;\n  margin: 0;\n  border: 0;\n  background-color: transparent;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\nbutton:hover,\nbutton:active {\n  outline: 0;\n}\n\nli,\nol {\n  list-style-type: none;\n}\n\n/* layout, state */\n\nbody,\nhtml {\n  position: fixed;\n}\n\nbody {\n  display: flex;\n  flex-flow: column nowrap;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  padding: constant(safe-area-inset-top) constant(safe-area-inset-right) constant(safe-area-inset-bottom) constant(safe-area-inset-left);\n}\n\nmain {\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  z-index: 1;\n  min-height: 0;\n}\n\nheader {\n  width: 100%;\n  height: 44px;\n  box-sizing: border-box;\n  z-index: 1;\n}\n\n.scrollable {\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  overflow-scrolling: touch;\n  min-height: 0;\n}\n\n.background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n.background-image {\n  background-position: center;\n  margin: -64px;\n  height: calc(100% + 128px);\n  width: calc(100% + 128px);\n}\n\nfooter {\n  bottom: 0;\n  width: 100%;\n  z-index: 1;\n}\n\n.lists {\n  display: block;\n  transition: transform 0.4s 0s ease-out;\n}\n\n.main {\n  display: flex;\n  left: -50%;\n  position: relative;\n  transition: transform 0.4s 0s ease-out;\n  overflow: hidden;\n}\n\n.main.swipe {\n  transition: none;\n}\n\n@media (orientation: portrait) {\n  main {\n    width: 200vw;\n  }\n\n  .full {\n    width: 100vw;\n  }\n\n  .main.swipe,\n  .lists.swipe {\n    transition: none;\n  }\n\n  .main.swiped,\n  .lists.swiped {\n    transition: transform 0.4s 0s ease-out;\n  }\n\n  .view-main .main,\n  .view-list .lists {\n    transform: translate3d(0, 0, 0);\n  }\n\n  .view-main .lists {\n    transform: translate3d(-100%, 0, 0);\n  }\n\n  .view-list .main {\n    transform: translate3d(100%, 0, 0);\n  }\n\n  footer {\n    height: 120px;\n  }\n}\n\n@media (orientation: landscape) {\n  .full {\n    width: 50vw;\n  }\n\n  .main {\n    transform: translate3d(100%, 0, 0);\n  }\n\n  .lists {\n    transform: translate3d(0, 0, 0);\n  }\n\n  footer {\n    height: 90px;\n  }\n}\n\n.modal-background,\n.modal-outer {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.modal-background {\n  z-index: 1000;\n}\n\n.modal-outer {\n  display: flex;\n  z-index: 1001;\n  align-items: center;\n  justify-content: center;\n}\n\n/* module, state, theme */\n\nbody {\n  font-size: 16px;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Migu 1C\", \"Noto Sans CJK JP Regular\", \"Noto Sans CJK JP\", Arial, sans-serif;\n  font-feature-settings: 'palt' 1;\n  transition: color 0.2s 0s ease-out, background-color 0.2s 0s ease-out;\n}\n\nbody.light {\n  color: #303030;\n  background-color: #ffffff;\n}\n\nbody.dark {\n  color: #d0d0d0;\n  background-color: #000000;\n}\n\nkbd {\n  font-family: monospace, sans-serif;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 32px;\n  height: 32px;\n  font-size: 16px;\n  color: #404040;\n  border-radius: 3px;\n  margin: 3px;\n  box-sizing: border-box;\n}\n\nkbd kbd {\n  padding: 6px;\n  background-color: #e0e0e0;\n}\n\nsvg path {\n  transition: stroke 0.2s 0s ease-out, fill 0.2s 0s ease-out;\n}\n\n.light svg .fill {\n  stroke: #404040;\n  fill: #404040;\n}\n\n.light svg .stroke {\n  stroke: #404040;\n  fill: none;\n}\n\n.dark svg .fill {\n  stroke: #e0e0e0;\n  fill: #e0e0e0;\n}\n\n.dark svg .stroke {\n  stroke: #e0e0e0;\n  fill: none;\n}\n\n.rtl .reversible-icon {\n  transform: scale(-1, 1);\n}\n\n.contextmenu {\n  display: none;\n}\n\n.background-overlay {\n  transition: background-color 0.2s 0s ease-out;\n}\n\n.light .background-overlay {\n  background-color: rgba(255, 255, 255, 0.4);\n}\n\n.dark .background-overlay {\n  background-color: rgba(0, 0, 0, 0.4);\n}\n\n.auto-hide-scrollbar .scrollable {\n  overflow-y: auto;\n}\n\n.auto-hide-scrollbar .scrollable::-webkit-scrollbar {\n  width: 12px;\n}\n\n.auto-hide-scrollbar .scrollable::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  padding: 2px;\n  margin: 2px;\n}\n\n.light.auto-hide-scrollbar .scrollable::-webkit-scrollbar-thumb {\n  background-color: rgba(48, 48, 48, 0.2);\n}\n\n.light.auto-hide-scrollbar .scrollable::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(48, 48, 48, 0.6);\n}\n\n.dark.auto-hide-scrollbar .scrollable::-webkit-scrollbar-thumb {\n  background-color: rgba(208, 208, 208, 0.2);\n}\n\n.dark.auto-hide-scrollbar .scrollable::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(208, 208, 208, 0.6);\n}\n\n.list-item {\n  margin-top: 1px;\n  transition: border-bottom 0.2s 0s ease-out;\n}\n\n.light .list-item {\n  border-bottom: dashed 1px #404040;\n}\n\n.dark .list-item {\n  border-bottom: dashed 1px #e0e0e0;\n}\n\n.header-items {\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 0 10px;\n  width: 100%;\n  height: 44px;\n  box-sizing: border-box;\n}\n\n.header-item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n}\n\n.header-item:first-of-type {\n  margin: 0;\n}\n\n.header-item:nth-of-type(n+2) {\n  margin: 0 0 0 10px;\n}\n\n.header-iconlabel {\n  min-width: 0;\n}\n\n.header-space {\n  visibility: hidden;\n  flex: 1 1 auto;\n}\n\n.header-item-iconlabel {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  min-width: 0;\n}\n\n.header-item-icon {\n  height: 32px;\n  stroke-width: 16;\n  transition: width 0.2s 0s ease, height 0.2s 0s ease;\n}\n\n.animation .header-item:hover .header-item-icon {\n  animation: hover_img 0.5s linear 0s;\n}\n\n.header-item:active .header-item-icon,\n.header-item.active .header-item-icon {\n  height: 28px;\n}\n\n.header-item-label {\n  flex: 1 1 auto;\n  margin: 0 4px;\n  font-size: 17px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.view-list .header-back.root {\n  visibility: hidden;\n}\n\n@media (orientation: portrait) {\n  .view-main .header-back-label {\n    display: none;\n  }\n\n  .view-main .header-main.playing {\n    display: none;\n  }\n}\n\n@media (orientation: landscape) {\n  .view-main .header-back.root {\n    visibility: hidden;\n  }\n\n  .header-main.playing {\n    display: none;\n  }\n}\n\n.background-image {\n  background-size: cover;\n}\n\n.background-image.hide {\n  display: none;\n}\n\n.lists {\n  position: relative;\n  overflow: hidden;\n}\n\n.list {\n  position: absolute;\n  flex-flow: column nowrap;\n  width: 100%;\n  height: 100%;\n  transition: transform 0.4s 0s ease-out;\n}\n\n.list.swipe {\n  transition: none;\n}\n\n.list-items {\n  padding: 0 12px;\n  margin: 0;\n  box-sizing: border-box;\n}\n\n.list.hide {\n  display: none;\n}\n\n.albumlist.grid.list-items {\n  padding: 0 12px;\n  margin: 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n\n.plain,\n.song,\n.album {\n  display: flex;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.light .plain.selected,\n.light .song.selected,\n.light .album.selected {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\nbutton:hover {\n  cursor: pointer;\n}\n\n.hover {\n  cursor: pointer;\n}\n\n.swipe .hover {\n  cursor: move;\n}\n\n.swipe {\n  cursor: move;\n}\n\n.light .plain.hover,\n.light .song.hover,\n.light .album.hover {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.dark .plain.selected,\n.dark .song.selected,\n.dark .album.selected {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n.dark .plain.hover,\n.dark .song.hover,\n.dark .album.hover {\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.album {\n  align-items: center;\n}\n\n.album-detail {\n  display: flex;\n  flex-direction: column;\n}\n\n.album-coverbox {\n  width: 70px;\n  height: 70px;\n  padding: 5px;\n}\n\n.album-cover {\n  width: 70px;\n  height: 70px;\n  border-radius: 2px;\n  object-fit: contain;\n}\n\n.album-detail-album {\n  font-size: 22px;\n  line-height: 1.0;\n  padding: 5px 0;\n}\n\n.album-detail-date {\n  font-size: 10px;\n}\n\n.album-detail-albumartist {\n  font-size: 14px;\n}\n\n.albumlist.grid > .album {\n  flex-flow: column nowrap;\n  align-items: center;\n  width: 160px;\n  height: 200px;\n  border: 0;\n}\n\n.albumlist.grid .album-coverbox {\n  width: 150px;\n  height: 150px;\n  padding: 5px;\n}\n\n.albumlist.grid .album-cover {\n  width: 150px;\n  height: 150px;\n  object-fit: contain;\n}\n\n.albumlist.grid .album-detail {\n  width: 100%;\n  height: 40px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n}\n\n.albumlist.grid .album-detail-album {\n  max-width: 100%;\n  overflow: hidden;\n  font-size: 14px;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n\n.albumlist.grid .album-detail-date,\n.albumlist.grid .album-detail-albumartist {\n  display: none;\n}\n\n.plain {\n  align-items: baseline;\n}\n\n.albumlist.grid > .plain {\n  display: none;\n}\n\n.plain-key {\n  margin: 4px;\n  font-size: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 1.55;\n}\n\n.song {\n  align-items: center;\n  padding: 4px 0;\n}\n\n.song-playingicon {\n  opacity: 0;\n  margin: 0;\n  width: 0;\n  height: 0;\n  transition: width 0.1s 0s ease, height 0.1s 0s ease;\n}\n\n.hover .song-playingicon,\n.playing .song-playingicon {\n  width: 22px;\n  height: 22px;\n}\n\n.hover .song-playingicon {\n  opacity: 0.6;\n}\n\n.playing .song-playingicon {\n  opacity: 1;\n}\n\n.song-title {\n  font-size: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 1.55;\n}\n\n.song-artist {\n  flex: 1 1 auto;\n  opacity: 0.7;\n}\n\n.song-track,\n.song-artist,\n.song-elapsed,\n.song-lengthseparator,\n.song-length {\n  font-size: 12px;\n}\n\n.song-track,\n.song-title,\n.song-artist,\n.song-elapsed,\n.song-lengthseparator,\n.song-length {\n  margin: 0 4px;\n}\n\n.song-lengthseparator[aria-hidden=\"true\"],\n.song-elapsed[aria-hidden=\"true\"] {\n  display: none;\n}\n\n@media (max-width: 400px), (max-width: 800px) and (orientation: landscape) {\n  .song {\n    flex-flow: row wrap;\n  }\n\n  .song-track,\n  .song-lengthseparator,\n  .song-length {\n    display: none;\n  }\n\n  .song-elapsed {\n    margin: 0;\n  }\n\n  .song-title {\n    flex: 1 1 auto;\n    width: 100%;\n  }\n\n  .playing .song-title {\n    width: calc(100% - 60px);\n  }\n\n  .song-artist {\n    flex: 0 1 auto;\n    order: 10;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n}\n\n@media (max-height: 400px) {\n  .list-header {\n    display: none;\n  }\n}\n\n.main {\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.main-box-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 100%;\n  font-size: 20px;\n}\n\n.main-cover {\n  position: relative;\n  width: 70%;\n  height: 70%;\n  flex: 1 0 auto;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.main-cover.circled {\n  flex: 0 0 auto;\n}\n\n@media (orientation: portrait) {\n  .main-cover {\n    width: calc(80vh - 200px);\n    height: calc(80vh - 200px);\n  }\n}\n\n@media (orientation: landscape) and (max-aspect-ratio: 2/1) {\n  .main-cover {\n    width: calc(50vw - 200px);\n    height: calc(50vw - 200px);\n  }\n}\n\n@media (orientation: landscape) and (min-aspect-ratio: 2/1) {\n  .main-cover {\n    width: calc(100vh - 200px);\n    height: calc(100vh - 200px);\n  }\n}\n\n.main-cover-img {\n  position: absolute;\n  left: 5%;\n  top: 5%;\n  width: 90%;\n  height: 90%;\n  min-height: 10px;\n  background-position: center center;\n  background-size: contain;\n  background-repeat: no-repeat;\n  border-radius: 1%;\n}\n\n.circled .main-cover-img {\n  background-size: cover;\n  border-radius: 100%;\n}\n\n.main-cover-circle {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  stroke-width: 4;\n  visibility: hidden;\n}\n\n.circled .main-cover-circle {\n  visibility: visible;\n}\n\n.main-cover-circle-inactive {\n  stroke-opacity: 0.5;\n}\n\n@media (orientation: landscape) {\n  .system-nav {\n    width: 25%;\n    display: flex;\n    padding: 20px 0;\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .system-nav-item {\n    height: 40px;\n    font-size: 18px;\n    text-align: left;\n    padding: 0 20px;\n    margin: 0 10px;\n  }\n\n  .light .system-nav-item {\n    color: #404040;\n  }\n\n  .dark .system-nav-item {\n    color: #e0e0e0;\n  }\n\n  .system-nav-item.on {\n    border-radius: 2px;\n  }\n\n  .light .system-nav-item.on {\n    background-color: #404040;\n    color: #e0e0e0;\n  }\n\n  .dark .system-nav-item.on {\n    background-color: #e0e0e0;\n    color: #404040;\n  }\n\n  .system-article {\n    width: 75%;\n  }\n}\n\n@media (orientation: portrait) {\n  .modal-system {\n    flex-flow: column nowrap;\n  }\n\n  .system-nav {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .system-nav-item {\n    padding: 3px 8px;\n    color: #e0e0e0;\n    font-size: 18px;\n    box-sizing: border-box;\n    border-style: solid none;\n    border-width: 3px;\n    height: 36px;\n  }\n\n  .light .system-nav-item {\n    border-color: #404040;\n    color: #404040;\n  }\n\n  .dark .system-nav-item {\n    border-color: #e0e0e0;\n    color: #e0e0e0;\n  }\n\n  .system-nav-item:first-child,\n  .rtl .system-nav-item:last-child {\n    border-style: solid;\n    border-radius: 20px 0 0 20px / 20px 0 0 20px;\n    padding: 3px 8px 3px 12px;\n  }\n\n  .system-nav-item:last-child,\n  .rtl .system-nav-item:first-child {\n    border-style: solid;\n    border-radius: 0 20px 20px 0 / 0 20px 20px 0;\n    padding: 3px 12px 3px 8px;\n  }\n\n  .light .system-nav-item.on {\n    background-color: #404040;\n    color: #e0e0e0;\n  }\n\n  .dark .system-nav-item.on {\n    background-color: #e0e0e0;\n    color: #404040;\n  }\n\n  .system-article {\n    height: calc(100% - 40px);\n  }\n}\n\n.system-nav-item {\n  transition: background-color 0.2s 0s ease-out, color 0.2s 0s ease-out;\n}\n\n.system-article {\n  display: none;\n  padding: 10px 0 0 0;\n}\n\n.system-article.on {\n  display: block;\n}\n\n.system-article-sub {\n  padding: 0 20px 30px 20px;\n}\n\n.system-article-sub-header {\n  font-size: 19px;\n  padding: 6px 10px;\n  margin: 0;\n}\n\n.system-settings {\n  padding: 0;\n  margin: 0;\n}\n\n.system-setting {\n  align-items: center;\n  display: flex;\n}\n\n.system-setting-desc {\n  font-size: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 1 1 auto;\n  padding: 8px 8px 8px 0;\n}\n\n.system-setting-value-expand {\n  flex: 1 1 auto;\n}\n\n.system-article-sub.hide,\n.system-article-sub-header.hide,\n.system-setting.hide {\n  display: none;\n}\n\n.information-list {\n  padding: 0 20px;\n  margin: 0;\n}\n\n.information-box {\n  padding: 0 0 16px 0;\n}\n\n.license-box {\n  display: flex;\n  flex-direction: column;\n}\n\n.link {\n  padding: 2px 0 0 0;\n}\n\n.product-name {\n  font-size: 18px;\n}\n\n.product-version {\n  padding: 0 0 0 6px;\n  font-size: 12pt;\n}\n\n.product-link {\n  font-size: 16px;\n}\n\n.license-link {\n  font-size: 12px;\n}\n\n.light .product-version,\n.light .product-link,\n.light .license-link {\n  color: #404040;\n}\n\n.dark .product-version,\n.dark .product-link,\n.dark .license-link {\n  color: #c0c0c0;\n}\n\n.config-range {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  width: 100%;\n  appearance: none;\n  -webkit-appearance: none;\n  height: 30px;\n  outline: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background-color: transparent;\n}\n\n.config-range:hover {\n  cursor: pointer;\n}\n\n.config-range::-webkit-slider-runnable-track {\n  -webkit-appearance: none;\n  appearance: none;\n  transition: background-color 0.2s 0s ease-out;\n  border-radius: 4px;\n  height: 4px;\n}\n\n.dark .config-range::-webkit-slider-runnable-track {\n  background-color: #e0e0e0;\n}\n\n.light .config-range::-webkit-slider-runnable-track {\n  background-color: #404040;\n}\n\n.config-range::-ms-track {\n  -webkit-appearance: none;\n  appearance: none;\n  transition: background-color 0.2s 0s ease-out;\n  border-radius: 4px;\n  height: 4px;\n}\n\n.dark .config-range::-ms-track {\n  background-color: #e0e0e0;\n}\n\n.light .config-range::-ms-track {\n  background-color: #404040;\n}\n\n.config-range::-moz-range-track {\n  -moz-appearance: none;\n  appearance: none;\n  border-radius: 4px;\n  height: 4px;\n  transition: background-color 0.2s 0s ease-out;\n}\n\n.light .config-range::-moz-range-track {\n  background-color: #404040;\n}\n\n.dark .config-range::-moz-range-track {\n  background-color: #e0e0e0;\n}\n\n.config-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  margin: -14px 0 0 0;\n  width: 30px;\n  height: 30px;\n  box-sizing: border-box;\n  border-radius: 30px;\n  transition: border 0.2s 0s ease-out, background-color 0.2s 0s ease-out;\n}\n\n.light .config-range::-webkit-slider-thumb {\n  border: solid 3px #404040;\n  background-color: #ffffff;\n}\n\n.dark .config-range::-webkit-slider-thumb {\n  border: solid 3px #e0e0e0;\n  background-color: #202020;\n}\n\n.config-range::-ms-thumb {\n  appearance: none;\n  margin: 0 0 0 0;\n  width: 30px;\n  height: 30px;\n  box-sizing: border-box;\n  border-radius: 30px;\n  transition: border 0.2s 0s ease-out, background-color 0.2s 0s ease-out;\n}\n\n.light .config-range::-ms-thumb {\n  border: solid 3px #404040;\n  background-color: #ffffff;\n}\n\n.dark .config-range::-ms-thumb {\n  border: solid 3px #e0e0e0;\n  background-color: #202020;\n}\n\n.config-range::-moz-range-thumb {\n  -moz-appearance: none;\n  appearance: none;\n  width: 30px;\n  height: 30px;\n  box-sizing: border-box;\n  border-radius: 30px;\n  transition: border 0.2s 0s ease-out, background-color 0.2s 0s ease-out;\n}\n\n.light .config-range::-moz-range-thumb {\n  border: solid 3px #404040;\n  background-color: #ffffff;\n}\n\n.dark .config-range::-moz-range-thumb {\n  border: solid 3px #e0e0e0;\n  background-color: #202020;\n}\n\n.slideswitch {\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  margin: 0;\n  padding: 0;\n  display: block;\n  height: 30px;\n  width: calc(100px);\n  border-width: 0;\n  border-radius: 30px;\n  transition: background-color 0.2s 0s ease-out, width 0.2s 0s ease-out, border 0.2s 0s ease-out;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n@media (max-width: 500px), (max-width: 600px) and (orientation: landscape) {\n  .slideswitch {\n    width: 50px;\n  }\n}\n\n.slideswitch:hover {\n  cursor: pointer;\n}\n\n.slideswitch:focus {\n  outline: 0;\n}\n\n.light .slideswitch {\n  background-color: rgba(64, 64, 64, 0);\n  border: solid 3px #404040;\n}\n\n.light .slideswitch:checked {\n  background-color: rgba(64, 64, 64, 1);\n}\n\n.dark .slideswitch {\n  background-color: rgba(224, 224, 224, 0);\n  border: solid 3px #e0e0e0;\n}\n\n.dark .slideswitch:checked {\n  background-color: rgba(224, 224, 224, 1);\n}\n\n.slideswitch:after {\n  content: \"\";\n  display: block;\n  position: relative;\n  box-sizing: border-box;\n  left: -3px;\n  top: -3px;\n  width: 56px;\n  height: 30px;\n  border-radius: 30px;\n  transition: background-color 0.2s 0s ease-out, left 0.2s 0s ease-out, border 0.2s 0s ease-out;\n}\n\n.rtl .slideswitch:after {\n  left: 3px;\n}\n\n@media (max-width: 500px), (max-width: 600px) and (orientation: landscape) {\n  .slideswitch:after {\n    width: 30px;\n  }\n}\n\n.light .slideswitch:after {\n  background-color: #ffffff;\n  border: solid 3px #404040;\n}\n\n.dark .slideswitch:after {\n  background-color: #202020;\n  border: solid 3px #e0e0e0;\n}\n\n.slideswitch:checked:after {\n  left: 41px;\n}\n\n.rtl .slideswitch:checked:after {\n  left: -41px;\n}\n\n@media (max-width: 500px), (max-width: 600px) and (orientation: landscape) {\n  .slideswitch:checked:after {\n    left: 17px;\n  }\n\n  .rtl .slideswitch:checked:after {\n    left: -17px;\n  }\n}\n\n.button-simple {\n  border-radius: 24px;\n  height: 30px;\n  margin: 5px;\n  display: flex;\n  align-items: center;\n  padding: 0 24px;\n  font-size: 18px;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  transition: background-color 0.2s 0s ease-out, color 0.2s 0s ease-out, padding 0.2s 0s linear;\n}\n\n.light .button-simple {\n  color: #e0e0e0;\n  background-color: #404040;\n}\n\n.dark .button-simple {\n  color: #404040;\n  background-color: #e0e0e0;\n}\n\n.animation .button-simple:hover {\n  animation: hover_img 0.5s linear 0s;\n}\n\n.button-simple:disabled {\n  animation: none;\n  padding: 4px 24px 0 24px;\n}\n\n.light .button-simple:disabled {\n  color: #a0a0a0;\n  background-color: #303030;\n}\n\n.dark .button-simple:disabled {\n  animation: none;\n  color: #808080;\n  background-color: #f0f0f0;\n}\n\n.button-simple.active,\n.button-simple:active {\n  padding: 4px 24px 0 24px;\n}\n\n.light .button-simple.active,\n.light .button-simple:active {\n  color: #a0a0a0;\n  padding: 4px 24px 0 24px;\n}\n\n.dark .button-simple.active,\n.dark .button-simple:active {\n  color: #808080;\n}\n\n.tool-select {\n  outline: 0;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  width: 100px;\n  height: 30px;\n  line-height: 30px;\n  vertical-align: middle;\n  text-align-last: center;\n  border: none;\n  border-radius: 30px;\n  font-size: 18px;\n  transition: background-color 0.2s 0s ease-out, color 0.2s 0s ease-out;\n}\n\n@media (max-width: 500px), (max-width: 600px) and (orientation: landscape) {\n  .tool-select {\n    width: 50px;\n  }\n}\n\n.tool-select:hover {\n  cursor: pointer;\n}\n\n.light .tool-select {\n  background-color: #404040;\n  color: #ffffff;\n}\n\n.dark .tool-select {\n  background-color: #e0e0e0;\n  color: #404040;\n}\n\n.tool-select:-moz-focusring {\n  outline: 0;\n  color: transparent;\n  transition: none;\n}\n\n.light .tool-select:-moz-focusring {\n  text-shadow: 0 0 0 #ffffff;\n}\n\n.dark .tool-select:-moz-focusring {\n  text-shadow: 0 0 0 #404040;\n}\n\n.popup-box {\n  position: fixed;\n  top: 70px;\n  right: 0;\n  z-index: 101;\n}\n\n.popup {\n  margin: 10px;\n  width: 300px;\n  padding: 0 5px;\n  height: 0;\n  transition: padding 0.2s linear 0s, height 0.2s linear 0s;\n  overflow: hidden;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n.light .popup {\n  background-color: #ffffff;\n}\n\n.dark .popup {\n  background-color: #404040;\n}\n\n.popup.hide {\n  padding: 0 5px;\n  height: 0;\n}\n\n.popup.show {\n  padding: 5px;\n  height: 90px;\n}\n\n.popup-title {\n  margin: 5px;\n}\n\n.popup-description {\n  margin: 5px;\n}\n\nfooter {\n  box-sizing: border-box;\n  padding: 0 10px;\n  border: 0;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  align-content: space-around;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.control-playback {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-playback-toggleplay,\n.control-playback-toggleplay-icon {\n  height: 90px;\n  width: 90px;\n}\n\n.control-playback-toggleplay {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-playback-toggleplay-icon {\n  stroke-width: 8;\n  transition: width 0.2s 0s ease, height 0.2s 0s ease;\n}\n\n.control-playback-toggleplay:active .control-playback-toggleplay-icon,\n.control-playback-toggleplay.active .control-playback-toggleplay-icon {\n  height: 81px;\n  width: 81px;\n}\n\n.control-playback-toggleplay .fill {\n  stroke-width: 12;\n}\n\n.control-playback-toggleplay .play,\n.control-playback-toggleplay .pause {\n  opacity: 0;\n}\n\n.control-playback-toggleplay.play .play,\n.control-playback-toggleplay.pause .pause {\n  opacity: 1;\n}\n\n.control-playback-sub,\n.control-playback-sub-icon {\n  height: 60px;\n  width: 60px;\n}\n\n.control-playback-sub {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.control-playback-sub-icon {\n  stroke-width: 12;\n  transition: width 0.2s 0s ease, height 0.2s 0s ease;\n}\n\n.control-playback-sub:active .control-playback-sub-icon,\n.control-playback-sub.active .control-playback-sub-icon {\n  height: 54px;\n  width: 54px;\n}\n\n.control-volume {\n  height: 30px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border-radius: 50px;\n  flex: 1 1 auto;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background-color: transparent;\n}\n\n.control-volume.hide,\n.control-volume.disabled {\n  visibility: hidden;\n}\n\n.control-volume::-webkit-slider-runnable-track {\n  height: 4px;\n  -webkit-appearance: none;\n  appearance: none;\n  border-radius: 4px;\n}\n\n.light .control-volume::-webkit-slider-runnable-track {\n  background-color: #404040;\n}\n\n.dark .control-volume::-webkit-slider-runnable-track {\n  background-color: #e0e0e0;\n}\n\n.control-volume::-moz-range-track {\n  height: 4px;\n  -moz-appearance: none;\n  appearance: none;\n  border-radius: 4px;\n}\n\n.light .control-volume::-moz-range-track {\n  background-color: #404040;\n}\n\n.dark .control-volume::-moz-range-track {\n  background-color: #e0e0e0;\n}\n\n.control-volume:hover {\n  cursor: pointer;\n}\n\n.control-volume::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  margin: -13px 0 0 0;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n}\n\n.light .control-volume::-webkit-slider-thumb {\n  background-color: #404040;\n}\n\n.dark .control-volume::-webkit-slider-thumb {\n  background-color: #e0e0e0;\n}\n\n.control-volume::-moz-range-thumb {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border-width: 0;\n}\n\n.light .control-volume::-moz-range-thumb {\n  background-color: #404040;\n}\n\n.dark .control-volume::-moz-range-thumb {\n  background-color: #e0e0e0;\n}\n\n.control-sub {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 0 0 10px;\n}\n\n.control-sub,\n.control-sub-icon {\n  width: 32px;\n  height: 32px;\n}\n\n.control-sub-icon {\n  stroke-width: 8;\n  transition: width 0.2s 0s ease, height 0.2s 0s ease;\n}\n\n.control-sub:active .control-sub-icon,\n.control-sub.active .control-sub-icon {\n  width: 28px;\n  height: 28px;\n}\n\n.control-sub.off .control-sub-icon {\n  opacity: 0.5;\n}\n\n.single-off .control-single {\n  opacity: 0;\n}\n\n.single-on .control-single {\n  opacity: 1;\n}\n\n@media (orientation: portrait) {\n  .control-volume {\n    width: 100%;\n    order: -2;\n  }\n\n  .control-repeat {\n    order: -1;\n  }\n}\n\n@media (orientation: landscape) {\n  .control-volume {\n    margin: 0 5px;\n  }\n}\n\n.animation .control-button:hover svg {\n  animation: hover_img 0.5s linear 0s;\n}\n\n.animation .control-button.off:hover svg {\n  animation: hover_img_off 0.5s linear 0s;\n}\n\n@keyframes hover_img {\n  0% {\n    opacity: 1.0;\n  }\n\n  5% {\n    opacity: 0.8;\n  }\n\n  100% {\n    opacity: 1.0;\n  }\n}\n\n@keyframes hover_img_off {\n  0% {\n    opacity: 0.5;\n  }\n\n  5% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 0.5;\n  }\n}\n\n.modal-background,\n.modal-outer {\n  transition: opacity 0.2s 0s linear;\n  overflow: hidden;\n}\n\n.modal-background {\n  opacity: 0.6;\n}\n\n.light .modal-background {\n  background-color: #ffffff;\n}\n\n.dark .modal-background {\n  background-color: #000000;\n}\n\n.modal-background.hide,\n.modal-outer.hide {\n  width: 0;\n  height: 0;\n  opacity: 0;\n}\n\n.modal-window {\n  border-radius: 12px;\n  padding: 12px;\n  position: relative;\n  display: flex;\n  max-height: 80%;\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  cursor: default;\n}\n\n.modal-help,\n.modal-song {\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal-system {\n  align-items: stretch;\n  justify-content: flex-start;\n  min-width: 80%;\n  max-width: 80%;\n  height: 80%;\n}\n\n@media (max-width: 500px), (max-width: 600px) and (orientation: landscape) {\n  .modal-system {\n    max-width: 100%;\n  }\n}\n\n@media (orientation: landscape) {\n  .modal-system {\n    flex-flow: row nowrap;\n  }\n}\n\n@media (orientation: portrait) {\n  .modal-system {\n    flex-flow: column nowrap;\n  }\n}\n\n.modal-window.hide {\n  display: none;\n}\n\n.light .modal-window {\n  background-color: rgba(255, 255, 255, 0.4);\n}\n\n.dark .modal-window {\n  background-color: rgba(0, 0, 0, 0.4);\n}\n\n.modal-window-close {\n  position: absolute;\n  top: -15px;\n  left: 15px;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal-window-close-icon {\n  width: 30px;\n  height: 30px;\n  stroke-width: 24;\n  transition: width 0.2s 0s ease, height 0.2s 0s ease;\n}\n\n.modal-window-close.active .modal-window-close-icon,\n.modal-window-close:active .modal-window-close-icon {\n  width: 24px;\n  height: 24px;\n}\n\n.modal-window-header {\n  font-size: 32px;\n}\n\n.modal-window-header-sub {\n  font-size: 19px;\n}\n\n.modal-window-table {\n  padding: 6px;\n}\n\n.modal-window-tablekey {\n  display: flex;\n  align-items: center;\n}\n\n.modal-window-tableitem {\n  margin: 6px;\n}\n\n@media (min-width: 1440px) {\n  .modal-song {\n    width: 50%;\n  }\n}\n\n@media (max-width: 1440px) and (min-width: 800px) {\n  .modal-song {\n    width: 720px;\n  }\n}\n\n@media (max-width: 800px) {\n  .modal-song {\n    width: 90%;\n  }\n}\n\n.modal-song-box {\n  display: flex;\n  flex-flow: row wrap;\n  width: 100%;\n}\n\n.modal-song-box-items {\n  padding: 0;\n  margin: 0;\n}\n\n.modal-song-box-main {\n  flex: 1 1 auto;\n}\n\n.modal-song-box-sub {\n  flex: 1 1 auto;\n}\n\n@media (min-width: 600px) {\n  .modal-song-box-main {\n    width: calc(100% - 120px);\n  }\n\n  .modal-song-box-sub {\n    width: 120px;\n  }\n}\n\n@media (max-width: 600px) {\n  .modal-song-box-main,\n  .modal-song-box-sub {\n    width: 100%;\n  }\n\n  .modal-song-box-bigitem {\n    display: none;\n  }\n}\n\n.modal-song-box-other {\n  width: 100%;\n}\n\n.modal-song-box-item {\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-flow: column nowrap;\n}\n\n.modal-song-box-bigitem {\n  height: 120px;\n}\n\n.modal-song-box-item-key,\n.modal-song-box-item-value,\n.modal-song-box-item-emptyvalue,\n.modal-song-box-item-values {\n  box-sizing: border-box;\n  flex: 1 1 auto;\n}\n\n.modal-song-box-item-key,\n.modal-song-box-item-value {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 14px;\n  padding: 0 4px;\n}\n\n.modal-song-box-item-key {\n  margin: 6px 4px 0;\n  height: 24px;\n  line-height: 24px;\n}\n\n.modal-song-box-item-values {\n  margin: 0;\n  display: flex;\n}\n\n@media (min-width: 600px) {\n  .modal-song-box-item-values {\n    flex-flow: row nowrap;\n    height: 30px;\n  }\n}\n\n@media (max-width: 600px) {\n  .modal-song-box-item-values {\n    flex-flow: column wrap;\n    height: auto;\n  }\n}\n\n.modal-song-box-item-value {\n  margin: 2px 4px;\n  height: 26px;\n  line-height: 26px;\n}\n\n.modal-song-box-item-img {\n  width: 112px;\n  height: 112px;\n  padding: 2px;\n  margin: 2px;\n  object-fit: contain;\n}\n\n.modal-song-box-item-value-clickable {\n  cursor: pointer;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.light .modal-song-box-item-img,\n.light .modal-song-box-item-value-unclickable {\n  background-color: rgba(255, 255, 255, 0.3);\n}\n\n.light .modal-song-box-item-value-clickable {\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n.light .modal-song-box-item-value-empty {\n  background-color: rgba(215, 215, 215, 0.2);\n}\n\n.dark .modal-song-box-item-img,\n.dark .modal-song-box-item-value-unclickable {\n  background-color: rgba(40, 40, 40, 0.3);\n}\n\n.dark .modal-song-box-item-value-clickable {\n  background-color: rgba(40, 40, 40, 0.7);\n}\n\n.dark .modal-song-box-item-emptyvalue {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n")
	// AssetsAppCSSDate is gzip encoded assets/app.css
	AssetsAppCSSDate = time.Unix(1527975469, 0)
	// AssetsAppHTML is assets/app.html
	AssetsAppHTML = []byte("<!DOCTYPE html>\n<html lang=\"{{ or .lang \"en\" }}\" dir=\"{{ or .direction \"auto\" }}\">\n<head>\n<meta charset=\"UTF-8\"/>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1, viewport-fit=cover\">\n<meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\">\n<meta name=\"apple-mobile-web-app-title\" content=\"Music\">\n<style>\nhtml {\n  background-color: #ffffff;\n}\n.unload {\n  display: none;\n}\n</style>\n<!-- <link rel=\"preload\" as=\"style\" href=\"assets/app.css\" type=\"text/css\" media=\"all\" onload=\"this.rel='stylesheet'\"> -->\n<link rel=\"stylesheet\" href=\"assets/app.css\">\n<link rel=\"manifest\" href=\"/assets/manifest.json\">\n<meta name=\"theme-color\" content=\"#ffffff\"/>\n<meta name=\"Description\" content=\"Music Player Daemon Client\">\n<link rel=\"apple-touch-icon\" sizes=\"192x192\" href=\"/assets/app-black.png\">\n<link rel=\"apple-touch-startup-image\" href=\"/assets/w.png\">\n<meta name=\"mobile-web-app-capable\" content=\"yes\">\n<link rel=\"icon\" sizes=\"192x192\" href=\"/assets/app.png\">\n<script src=\"/assets/app.js\" async></script>\n<title>vv</title>\n</head>\n<body class=\"unload light {{ or .direction \"ltr\" }}\">\n<div id=\"background\" class=\"background\">\n  <div id=\"background-image\" class=\"background-image\"></div>\n  <div id=\"background-overlay\" class=\"background background-overlay\"></div>\n</div>\n<header>\n  <nav class=\"header-items\">\n    <button type=\"button\" id=\"header-back\" class=\"header-item header-back header-iconlabel\" data-title-format=\"{{ or .titleFormatBackTo \"Back to %s\" }}\" data-aria-label-format=\"{{ or .ariaLabelBackTo \"Back to %s\" }}\">\n      <div class=\"header-item-iconlabel\">\n        <svg class=\"header-item-icon reversible-icon\" width=\"24\" height=\"32\" viewBox=\"0 0 150 200\">\n          <path class=\"stroke\" d=\"M 100,40 40,100 100,160\"/>\n        </svg>\n        <span id=\"header-back-label\" class=\"header-back-label header-item-label\"></span>\n      </div>\n    </button>\n    <div class=\"header-item header-space\"></div>\n    <button type=\"button\" id=\"header-main\" class=\"header-item header-main\" title=\"{{ or .titleShowNowPlayingItem \"Show now playing item\" }}\" aria-label=\"{{ or .ariaLabelShowNowPlayingItem \"Show now playing item\" }}\">\n      <svg class=header-item-icon width=\"32\" height=\"32\" viewBox=\"0 0 200 200\">\n        <path class=\"stroke\" d=\"M 100,40 160,100 160,160 40,160 40,100 z\"/>\n      </svg>\n    </button>\n    <button type=\"button\" id=\"header-system\" class=\"header-item\" title=\"{{ or .titleShowSettingsWindow \"Settings\" }}\" aria-label=\"{{ or .ariaLabelShowSettingsWindow \"Show settings window\" }}\">\n      <svg class=header-item-icon width=\"32\" height=\"32\" viewBox=\"0 0 200 200\">\n        <path class=\"stroke\"\n         d=\"M 100,30 100,60 z\n         M 100,170 100,140 z\n         M 30,100 60,100 z\n         M 170,100 140,100 z\n         M 170,100 140,100 z\n         M 100,60 A 40,40 0 1,1 100,140\n         M 100,140 A 40,40 0 1,1 100,60\n         M 50,50 71,71 z\n         M 50,150 71,129 z\n         M 150,50 129,71 z\n         M 150,150 129,129 z\"/>\n      </svg>\n    </button>\n  </nav>\n</header>\n<main dir=\"auto\">\n  <section id=\"lists\" class=\"lists full\">\n    <article id=\"list0\" class=\"full list scrollable\">\n      <ol id=\"list-items0\" class=\"list-items\"></ol>\n    </article>\n    <article id=\"list1\" class=\"full list scrollable\">\n      <ol id=\"list-items1\" class=\"list-items\"></ol>\n    </article>\n    <article id=\"list2\" class=\"full list scrollable\">\n      <ol id=\"list-items2\" class=\"list-items\"></ol>\n    </article>\n    <article id=\"list3\" class=\"full list scrollable\">\n      <ol id=\"list-items3\" class=\"list-items\"></ol>\n    </article>\n    <article id=\"list4\" class=\"full list scrollable\">\n      <ol id=\"list-items4\" class=\"list-items\"></ol>\n    </article>\n    <article id=\"list5\" class=\"full list scrollable\">\n      <ol id=\"list-items5\" class=\"list-items\"></ol>\n    </article>\n    <template id=\"list-album-template\">\n      <li class=\"album list-item\">\n        <div class=\"album-coverbox\">\n          <img class=\"album-cover\" src=\"/assets/nocover.svg\">\n        </div>\n        <div class=\"album-detail\">\n          <span class=\"album-detail-date\" data-text-content=\"Date\"></span>\n          <span class=\"album-detail-album\" data-text-content=\"Album\"></span>\n          <span class=\"album-detail-albumartist\" data-text-content=\"AlbumArtist\"></span>\n        </div>\n      </li>\n    </template>\n    <template id=\"list-song-template\">\n      <li class=\"song list-item\">\n        <span class=\"song-track\" data-text-content=\"TrackNumber\"></span>\n        <svg class=\"song-playingicon reversible-icon\" width=\"22\" height=\"22\" viewBox=\"0 0 100 100\"><path class=\"fill\" d=\"M 25,20 80,50 25,80 z\"></path></svg>\n        <span class=\"song-title\" data-text-content=\"Title\"></span>\n        <span class=\"song-artist\" data-text-content=\"Artist\"></span>\n        <span class=\"song-elapsed\" aria-hidden=\"true\">\n        </span><span class=\"song-lengthseparator\" aria-hidden=\"true\">/</span>\n        <span class=\"song-length\" data-text-content=\"Length\"></span>\n      </li>\n    </template>\n    <template id=\"list-plain-template\">\n      <li class=\"plain list-item\">\n        <span class=\"plain-key\" data-text-content=\"key\"></span>\n      </li>\n    </template>\n  </section>\n  <section id=\"main\" class=\"full main\">\n    <div id=\"main-cover\" class=\"main-cover\">\n      <div id=\"main-cover-img\" class=\"main-cover-img\"></div>\n      <svg id=\"main-cover-circle\" class=\"main-cover-circle\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n          <path id=\"main-cover-circle-active\" class=\"stroke\" d=\"\"></path>\n          <path class=\"main-cover-circle-inactive stroke\" d=\"M 100,10 L 100,10 A 90,90 0 0,1 100,190 L 100,190 A 90,90 0 0,1 100,10\"></path>\n      </svg>\n    </div>\n    <span id=\"main-box-title\" class=\"main-box-text main-box-title\">no title</span>\n    <span id=\"main-box-artist\" class=\"main-box-text main-box-artist\">no artist</span>\n  </section>\n</main>\n<section id=\"popup-box\" class=\"popup-box\">\n  <section id=\"popup-fixme\" class=\"popup hide\">\n    <h3 class=\"popup-title\">{{ or .NotifyFixme \"FIXME\" }}</h3>\n    <span class=\"popup-description\"></span>\n  </section>\n  <section id=\"popup-network\" class=\"popup hide\">\n    <h3 class=\"popup-title\">{{ or .NotifyNetwork \"Network\" }}</h3>\n    <span class=\"popup-description\"\n          data-timeout-retry=\"{{ or .NotifyNetworkTimeoutRetry \"Request timeout. Retrying...\" }}\"\n          data-timeout=\"{{ or .NotifyNetworkTimeout \"Request timeout.\" }}\"\n          data-closed=\"{{ or .NotifyNetworkClosed \"Closed. Reconnecting...\" }}\"\n          data-does-not-respond=\"{{ or .NotifyNetworkDoesNotRespond \"does not respond properly. Reconnecting...\" }}\"\n      ></span>\n  </section>\n</section>\n<div id=modal-background class=\"modal-background hide\">\n</div>\n<div id=modal-outer class=\"modal-outer hide\">\n\n  <div id=modal-help class=\"modal-window modal-help hide\">\n    <button id=modal-help-close class=modal-window-close type=\"button\" value=\"\" title=\"{{ or .titleClose \"Close\" }}\" aria-label=\"{{ or .ariaLabelCloseThisWindow \"Close this window\" }}\">\n      <svg class=\"modal-window-close-icon\" width=\"30\" height=\"30\" viewBox=\"0 0 200 200\">\n        <path class=\"close-button stroke\" d=\"M 40,40 160,160 M 160,40 40,160\"/>\n      </svg>\n    </button>\n    <h1 class=\"modal-window-header\">{{ or .Help \"Help\" }}</h1>\n    <h2 class=\"modal-window-header-sub\">{{ or .KeyboardShortcuts \"Keyboard Shortcuts\" }}</h2>\n    <table class=\"modal-window-table\">\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>space</kbd></kbd></th><td class=modal-window-table-value>{{ or .PlayOrPauseSong \"play or pause song\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>&#x2303;</kbd>+<kbd>&#x21E7;</kbd>+<kbd>&#x2192;</kbd></kbd></th><td class=modal-window-table-value>{{ or .GoToNextSong \"go to next song\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>&#x2303;</kbd>+<kbd>&#x21E7;</kbd>+<kbd>&#x2190;</kbd></kbd></th><td class=modal-window-table-value>{{ or .GoToPreviousSong \"go to previous song\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>&#x2190;</kbd></kbd><kbd><kbd>&#x2191;</kbd></kbd><kbd><kbd>&#x2192;</kbd></kbd><kbd><kbd>&#x2193;</kbd></kbd></th><td class=modal-window-table-value>{{ or .MoveListViewCursor \"move list-view cursor\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>&#x23ce;</kbd></kbd></th><td class=modal-window-table-value>{{ or .ActivateListViewCursorItem \"activate list-view cursor item\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>&#x25c7;</kbd>+<kbd>&#x2190;</kbd></kbd>or<kbd><kbd>&#x232b;</kbd></kbd></th><td class=modal-window-table-value>{{ or .ShowListParent \"show list / parent\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>&#x25c7;</kbd>+<kbd>&#x2192;</kbd></kbd></th><td class=modal-window-table-value>{{ or .ShowNowPlayingItem \"show now playing item\" }}</td>\n      </tr>\n      <tr class=modal-window-tableitem>\n        <th class=modal-window-tablekey><kbd><kbd>?</kbd></kbd></th><td class=modal-window-table-value>{{ or .ShowThisHelp \"show this help\" }}</td>\n      </tr>\n    </table>\n  </div>\n\n  <div id=modal-song class=\"modal-window modal-song hide\">\n    <button id=modal-song-close class=modal-window-close type=\"button\" value=\"\" title=\"{{ or .titleClose \"Close\" }}\" aria-label=\"{{ or .ariaLabelCloseThisWindow \"Close this window\" }}\">\n      <svg class=\"modal-window-close-icon\" width=\"30\" height=\"30\" viewBox=\"0 0 200 200\">\n        <path class=\"close-button stroke\" d=\"M 40,40 160,160 M 160,40 40,160\"/>\n      </svg>\n    </button>\n    <div class=\"scrollable modal-song-box\">\n      <ol class=\"modal-song-box-main modal-song-box-items\">\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoTitle \"Title\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Title\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoArtist \"Artist\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Artist\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoAlbum \"Album\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Album\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoAlbumArtist \"AlbumArtist\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-AlbumArtist\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoGenre \"Genre\" }}</div>\n          <div class=\"modal-song-box-item-values wrappable\" id=\"modal-song-box-Genre\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoComposer \"Composer\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Composer\"></div>\n      </ol>\n      <ol class=\"modal-song-box-sub modal-song-box-items\">\n        <li class=\"modal-song-box-bigitem\">\n          <img class=\"modal-song-box-item-img\" id=\"modal-song-box-cover\" src=\"/assets/nocover.svg\"/>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoDate \"Date\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Date\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoLength \"Length\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Length\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoDisc \"Disc\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Disc\"></div>\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoTrack \"Track\" }}</div>\n          <div class=\"modal-song-box-item-values\" id=\"modal-song-box-Track\"></div>\n      </ol>\n      <ol class=\"modal-song-box-other modal-song-box-items\">\n        <li class=\"modal-song-box-item\">\n          <div class=\"modal-song-box-item-key\">{{ or .SongInfoPerformer \"Performer\" }}</div>\n          <div class=\"modal-song-box-item-values wrappable\" id=\"modal-song-box-Performer\"></div>\n      </ol>\n    </div>\n  </div>\n\n  <div id=\"modal-system\" class=\"modal-window hide modal-system\">\n    <button id=\"modal-system-close\" class=\"modal-window-close\" type=\"button\" value=\"\" title=\"{{ or .titleClose \"Close\" }}\" aria-label=\"{{ or .ariaLabelCloseThisWindow \"Close this window\" }}\">\n      <svg class=\"modal-window-close-icon\" width=\"30\" height=\"30\" viewBox=\"0 0 200 200\">\n        <path class=\"close-button stroke\" d=\"M 40,40 160,160 M 160,40 40,160\"/>\n      </svg>\n    </button>\n    <nav id=\"system-nav\" class=\"system-nav\">\n      <button class=\"system-nav-item on\" id=\"system-nav-preferences\" data-target=\"system-preferences\" type=\"button\">{{ or .Preferences \"Preferences\" }}</button>\n      <button class=\"system-nav-item\" id=\"system-nav-stats\" data-target=\"system-stats\" type=\"button\">{{ or .Stats \"Stats\" }}</button>\n      <button class=\"system-nav-item\" id=\"system-nav-info\" data-target=\"system-info\" type=\"button\">{{ or .Information \"Information\" }}</button>\n    </nav>\n\n    <article id=\"system-preferences\" class=\"scrollable system-article on\">\n      <h1 class=\"system-article-sub-header\">{{ or .System \"System\" }}</h1>\n      <article class=\"system-article-sub\">\n        <ul class=\"system-settings\">\n          <li class=\"list-item system-setting\">\n            <button id=system-reload class=\"system-setting-value button-simple\" type=\"button\">{{ or .ReloadApplication \"Reload Application\" }}</button>\n        </ul>\n      </article>\n      <h1 class=\"system-article-sub-header\">{{ or .Appearance \"Appearance\" }}</h1>\n      <article class=\"system-article-sub\">\n        <ul class=\"system-settings\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"appearance-color-threshold-label\">{{ or .ColorThreshold \"Color threshold\" }}</div>\n            <div class=\"system-setting-value-expand\"><input id=appearance-color-threshold type=\"range\" min=0 max=256 step=1 class=\"config-range\" aria-labelledby=\"appearance-color-threshold-label\"></div>\n          <li class=\"list-item system-setting\" id=\"config-appearance-animation\">\n            <div class=\"system-setting-desc\" id=\"appearance-animation-label\">{{ or .Animation \"Animation\" }}</div>\n            <input type=\"checkbox\" id=\"appearance-animation\" class=\"slideswitch\" aria-labelledby=\"appearance-animation-label\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"appearance-background-image-label\">{{ or .BackgroundImage \"Background image\" }}</div>\n            <input type=\"checkbox\" id=\"appearance-background-image\" class=\"slideswitch\" aria-labelledby=\"appearance-background-image-label\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"appearance-background-image-blur-label\">{{ or .BackgroundImageBlur \"Background image blur\" }}</div>\n            <select class=\"tool-select value\" id=\"appearance-background-image-blur\" aria-labelledby=\"appearance-background-image-blur-label\">\n              <option value=\"0\">0</option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"4\">4</option>\n              <option value=\"8\">8</option>\n              <option value=\"16\">16</option>\n              <option value=\"32\">32</option>\n            </select>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"appearance-circled-image-label\">{{ or .CircledImage \"Circled image\" }}</div>\n            <input type=\"checkbox\" id=\"appearance-circled-image\" class=\"slideswitch\" aria-labelledby=\"appearance-circled-image-label\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"appearance-gridview-album-label\">{{ or .GridviewAlbum \"Gridview album\" }}</div>\n            <input type=\"checkbox\" id=\"appearance-gridview-album\" class=\"slideswitch\" aria-labelledby=\"appearance-gridview-album-label\">\n          <li class=\"list-item system-setting\" id=\"config-appearance-auto-hide-scrollbar\">\n            <div class=\"system-setting-desc\" id=\"appearance-auto-hide-scrollbar-label\">{{ or .AutoHideScrollbar \"Auto hide scrollbar\" }}</div>\n            <input type=\"checkbox\" id=\"appearance-auto-hide-scrollbar\" class=\"slideswitch\" aria-labelledby=\"appearance-auto-hide-scrollbar-label\">\n        </ul>\n      </article>\n      <h1 class=\"system-article-sub-header\">{{ or .Library \"Library\" }}</h1>\n      <article class=\"system-article-sub\">\n        <ul class=\"system-settings\">\n          <li class=\"list-item system-setting\">\n            <button id=library-rescan class=\"system-setting-value button-simple\" type=\"button\">{{ or .Rescan \"Rescan\" }}</button>\n        </ul>\n      </article>\n      <h1 class=\"system-article-sub-header\">{{ or .Playback \"Playback\" }}</h1>\n      <article class=\"system-article-sub\">\n        <ul class=\"system-settings\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"playback-view-follow-label\">{{ or .ListviewFollowsPlayback \"Listview follows playback\" }}</div>\n            <input type=\"checkbox\" id=\"playback-view-follow\" class=\"slideswitch\" aria-labelledby=\"playback-view-follow-label\">\n        </ul>\n      </article>\n      <h1 class=\"system-article-sub-header\" id=\"volume-header\">{{ or .Volume \"Volume\" }}</h1>\n      <article class=\"system-article-sub\" id=\"volume-all\">\n        <ul class=\"system-settings\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"volume-show-label\">{{ or .ShowVolumeNob \"Show volume nob\" }}</div>\n            <input type=\"checkbox\" id=\"volume-show\" class=\"slideswitch\" aria-labelledby=\"volume-show-label\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\" id=\"volume-max-label\">{{ or .MaxVolume \"Max volume\" }}</div>\n            <select class=\"tool-select value\" id=\"volume-max\" aria-labelledby=\"volume-max-label\">\n              <option value=\"50\">50</option>\n              <option value=\"60\">60</option>\n              <option value=\"70\">70</option>\n              <option value=\"80\">80</option>\n              <option value=\"90\">90</option>\n              <option value=\"100\">100</option>\n            </select>\n        </ul>\n      </article>\n      <h1 class=\"system-article-sub-header\">{{ or .Devices \"Devices\" }}</h1>\n      <article class=\"system-article-sub\">\n        <ul class=\"system-settings\" id=\"devices\"></ul>\n        <template id=\"device-template\">\n          <li class=\"system-setting list-item\">\n            <div class=\"system-setting-desc\"></div>\n            <input class=\"slideswitch\" type=\"checkbox\">\n          </li>\n        </template>\n      </article>\n    </article>\n\n    <article id=\"system-stats\" class=\"scrollable system-article\">\n      <h1 class=\"system-article-sub-header\">mpd</h1>\n      <article class=\"system-article-sub\">\n        <ul class=\"system-settings\">\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .Tracks \"Tracks:\" }}</div><div class=\"system-setting-value\" id=stat-tracks></div>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .Artists \"Artists:\" }}</div><div class=\"system-setting-value\" id=stat-artists></div>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .Albums \"Albums:\" }}</div><div class=\"system-setting-value\" id=stat-albums></div>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .TotalLength \"Total length:\" }}</div><div class=\"system-setting-value\" id=stat-db-playtime></div>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .TotalPlaytime \"Total playtime:\" }}</div><div class=\"system-setting-value\" id=stat-playtime></div>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .Uptime \"Uptime:\" }}</div><div class=\"system-setting-value\" id=stat-uptime></div>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .LastLibraryUpdate \"Last library update:\" }}</div><time class=\"system-setting-value\" id=stat-db-update></time>\n          <li class=\"list-item system-setting\">\n            <div class=\"system-setting-desc\">{{ or .Websockets \"Websockets:\" }}</div><div class=\"system-setting-value\" id=stat-websockets></div>\n      </article>\n    </article>\n\n    <article id=\"system-info\" class=\"scrollable system-article\">\n      <h1 class=\"system-article-sub-header\">{{ or .ThisApplication \"This Application\" }}</h1>\n      <ul class=\"information-list\">\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">vv</span>\n            <span class=\"product-version\" id=\"version\"></span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://github.com/meiraka/vv\">https://github.com/meiraka/vv</a>\n            <a class=\"license-link\" href=\"https://github.com/meiraka/vv/blob/master/LICENSE\">{{ or .MITLicense \"MIT license\" }}</a>\n          </div>\n      </ul>\n      <h1 class=\"system-article-sub-header\">{{ or .Compiler \"Compiler\" }}</h1>\n      <ul class=\"information-list\">\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">The Go Programming Language</span>\n            <span class=\"product-version\" id=\"go-version\"></span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://golang.org/\">https://golang.org/</a>\n            <a class=\"license-link\" href=\"https://golang.org/LICENSE\">{{ or .BSD3ClauseLicense \"BSD 3-clause license\" }}</a>\n          </div>\n      </ul>\n      <h1 class=\"system-article-sub-header\">{{ or .Renderer \"Renderer\" }}</h1>\n      <ul class=\"information-list\">\n        <li>\n          <div class=\"information-box\" id=user-agent></div>\n      </ul>\n      <h1 class=\"system-article-sub-header\">{{ or .Credits \"Credits\" }}</h1>\n      <ul class=\"information-list\">\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">github.com/gorilla/websocket</span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://github.com/gorilla/websocket\">https://github.com/gorilla/websocket</a>\n            <a class=\"license-link\" href=\"https://github.com/gorilla/websocket/blob/master/LICENSE\">{{ or .BSD2ClauseLicense \"BSD 2-clause license\" }}</a>\n          </div>\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">github.com/meiraka/gompd</span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://github.com/meiraka/gompd\">https://github.com/meiraka/gompd</a>\n            <a class=\"license-link\" href=\"https://github.com/meiraka/gompd/blob/master/LICENSE\">{{ or .MITLicense \"MIT license\" }}</a>\n          </div>\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">github.com/spf13/pflag</span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://github.com/spf13/pflag\">https://github.com/spf13/pflag</a>\n            <a class=\"license-link\" href=\"https://github.com/spf13/pflag/blob/master/LICENSE\">{{ or .BSD3ClauseLicense \"BSD 3-clause license\" }}</a>\n          </div>\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">github.com/spf13/viper</span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://github.com/spf13/viper\">https://github.com/spf13/viper</a>\n            <a class=\"license-link\" href=\"https://github.com/spf13/viper/blob/master/LICENSE\">{{ or .MITLicense \"MIT license\" }}</a>\n          </div>\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">golang.org/x/image</span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://github.com/golang/image\">https://github.com/golang/image</a>\n            <a class=\"license-link\" href=\"https://github.com/golang/image/blob/master/LICENSE\">{{ or .BSD3ClauseLicense \"BSD 3-clause license\" }}</a>\n          </div>\n        <li class=\"license-box information-box\">\n          <div>\n            <span class=\"product-name\">golang.org/x/text</span>\n          </div>\n          <div class=\"link\">\n            <a class=\"product-link\" href=\"https://go.googlesource.com/text\">https://go.googlesource.com/text</a>\n            <a class=\"license-link\" href=\"https://go.googlesource.com/text/+/master/LICENSE\">{{ or .BSD3ClauseLicense \"BSD 3-clause license\" }}</a>\n          </div>\n      </ul>\n    </article>\n\n    </div>\n  </div>\n</div>\n<footer>\n  <nav id=\"control-playback\" class=\"control-playback\">\n    <button class=\"control-button control-playback-sub\" id=\"control-prev\" class=prev type=\"button\" value=\"prev\" title=\"{{ or .titlePrevious \"Previous\" }}\" aria-label=\"{{ or .ariaLabelGoToPreviousSong \"Go to previous song\" }}\">\n      <svg class=\"control-playback-sub-icon reversible-icon\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n        <path class=\"fill\" d=\"M 155,60 85,100 155,140 z M 105,60 35,100 105,140 z\"/>\n      </svg>\n    </button>\n    <button class=\"control-button control-playback-toggleplay\" id=\"control-toggleplay\" class=play type=\"button\" value=\"play/pause\" title=\"{{ or .titlePlayOrPause \"Play / Pause\" }}\" data-aria-label-play=\"{{ or .ariaLabelPlaySong \"Play song\" }}\" data-aria-label-pause=\"{{ or .ariaLabelPauseSong \"Pause song\" }}\">\n      <svg class=\"control-playback-toggleplay-icon reversible-icon\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n        <path class=\"fill play\" d=\"M 70,60 140,100 70,140 z\"/>\n        <path class=\"fill pause\" d=\"M 75,60 85,60 85,140 75,140 z M 125,60 115,60 115,140 125,140 z\"/>\n        <path class=\"stroke\" d=\"M 25,100 A 75,75 0 1,1 175,100 A 75,75 0 1,1 25,100 z\"/>\n      </svg>\n    </button>\n    <button class=\"control-button control-playback-sub\" id=\"control-next\" class=next type=\"button\" value=\"next\" title=\"{{ or .titleNext \"Next\" }}\" aria-label=\"{{ or .ariaLabelGoToNextSong \"Go to next song\" }}\">\n      <svg class=\"control-playback-sub-icon reversible-icon\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n        <path class=\"fill\" d=\"M 45,60 115,100 45,140 z M 95,60 165,100 95,140 z\"/>\n      </svg>\n    </button>\n  </nav>\n  <input id=\"control-volume\" class=\"disabled control-volume\" type=\"range\" min=0 max=100 step=1>\n  <button class=\"control-button control-sub control-repeat\" id=control-repeat title=\"{{ or .titleRepeat \"Repeat\" }}\" data-aria-label-off=\"{{ or .ariaLabelTurnOnRepeat \"Turn on repeat\" }}\" data-aria-label-single-off=\"{{ or .ariaLabelTurnOnRepeat1 \"Turn on repeat1\" }}\" data-aria-label-on=\"{{ or .ariaLabelTurnOffRepeat \"Turn off repeat\" }}\">\n    <svg class=\"control-sub-icon reversible-icon\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n      <path class=fill d=\"M 87.5,30 112.5,45 87.5,60 z M 112.5,145 87.5,160 112.5,175 z\"/>\n      <rect class=\"fill control-single\" x=\"97.5\" y=\"75\" width=\"5\" height=\"50\"/>\n      <rect class=stroke x=\"40\" y=\"45\" width=\"120\" height=\"110\" rx=\"30\" ry=\"30\"/>\n    </svg>\n  </button>\n  <button class=\"control-button control-sub\" id=control-random title=\"{{ or .titleRandom \"Random\" }}\" data-aria-label-off=\"{{ or .ariaLabelTurnOnRandom \"Turn on random\" }}\" data-aria-label-on=\"{{ or .ariaLabelTurnOffRandom \"Turn off random\" }}\" >\n    <svg class=\"control-sub-icon reversible-icon\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\">\n      <path class=fill d=\"M 150,30 170,45 150,60 z M 150,140 170,155 150,170 z\"/>\n      <path class=stroke d=\"M 30,45 A 60,55 0 1,1 30,155 M 150,155 A 60,55 0 1,1 150,45 \"/>\n    </svg>\n  </button>\n</footer>\n</body>\n\n</html>\n")
	// AssetsAppHTMLDate is gzip encoded assets/app.html
	AssetsAppHTMLDate = time.Unix(1539991810, 0)
	// AssetsAppJS is assets/app.js
	AssetsAppJS = []byte("\"use strict\";\nconst vv = {\n  consts: {playlistLength: 9999},\n  pubsub: {},\n  song: {},\n  songs: {},\n  storage: {},\n  library: {},\n  view: {main: {}, list: {}, system: {}, popup: {}, modal: {}, footer: {}},\n  control: {},\n  request: {}\n};\nvv.pubsub = {\n  add(listener, ev, func) {\n    if (!(ev in listener)) {\n      listener[ev] = [];\n    }\n    listener[ev].push(func);\n  },\n  rm(listener, ev, func) {\n    for (let i = 0, imax = listener[ev].length; i < imax; i++) {\n      if (listener[ev][i] === func) {\n        listener[ev].splice(i, 1);\n        return;\n      }\n    }\n  },\n  raise(listener, ev) {\n    if (!(ev in listener)) {\n      return;\n    }\n    for (const f of listener[ev]) {\n      f();\n    }\n  }\n};\nvv.song = {\n  tag(song, keys, other) {\n    for (const key of keys) {\n      if (key in song) {\n        return song[key];\n      }\n    }\n    return other;\n  },\n  getTagOrElseMulti(song, key, other) {\n    if (key in song) {\n      return song[key];\n    } else if (key === \"AlbumSort\") {\n      return vv.song.tag(song, [\"Album\"], other);\n    } else if (key === \"ArtistSort\") {\n      return vv.song.tag(song, [\"Artist\"], other);\n    } else if (key === \"AlbumArtist\") {\n      return vv.song.tag(song, [\"Artist\"], other);\n    } else if (key === \"AlbumArtistSort\") {\n      return vv.song.tag(song, [\"AlbumArtist\", \"Artist\"], other);\n    } else if (key === \"AlbumSort\") {\n      return vv.song.tag(song, [\"Album\"], other);\n    }\n    return other;\n  },\n  getOrElseMulti(song, keys, other) {\n    let ret = [];\n    for (const key of keys.split(\"-\")) {\n      const t = vv.song.getTagOrElseMulti(song, key, other);\n      if (!ret.length) {\n        ret = t;\n      } else if (t.length !== 0) {\n        const newret = [];\n        for (const oldV of ret) {\n          for (const newV of t) {\n            newret.push(oldV + \"-\" + newV);\n          }\n        }\n        ret = newret;\n      }\n    }\n    return ret;\n  },\n  getOrElse(song, key, other) {\n    const ret = vv.song.getOrElseMulti(song, key, null);\n    if (!ret) {\n      return other;\n    }\n    return ret.join();\n  },\n  getOne(song, key) {\n    const other = `[no ${key}]`;\n    if (!song.keys) {\n      return vv.song.getOrElseMulti(song, key, [other])[0];\n    }\n    for (const kv of song.keys) {\n      if (kv[0] === key) {\n        return kv[1];\n      }\n    }\n    return vv.song.getOrElseMulti(song, key, [other])[0];\n  },\n  get(song, key) { return vv.song.getOrElse(song, key, `[no ${key}]`); },\n  sortkeys(song, keys, memo) {\n    let songs = [Object.assign({}, song)];\n    songs[0].sortkey = \"\";\n    songs[0].keys = [];\n    for (const key of keys) {\n      const writememo = memo.indexOf(key) !== -1;\n      const values = vv.song.getOrElseMulti(song, key, []);\n      if (values.length === 0) {\n        for (const song of songs) {\n          song.sortkey += \" \";\n          if (writememo) {\n            song.keys.push([key, `[no ${key}]`]);\n          }\n        }\n      } else if (values.length === 1) {\n        for (const song of songs) {\n          song.sortkey += values[0];\n          if (writememo) {\n            song.keys.push([key, values[0]]);\n          }\n        }\n      } else {\n        let newsongs = [];\n        for (const song of songs) {\n          for (const value of values) {\n            const newsong = Object.assign({}, song);\n            newsong.keys = Object.assign([], song.keys);\n            newsong.sortkey += value;\n            if (writememo) {\n              newsong.keys.push([key, value]);\n            }\n            newsongs.push(newsong);\n          }\n        }\n        songs = newsongs;\n      }\n    }\n    return songs;\n  }\n};\nvv.songs = {\n  sort(songs, keys, memo) {\n    const newsongs = [];\n    for (const song of songs) {\n      Array.prototype.push.apply(newsongs, vv.song.sortkeys(song, keys, memo));\n    }\n    const sorted = newsongs.sort((a, b) => {\n      if (a.sortkey < b.sortkey) {\n        return -1;\n      }\n      return 1;\n    });\n    for (let j = 0, jmax = sorted.length; j < jmax; j++) {\n      sorted[j].pos = [j];\n    }\n    return sorted;\n  },\n  uniq(songs, key) {\n    return songs.filter((song, i, self) => {\n      if (i === 0) {\n        return true;\n      } else if (\n          vv.song.getOne(song, key) === vv.song.getOne(self[i - 1], key)) {\n        return false;\n      }\n      return true;\n    });\n  },\n  filter(songs, filters) {\n    return songs.filter(song => {\n      for (const key in filters) {\n        if (filters.hasOwnProperty(key)) {\n          if (vv.song.getOne(song, key) !== filters[key]) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  },\n  weakFilter(songs, filters, max) {\n    if (songs.length <= max) {\n      return songs;\n    }\n    for (const filter of filters) {\n      const newsongs = [];\n      for (const song of songs) {\n        if (vv.song.getOne(song, filter[0]) === filter[1]) {\n          newsongs.push(song);\n        }\n      }\n      if (newsongs.length <= max) {\n        return newsongs;\n      }\n      songs = newsongs;\n    }\n    if (songs.length > max) {\n      const ret = [];\n      for (let k = 0; k < max; k++) {\n        ret.push(songs[k]);\n      }\n      return ret;\n    }\n    return songs;\n  }\n};\nvv.storage = {\n  _listener: {},\n  loaded: false,\n  root: \"root\",\n  tree: [],\n  current: null,\n  control: {},\n  library: [],\n  outputs: [],\n  stats: {},\n  last_modified: {},\n  last_modified_ms: {},\n  version: {},\n  preferences: {\n    volume: {show: true, max: \"100\"},\n    playback: {view_follow: true},\n    appearance: {\n      color_threshold: 128,\n      animation: true,\n      background_image: true,\n      background_image_blur: 32,\n      circled_image: true,\n      gridview_album: true,\n      auto_hide_scrollbar: true\n    }\n  },\n  _idbUpdateTables(e) {\n    const db = e.target.result;\n    const st = db.createObjectStore(\"cache\", {keyPath: \"id\"});\n    const close = () => { db.close(); };\n    st.onsuccess = close;\n    st.onerror = close;\n  },\n  _cacheLoad(key, callback) {\n    if (!window.indexedDB) {\n      const ls = localStorage[key + \"_last_modified\"];\n      const data = localStorage[key];\n      if (ls && data) {\n        callback(JSON.parse(data), ls);\n        return;\n      }\n      callback();\n      return;\n    }\n    const req = window.indexedDB.open(\"storage\", 1);\n    req.onerror = () => {};\n    req.onupgradeneeded = vv.storage._idbUpdateTables;\n    req.onsuccess = e => {\n      const db = e.target.result;\n      const t = db.transaction(\"cache\", \"readonly\");\n      const so = t.objectStore(\"cache\");\n      const req = so.get(key);\n      req.onsuccess = e => {\n        const ret = e.target.result;\n        if (ret && ret.value && ret.date) {\n          callback(e.target.result.value, e.target.result.date);\n        } else {\n          callback();\n        }\n        db.close();\n      };\n      req.onerror = () => {\n        callback();\n        db.close();\n      };\n    };\n  },\n  _cacheSave(key, value, date) {\n    if (!window.indexedDB) {\n      const ls = localStorage[key + \"_last_modified\"];\n      if (ls && ls === date) {\n        return;\n      }\n      localStorage[key] = JSON.stringify(value);\n      localStorage[key + \"_last_modified\"] = date;\n      return;\n    }\n    const req = window.indexedDB.open(\"storage\", 1);\n    req.onerror = () => {};\n    req.onupgradeneeded = vv.storage._idbUpdateTables;\n    req.onsuccess = e => {\n      const db = e.target.result;\n      const t = db.transaction(\"cache\", \"readwrite\");\n      const so = t.objectStore(\"cache\");\n      const req = so.get(key);\n      req.onerror = () => { db.close(); };\n      req.onsuccess = e => {\n        const ret = e.target.result;\n        if (ret && ret.date && ret.date === date) {\n          return;\n        }\n        const req = so.put({id: key, value: value, date: date});\n        req.onerror = () => { db.close(); };\n        req.onsuccess = () => { db.close(); };\n      };\n    };\n  },\n  addEventListener(e, f) { vv.pubsub.add(vv.storage._listener, e, f); },\n  save: {\n    current() {\n      try {\n        localStorage.current = JSON.stringify(vv.storage.current);\n        localStorage.current_last_modified = vv.storage.last_modified.current;\n      } catch (e) {\n      }\n    },\n    root() {\n      try {\n        localStorage.root = vv.storage.root;\n      } catch (e) {\n      }\n    },\n    preferences() {\n      try {\n        localStorage.preferences = JSON.stringify(vv.storage.preferences);\n      } catch (e) {\n      }\n    },\n    sorted() {\n      try {\n        localStorage.sorted = JSON.stringify(vv.storage.sorted);\n        localStorage.sorted_last_modified = vv.storage.last_modified.sorted;\n      } catch (e) {\n      }\n    },\n    library() {\n      try {\n        vv.storage._cacheSave(\n            \"library\", vv.storage.library, vv.storage.last_modified.library);\n      } catch (e) {\n      }\n    }\n  },\n  load() {\n    try {\n      if (localStorage.root && localStorage.root.length !== 0) {\n        vv.storage.root = localStorage.root;\n        if (vv.storage.root !== \"root\") {\n          vv.storage.tree.push([\"root\", vv.storage.root]);\n        }\n      }\n      if (localStorage.preferences) {\n        const c = JSON.parse(localStorage.preferences);\n        for (const i in c) {\n          if (c.hasOwnProperty(i)) {\n            for (const j in c[i]) {\n              if (c[i].hasOwnProperty(j)) {\n                if (vv.storage.preferences[i]) {\n                  vv.storage.preferences[i][j] = c[i][j];\n                }\n              }\n            }\n          }\n        }\n      }\n      if (localStorage.current && localStorage.current_last_modified) {\n        const current = JSON.parse(localStorage.current);\n        if (Object.prototype.toString.call(current.file) === \"[object Array]\") {\n          vv.storage.current = current;\n          vv.storage.last_modified.current = localStorage.current_last_modified;\n        }\n      }\n      if (localStorage.sorted && localStorage.sorted_last_modified) {\n        const sorted = JSON.parse(localStorage.sorted);\n        vv.storage.sorted = sorted;\n        vv.storage.last_modified.sorted = localStorage.sorted_last_modified;\n      }\n      vv.storage._cacheLoad(\"library\", (data, date) => {\n        if (data && date) {\n          vv.storage.library = data;\n          vv.storage.last_modified.library = date;\n        }\n        vv.storage.loaded = true;\n        vv.pubsub.raise(vv.storage._listener, \"onload\");\n      });\n    } catch (e) {\n      vv.storage.loaded = true;\n      vv.pubsub.raise(vv.storage._listener, \"onload\");\n      // private browsing\n    }\n    // Mobile\n    if (navigator.userAgent.indexOf(\"Mobile\") > 1) {\n      vv.storage.preferences.appearance.auto_hide_scrollbar = false;\n    }\n  }\n};\nvv.storage.load();\n\nvv.library = {\n  focus: {},\n  child: null,\n  _roots: {\n    AlbumArtist: [],\n    Album: [],\n    Artist: [],\n    Genre: [],\n    Date: [],\n    Composer: [],\n    Performer: []\n  },\n  TREE: {\n    AlbumArtist: {\n      sort: [\n        \"AlbumArtist\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\",\n        \"file\"\n      ],\n      tree: [[\"AlbumArtist\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Album: {\n      sort: [\n        \"AlbumArtist-Date-Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"\n      ],\n      tree: [[\"AlbumArtist-Date-Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Artist: {\n      sort: [\n        \"Artist\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"\n      ],\n      tree: [[\"Artist\", \"plain\"], [\"Title\", \"song\"]]\n    },\n    Genre: {\n      sort: [\"Genre\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"],\n      tree: [[\"Genre\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Date: {\n      sort: [\"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"],\n      tree: [[\"Date\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Composer: {\n      sort: [\n        \"Composer\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\",\n        \"file\"\n      ],\n      tree: [[\"Composer\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Performer: {\n      sort: [\n        \"Performer\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\",\n        \"file\"\n      ],\n      tree: [[\"Performer\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    }\n  },\n  _listener: {},\n  addEventListener(e, f) { vv.pubsub.add(vv.library._listener, e, f); },\n  removeEventListener(e, f) { vv.pubsub.rm(vv.library._listener, e, f); },\n  _mkmemo(key) {\n    const ret = [];\n    for (const leef of vv.library.TREE[key].tree) {\n      ret.push(leef[0]);\n    }\n    return ret;\n  },\n  _list_child_cache: [{}, {}, {}, {}, {}, {}],\n  list_child() {\n    const root = vv.library.rootname();\n    if (vv.library._roots[root].length === 0) {\n      vv.library._roots[root] = vv.songs.sort(\n          vv.storage.library, vv.library.TREE[root].sort,\n          vv.library._mkmemo(root));\n    }\n    const filters = {};\n    for (let i = 0, imax = vv.storage.tree.length; i < imax; i++) {\n      if (i === 0) {\n        continue;\n      }\n      filters[vv.storage.tree[i][0]] = vv.storage.tree[i][1];\n    }\n    const ret = {};\n    ret.key = vv.library.TREE[root].tree[vv.storage.tree.length - 1][0];\n    ret.songs = vv.library._roots[root];\n    ret.songs = vv.songs.filter(ret.songs, filters);\n    ret.songs = vv.songs.uniq(ret.songs, ret.key);\n    ret.style = vv.library.TREE[root].tree[vv.storage.tree.length - 1][1];\n    ret.isdir = vv.storage.tree.length !== vv.library.TREE[root].tree.length;\n    return ret;\n  },\n  list_root() {\n    const ret = [];\n    for (const key in vv.library.TREE) {\n      if (vv.library.TREE.hasOwnProperty(key)) {\n        ret.push({root: [key]});\n      }\n    }\n    return {key: \"root\", songs: ret, style: \"plain\", isdir: true};\n  },\n  _list_cache: {},\n  update_list() {\n    if (vv.library.rootname() === \"root\") {\n      vv.library._list_cache = vv.library.list_root();\n      return true;\n    }\n    const cache = vv.library._list_child_cache[vv.storage.tree.length - 1];\n    const pwd = vv.storage.tree.join();\n    if (cache.pwd === pwd) {\n      vv.library._list_cache = cache.data;\n      return false;\n    }\n    vv.library._list_cache = vv.library.list_child();\n    if (vv.library._list_cache.songs.length === 0) {\n      vv.library.up();\n    } else {\n      vv.library._list_child_cache[vv.storage.tree.length - 1].pwd = pwd;\n      vv.library._list_child_cache[vv.storage.tree.length - 1].data =\n          vv.library._list_cache;\n    }\n    return true;\n  },\n  list() {\n    if (!vv.library._list_cache.songs ||\n        !vv.library._list_cache.songs.length === 0) {\n      vv.library.update_list();\n    }\n    return vv.library._list_cache;\n  },\n  updateData(data) {\n    for (let i = 0, imax = vv.library._list_child_cache.length; i < imax; i++) {\n      vv.library._list_child_cache[i] = {};\n    }\n    for (const key in vv.library.TREE) {\n      if (vv.library.TREE.hasOwnProperty(key)) {\n        if (key === vv.storage.root) {\n          vv.library._roots[key] = vv.songs.sort(\n              data, vv.library.TREE[key].sort, vv.library._mkmemo(key));\n        } else {\n          vv.library._roots[key] = [];\n        }\n      }\n    }\n  },\n  update(data) {\n    vv.library.updateData(data);\n    vv.library.update_list();\n    vv.pubsub.raise(vv.library._listener, \"update\");\n  },\n  rootname() {\n    let r = \"root\";\n    if (vv.storage.tree.length !== 0) {\n      r = vv.storage.tree[0][1];\n    }\n    if (r !== vv.storage.root) {\n      vv.storage.root = r;\n      vv.storage.save.root();\n    }\n    return r;\n  },\n  filters(pos) { return vv.library._roots[vv.library.rootname()][pos].keys; },\n  sortkeys() {\n    const r = vv.library.rootname();\n    if (r === \"root\") {\n      return [];\n    }\n    return vv.library.TREE[r].sort;\n  },\n  up() {\n    const songs = vv.library.list().songs;\n    if (songs[0]) {\n      vv.library.focus = songs[0];\n      if (vv.library.rootname() === \"root\") {\n        vv.library.child = null;\n      } else {\n        vv.library.child = vv.storage.tree[vv.storage.tree.length - 1][1];\n      }\n    }\n    if (vv.library.rootname() !== \"root\") {\n      vv.storage.tree.pop();\n    }\n    vv.library.update_list();\n    if (vv.library.list().songs.length === 1 && vv.storage.tree.length !== 0) {\n      vv.library.up();\n    } else {\n      vv.pubsub.raise(vv.library._listener, \"changed\");\n    }\n  },\n  down(value) {\n    let r = vv.library.rootname();\n    if (r === \"root\") {\n      vv.storage.tree.push([r, value]);\n      r = value;\n    } else {\n      const key = vv.library.TREE[r].tree[vv.storage.tree.length - 1][0];\n      vv.storage.tree.push([key, value]);\n    }\n    vv.library.focus = {};\n    vv.library.child = null;\n    vv.library.update_list();\n    const songs = vv.library.list().songs;\n    if (songs.length === 1 &&\n        vv.library.TREE[r].tree.length !== vv.storage.tree.length) {\n      vv.library.down(vv.song.get(songs[0], vv.library.list().key));\n    } else {\n      vv.pubsub.raise(vv.library._listener, \"changed\");\n    }\n  },\n  absaddr(first, second) {\n    vv.storage.tree.splice(0, vv.storage.tree.length);\n    vv.storage.tree.push([\"root\", first]);\n    vv.library.down(second);\n  },\n  absFallback(song) {\n    if (vv.library.rootname() !== \"root\" && song.file) {\n      const r = vv.storage.tree[0];\n      vv.storage.tree.length = 0;\n      vv.storage.tree.splice(0, vv.storage.tree.length);\n      vv.storage.tree.push(r);\n      const root = vv.storage.tree[0][1];\n      const selected = vv.library.TREE[root].tree;\n      for (let i = 0, imax = selected.length; i < imax; i++) {\n        if (i === selected.length - 1) {\n          break;\n        }\n        const key = selected[i][0];\n        vv.storage.tree.push([key, vv.song.getOne(song, key)]);\n      }\n      vv.library.update_list();\n      for (const candidate of vv.library.list().songs) {\n        if (candidate.file && candidate.file[0] === song.file[0]) {\n          vv.library.focus = candidate;\n          vv.library.child = null;\n          break;\n        }\n      }\n    } else {\n      vv.storage.tree.splice(0, vv.storage.tree.length);\n      vv.library.update_list();\n    }\n    vv.pubsub.raise(vv.library._listener, \"changed\");\n  },\n  absSorted(song) {\n    let root = \"\";\n    const pos = parseInt(song.Pos[0], 10);\n    const keys = vv.storage.sorted.keys.join();\n    for (const key in vv.library.TREE) {\n      if (vv.library.TREE.hasOwnProperty(key)) {\n        if (vv.library.TREE[key].sort.join() === keys) {\n          root = key;\n          break;\n        }\n      }\n    }\n    if (!root) {\n      vv.view.popup.show(\"fixme\", `modal: unknown sort keys: ${keys}`);\n      return;\n    }\n    let songs = vv.library._roots[root];\n    if (!songs || songs.length === 0) {\n      vv.library._roots[root] = vv.songs.sort(\n          vv.storage.library, vv.library.TREE[root].sort,\n          vv.library._mkmemo(root));\n      songs = vv.library._roots[root];\n      if (songs.length === 0) {\n        return;\n      }\n    }\n    if (songs.length > vv.consts.playlistLength) {\n      songs = vv.songs.weakFilter(\n          songs, vv.storage.sorted.filters, vv.consts.playlistLength);\n    }\n    if (!songs[pos]) {\n      return;\n    }\n    if (songs[pos].file[0] === song.file[0]) {\n      vv.library.focus = songs[pos];\n      vv.library.child = null;\n      vv.storage.tree.length = 0;\n      vv.storage.tree.push([\"root\", root]);\n      for (let i = 0; i < vv.library.focus.keys.length - 1; i++) {\n        vv.storage.tree.push(vv.library.focus.keys[i]);\n      }\n      vv.library.update_list();\n      vv.pubsub.raise(vv.library._listener, \"changed\");\n    } else {\n      vv.library.absFallback(song);\n    }\n  },\n  abs(song) {\n    if (vv.storage.sorted && vv.storage.sorted.sorted) {\n      vv.library.absSorted(song);\n    } else {\n      vv.library.absFallback(song);\n    }\n  },\n  parent() {\n    const root = vv.library.rootname();\n    if (root === \"root\") {\n      return;\n    }\n    const v = vv.library.list().songs;\n    if (vv.storage.tree.length > 1) {\n      const key = vv.library.TREE[root].tree[vv.storage.tree.length - 2][0];\n      const style = vv.library.TREE[root].tree[vv.storage.tree.length - 2][1];\n      return {key: key, song: v[0], style: style, isdir: true};\n    }\n    return {key: \"top\", song: {top: [root]}, style: \"plain\", isdir: true};\n  },\n  grandparent() {\n    const root = vv.library.rootname();\n    if (root === \"root\") {\n      return;\n    }\n    const v = vv.library.list().songs;\n    if (vv.storage.tree.length > 2) {\n      const key = vv.library.TREE[root].tree[vv.storage.tree.length - 3][0];\n      const style = vv.library.TREE[root].tree[vv.storage.tree.length - 3][1];\n      return {key: key, song: v[0], style: style, isdir: true};\n    } else if (vv.storage.tree.length === 2) {\n      return {key: \"top\", song: {top: [root]}, style: \"plain\", isdir: true};\n    }\n    return {\n      key: \"root\",\n      song: {root: [\"Library\"]},\n      style: \"plain\",\n      isdir: true\n    };\n  },\n  load() {\n    if (vv.storage.loaded) {\n      vv.library.updateData(vv.storage.library);\n    } else {\n      vv.storage.addEventListener(\n          \"onload\", () => { vv.library.updateData(vv.storage.library); });\n    }\n  }\n};\nvv.library.load();\nvv.request = {\n  _requests: {},\n  abortAll(options) {\n    options = options || {};\n    for (const key in vv.request._requests) {\n      if (vv.request._requests.hasOwnProperty(key)) {\n        if (options.stop) {\n          vv.request._requests[key].onabort = () => {};\n        }\n        vv.request._requests[key].abort();\n      }\n    }\n  },\n  get(path, ifmodified, callback, timeout) {\n    const key = \"GET \" + path;\n    if (vv.request._requests[key]) {\n      vv.request._requests[key].onabort = () => {};  // disable retry\n      vv.request._requests[key].abort();\n    }\n    const xhr = new XMLHttpRequest();\n    vv.request._requests[key] = xhr;\n    if (!timeout) {\n      timeout = 1000;\n    }\n    xhr.responseType = \"json\";\n    xhr.timeout = timeout;\n    xhr.onload = () => {\n      if (xhr.status === 200 || xhr.status === 304) {\n        if (xhr.status === 200 && callback) {\n          callback(\n              xhr.response, xhr.getResponseHeader(\"Last-Modified\"),\n              xhr.getResponseHeader(\"Date\"));\n        }\n        return;\n      }\n      // error handling\n      if (xhr.status !== 0) {\n        vv.view.popup.show(\"network\", xhr.statusText);\n      }\n    };\n    xhr.onabort = () => {\n      if (timeout < 50000) {\n        setTimeout(\n            () => { vv.request.get(path, ifmodified, callback, timeout * 2); });\n      }\n    };\n    xhr.onerror = () => { vv.view.popup.show(\"network\", \"Error\"); };\n    xhr.ontimeout = () => {\n      if (timeout < 50000) {\n        vv.view.popup.show(\"network\", \"timeoutRetry\");\n        vv.request.abortAll();\n        setTimeout(\n            () => { vv.request.get(path, ifmodified, callback, timeout * 2); });\n      } else {\n        vv.view.popup.show(\"network\", \"timeout\");\n      }\n    };\n    xhr.open(\"GET\", path, true);\n    xhr.setRequestHeader(\"If-Modified-Since\", ifmodified);\n    xhr.send();\n  },\n  post(path, obj) {\n    const key = \"POST \" + path;\n    if (vv.request._requests[key]) {\n      vv.request._requests[key].abort();\n    }\n    const xhr = new XMLHttpRequest();\n    vv.request._requests[key] = xhr;\n    xhr.responseType = \"json\";\n    xhr.timeout = 1000;\n    xhr.onload = () => {\n      if (xhr.status !== 200) {\n        if (xhr.response && xhr.response.error) {\n          vv.view.popup.show(\"network\", xhr.response.error);\n        } else {\n          vv.view.popup.show(\"network\", xhr.responseText);\n        }\n      }\n    };\n    xhr.ontimeout = () => {\n      vv.view.popup.show(\"network\", \"timeout\");\n      vv.request.abortAll();\n    };\n    xhr.onerror = () => { vv.view.popup.show(\"network\", \"Error\"); };\n    xhr.open(\"POST\", path, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send(JSON.stringify(obj));\n  }\n};\nvv.control = {\n  _getOrElse(m, k, v) { return k in m ? m[k] : v; },\n  _listener: {},\n  addEventListener(e, f) { vv.pubsub.add(vv.control._listener, e, f); },\n  removeEventListener(e, f) { vv.pubsub.rm(vv.control._listener, e, f); },\n  raiseEvent(e) { vv.pubsub.raise(vv.control._listener, e); },\n  swipe(element, f, resetFunc, leftElement, landscape) {\n    element.swipe_target = f;\n    let starttime = 0;\n    let now = 0;\n    let x = 0;\n    let y = 0;\n    let diff_x = 0;\n    let diff_y = 0;\n    let swipe = false;\n    const start = e => {\n      if ((e.buttons && e.buttons !== 1) ||\n          (landscape && window.innerHeight < window.innerWidth)) {\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      x = t.screenX;\n      y = t.screenY;\n      starttime = (new Date()).getTime();\n      swipe = true;\n    };\n    const finalize = e => {\n      starttime = 0;\n      now = 0;\n      x = 0;\n      y = 0;\n      diff_x = 0;\n      diff_y = 0;\n      swipe = false;\n      e.currentTarget.classList.remove(\"swipe\");\n      e.currentTarget.classList.add(\"swiped\");\n      if (leftElement) {\n        leftElement.classList.remove(\"swipe\");\n        leftElement.classList.add(\"swiped\");\n      }\n      if (!resetFunc) {\n        e.currentTarget.style.transform = \"\";\n        if (leftElement) {\n          leftElement.style.transform = \"\";\n        }\n      }\n      setTimeout(() => {\n        element.classList.remove(\"swiped\");\n        if (leftElement) {\n          leftElement.classList.remove(\"swiped\");\n        }\n      });\n    };\n    const cancel = e => {\n      if (swipe) {\n        finalize(e);\n        if (resetFunc) {\n          resetFunc();\n        }\n      }\n    };\n    const move = e => {\n      if (e.buttons === 0 || (e.buttons && e.buttons !== 1) || !swipe ||\n          (landscape && window.innerHeight < window.innerWidth)) {\n        cancel(e);\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      diff_x = x - t.screenX;\n      diff_y = y - t.screenY;\n      now = (new Date()).getTime();\n      if (now - starttime < 200 && Math.abs(diff_y) > Math.abs(diff_x)) {\n        cancel(e);\n      } else if (Math.abs(diff_x) > 3) {\n        e.currentTarget.classList.add(\"swipe\");\n        e.currentTarget.style.transform = `translate3d(${diff_x * -1}px,0,0)`;\n        if (leftElement) {\n          leftElement.classList.add(\"swipe\");\n          leftElement.style.transform =\n              `translate3d(${diff_x * -1 - e.currentTarget.offsetWidth}px,0,0)`;\n        }\n      }\n    };\n    const end = e => {\n      if ((e.buttons && e.buttons !== 1) || !swipe ||\n          (landscape && window.innerHeight < window.innerWidth)) {\n        cancel(e);\n        return;\n      }\n      const p = e.currentTarget.clientWidth / diff_x;\n      if ((p > -4 && p < 0) ||\n          (now - starttime < 200 && Math.abs(diff_y) < Math.abs(diff_x) &&\n           diff_x < 0)) {\n        finalize(e);\n        f(e);\n      } else {\n        cancel(e);\n      }\n    };\n    if (\"ontouchend\" in element) {\n      element.addEventListener(\"touchstart\", start, {passive: true});\n      element.addEventListener(\"touchmove\", move, {passive: true});\n      element.addEventListener(\"touchend\", end, {passive: true});\n    } else {\n      element.addEventListener(\"mousedown\", start, {passive: true});\n      element.addEventListener(\"mousemove\", move, {passive: true});\n      element.addEventListener(\"mouseup\", end, {passive: true});\n    }\n  },\n  click(element, f) {\n    element.click_target = f;\n    const enter = e => { e.currentTarget.classList.add(\"hover\"); };\n    const leave = e => { e.currentTarget.classList.remove(\"hover\"); };\n    const start = e => {\n      if (e.buttons && e.buttons !== 1) {\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      e.currentTarget.x = t.screenX;\n      e.currentTarget.y = t.screenY;\n      e.currentTarget.touch = true;\n      e.currentTarget.classList.add(\"active\");\n    };\n    const move = e => {\n      if (e.buttons && e.buttons !== 1 || !e.currentTarget.touch) {\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      if (Math.abs(e.currentTarget.x - t.screenX) >= 5 ||\n          Math.abs(e.currentTarget.y - t.screenY) >= 5) {\n        e.currentTarget.touch = false;\n        e.currentTarget.classList.remove(\"active\");\n      }\n    };\n    const end = e => {\n      if (e.buttons && e.buttons !== 1) {\n        return;\n      }\n      e.currentTarget.classList.remove(\"active\");\n      if (e.currentTarget.touch) {\n        f(e);\n      }\n    };\n    if (\"ontouchend\" in element) {\n      element.addEventListener(\"touchstart\", start, {passive: true});\n      element.addEventListener(\"touchmove\", move, {passive: true});\n      element.addEventListener(\"touchend\", end, {passive: true});\n    } else {\n      element.addEventListener(\"mousedown\", start, {passive: true});\n      element.addEventListener(\"mousemove\", move, {passive: true});\n      element.addEventListener(\"mouseup\", end, {passive: true});\n      element.addEventListener(\"mouseenter\", enter, {passive: true});\n      element.addEventListener(\"mouseleave\", leave, {passive: true});\n    }\n  },\n  rescan_library() {\n    vv.request.post(\"/api/music/library\", {action: \"rescan\"});\n    vv.storage.control.update_library = true;\n    vv.control.raiseEvent(\"control\");\n  },\n  prev() { vv.request.post(\"/api/music/status\", {state: \"prev\"}); },\n  play_pause() {\n    const state = vv.control._getOrElse(vv.storage.control, \"state\", \"stopped\");\n    const action = state === \"play\" ? \"pause\" : \"play\";\n    vv.request.post(\"/api/music/status\", {state: action});\n    vv.storage.control.state = action;\n    vv.control.raiseEvent(\"control\");\n  },\n  next() { vv.request.post(\"/api/music/status\", {state: \"next\"}); },\n  toggle_repeat() {\n    if (vv.storage.control.single) {\n      vv.request.post(\"/api/music/status\", {repeat: false, single: false});\n      vv.storage.control.single = false;\n      vv.storage.control.repeat = false;\n    } else if (vv.storage.control.repeat) {\n      vv.request.post(\"/api/music/status\", {single: true});\n      vv.storage.control.single = true;\n    } else {\n      vv.request.post(\"/api/music/status\", {repeat: true});\n      vv.storage.control.repeat = true;\n    }\n    vv.control.raiseEvent(\"control\");\n  },\n  toggle_random() {\n    vv.request.post(\"/api/music/status\", {random: !vv.storage.control.random});\n    vv.storage.control.random = !vv.storage.control.random;\n    vv.control.raiseEvent(\"control\");\n  },\n  play(pos) {\n    vv.request.post(\"/api/music/playlist/sort\", {\n      keys: vv.library.sortkeys(),\n      filters: vv.library.filters(pos),\n      play: pos\n    });\n  },\n  volume(num) { vv.request.post(\"/api/music/status\", {volume: num}); },\n  output(id, on) {\n    vv.request.post(`/api/music/outputs/${id}`, {outputenabled: on});\n  },\n  _fetch(target, store) {\n    vv.request.get(\n        target, vv.control._getOrElse(vv.storage.last_modified, store, \"\"),\n        (ret, modified, date) => {\n          if (!ret.error) {\n            if (Object.prototype.toString.call(ret.data) ===\n                    \"[object Object]\" &&\n                Object.keys(ret.data).length === 0) {\n              return;\n            }\n            let diff = 0;\n            try {\n              diff = Date.now() - Date.parse(date);\n            } catch (e) {\n              // use default value;\n            }\n            vv.storage[store] = ret.data;\n            vv.storage.last_modified_ms[store] = Date.parse(modified) + diff;\n            vv.storage.last_modified[store] = modified;\n            if (store === \"library\") {\n              vv.storage.save.library();\n            } else if (store === \"sorted\") {\n              vv.storage.save.sorted();\n            }\n            vv.control.raiseEvent(store);\n          }\n        });\n  },\n  _fetchAll() {\n    vv.control._fetch(\"/api/music/playlist/sort\", \"sorted\");\n    vv.control._fetch(\"/api/version\", \"version\");\n    vv.control._fetch(\"/api/music/outputs\", \"outputs\");\n    vv.control._fetch(\"/api/music/playlist/current\", \"current\");\n    vv.control._fetch(\"/api/music/status\", \"control\");\n    vv.control._fetch(\"/api/music/library\", \"library\");\n  },\n  _notify_last_update: (new Date()).getTime(),\n  _notify_last_connection: (new Date()).getTime(),\n  _connected: false,\n  _notify_err_cnt: 0,\n  _ws: null,\n  _listennotify(cause) {\n    vv.request.abortAll({stop: true});\n    if (cause) {\n      vv.view.popup.show(\"network\", cause);\n    }\n    vv.control._notify_last_connection = (new Date()).getTime();\n    vv.control._connected = false;\n    const wsp = document.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    const uri = `${wsp}//${location.host}/api/music/notify`;\n    if (vv.control._ws !== null) {\n      vv.control._ws.onclose = () => {};\n      vv.control._ws.close();\n    }\n    vv.control._ws = new WebSocket(uri);\n    vv.control._ws.onopen = () => {\n      if (vv.control._notify_err_cnt > 0) {\n        vv.view.popup.hide(\"network\");\n      }\n      vv.control._connected = true;\n      vv.control._notify_last_update = (new Date()).getTime();\n      vv.control._fetchAll();\n    };\n    vv.control._ws.onmessage = e => {\n      if (e && e.data) {\n        if (e.data === \"library\") {\n          vv.control._fetch(\"/api/music/library\", \"library\");\n        } else if (e.data === \"status\") {\n          vv.control._fetch(\"/api/music/status\", \"control\");\n        } else if (e.data === \"playlist/current\") {\n          vv.control._fetch(\"/api/music/playlist/current\", \"current\");\n        } else if (e.data === \"outputs\") {\n          vv.control._fetch(\"/api/music/outputs\", \"outputs\");\n        } else if (e.data === \"stats\") {\n          vv.control._fetch(\"/api/music/stats\", \"stats\");\n        } else if (e.data === \"playlist/sort\") {\n          vv.control._fetch(\"/api/music/playlist/sort\", \"sorted\");\n        }\n        const new_notify_last_update = (new Date()).getTime();\n        if (new_notify_last_update - vv.control._notify_last_update > 10000) {\n          // recover lost notification\n          setTimeout(vv.control._listennotify);\n        }\n        vv.control._notify_last_update = new_notify_last_update;\n        vv.control._notify_err_cnt = 0;\n      }\n    };\n    vv.control._ws.onclose = () => {\n      if (vv.control._notify_err_cnt > 0) {\n        vv.view.popup.show(\"network\", \"closed\");\n      }\n      vv.control._notify_last_update = (new Date()).getTime();\n      vv.control._notify_err_cnt++;\n      setTimeout(vv.control._listennotify, 1000);\n    };\n  },\n  _init() {\n    const polling = () => {\n      const now = (new Date()).getTime();\n      if (vv.control._connected &&\n          now - 10000 > vv.control._notify_last_update) {\n        vv.control._notify_err_cnt++;\n        setTimeout(() => { vv.control._listennotify(\"doesNotRespond\"); });\n      } else if (\n          !vv.control._connected &&\n          now - 2000 > vv.control._notify_last_connection) {\n        vv.control._notify_err_cnt++;\n        setTimeout(() => { vv.control._listennotify(\"timeoutRetry\"); });\n      }\n      vv.control.raiseEvent(\"poll\");\n      setTimeout(polling, 1000);\n    };\n    const start = () => {\n      vv.control.raiseEvent(\"start\");\n      vv.view.list.show();\n      vv.control.raiseEvent(\"current\");\n      vv.control._listennotify();\n      polling();\n    };\n    if (vv.storage.loaded) {\n      start();\n    } else {\n      vv.storage.addEventListener(\"onload\", start);\n    }\n  },\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", vv.control._init);\n    } else {\n      vv.control._init();\n    }\n  },\n  load() {\n    const focus = () => {\n      vv.storage.save.current();\n      if (vv.storage.preferences.playback.view_follow &&\n          vv.storage.current !== null) {\n        vv.library.abs(vv.storage.current);\n      }\n    };\n\n    let unsorted = !vv.storage.sorted;\n    const focusremove = (key, remove) => {\n      const n = () => {\n        if (unsorted && vv.storage.sorted && vv.storage.current !== null) {\n          if (vv.storage.sorted &&\n              vv.storage.preferences.playback.view_follow) {\n            vv.library.abs(vv.storage.current);\n          }\n          unsorted = false;\n        }\n        setTimeout(() => { remove(key, n); });\n      };\n      return n;\n    };\n    vv.control.addEventListener(\"current\", focus);\n    vv.control.addEventListener(\n        \"library\", () => { vv.library.update(vv.storage.library); });\n    if (unsorted) {\n      vv.control.addEventListener(\n          \"current\", focusremove(\"current\", vv.control.removeEventListener));\n      vv.control.addEventListener(\n          \"sorted\", focusremove(\"sorted\", vv.control.removeEventListener));\n      vv.library.addEventListener(\n          \"update\", focusremove(\"update\", vv.library.removeEventListener));\n    }\n  }\n};\nvv.control.load();\n\n// background\n{\n  let rgbg = {r: 128, g: 128, b: 128, gray: 128};\n  const mkcolor = (rgb, magic) => {\n    return \"#\" +\n        (((1 << 24) + (magic(rgb.r) << 16) + (magic(rgb.g) << 8) + magic(rgb.b))\n             .toString(16)\n             .slice(1));\n  };\n  const darker = c => {\n    // Vivaldi does not recognize #000000\n    if ((c - 20) < 0) {\n      return 1;\n    }\n    return c - 20;\n  };\n  const lighter = c => {\n    if ((c + 100) > 255) {\n      return 255;\n    }\n    return c + 100;\n  };\n  const update_theme = () => {\n    const color = document.querySelector(\"meta[name=theme-color]\");\n    if (rgbg.gray < vv.storage.preferences.appearance.color_threshold) {\n      document.body.classList.add(\"dark\");\n      document.body.classList.remove(\"light\");\n      color.setAttribute(\"content\", mkcolor(rgbg, darker));\n    } else {\n      document.body.classList.add(\"light\");\n      document.body.classList.remove(\"dark\");\n      color.setAttribute(\"content\", mkcolor(rgbg, lighter));\n    }\n  };\n  const calc_color = path => {\n    const img = new Image();\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      const context = canvas.getContext(\"2d\");\n      context.drawImage(img, 0, 0, 5, 5);\n      try {\n        const d = context.getImageData(0, 0, 5, 5).data;\n        const new_rgbg = {r: 128, g: 128, b: 128, gray: 128};\n        for (let i = 0; i < d.length - 3; i += 4) {\n          new_rgbg.r += d[i];\n          new_rgbg.g += d[i + 1];\n          new_rgbg.b += d[i + 2];\n          new_rgbg.gray += (d[i] + d[i + 1] + d[i + 2]);\n        }\n        new_rgbg.r = parseInt(new_rgbg.r * 3 / d.length, 10);\n        new_rgbg.g = parseInt(new_rgbg.g * 3 / d.length, 10);\n        new_rgbg.b = parseInt(new_rgbg.b * 3 / d.length, 10);\n        new_rgbg.gray /= d.length;\n        rgbg = new_rgbg;\n        update_theme();\n      } catch (e) {\n        // failed to getImageData\n      }\n    };\n    img.src = path;\n  };\n  const update = () => {\n    const e = document.getElementById(\"background-image\");\n    if (vv.storage.preferences.appearance.background_image) {\n      e.classList.remove(\"hide\");\n      document.getElementById(\"background-image\").classList.remove(\"hide\");\n      let cover = \"/assets/nocover.svg\";\n      let coverForCalc = \"/assets/nocover.svg\";\n      if (vv.storage.current !== null && vv.storage.current.cover) {\n        cover = `/music_directory/${vv.storage.current.cover[0]}`;\n        const imgsize = parseInt(70 * window.devicePixelRatio, 10);\n        coverForCalc =\n            `/api/images/${cover}?width=${imgsize}&height=${imgsize}`;\n      }\n      const newimage = `url(\"${cover}\")`;\n      if (e.style.backgroundImage !== newimage) {\n        calc_color(coverForCalc);\n        e.style.backgroundImage = newimage;\n      }\n      e.style.filter =\n          `blur(${vv.storage.preferences.appearance.background_image_blur}px)`;\n    } else {\n      e.classList.add(\"hide\");\n      document.getElementById(\"background-image\").classList.add(\"hide\");\n    }\n    document.body.classList.remove(\"unload\");\n  };\n  vv.control.addEventListener(\"current\", update);\n  vv.control.addEventListener(\"preferences\", update);\n  vv.control.addEventListener(\"preferences\", update_theme);\n  vv.control.addEventListener(\"start\", update);\n}\n\nvv.view.main = {\n  onPreferences() {\n    const e = document.getElementById(\"main-cover\");\n    if (vv.storage.preferences.appearance.circled_image) {\n      e.classList.add(\"circled\");\n    } else {\n      e.classList.remove(\"circled\");\n    }\n    if (vv.storage.preferences.appearance.auto_hide_scrollbar) {\n      document.body.classList.add(\"auto-hide-scrollbar\");\n    } else {\n      document.body.classList.remove(\"auto-hide-scrollbar\");\n    }\n  },\n  onControl() {\n    const c = document.getElementById(\"control-volume\");\n    c.value = vv.storage.control.volume;\n    if (vv.storage.control.volume < 0) {\n      c.classList.add(\"disabled\");\n    } else {\n      c.classList.remove(\"disabled\");\n    }\n  },\n  show() {\n    document.body.classList.add(\"view-main\");\n    document.body.classList.remove(\"view-list\");\n  },\n  hidden() {\n    const c = document.body.classList;\n    if (window.matchMedia(\"(orientation: portrait)\").matches) {\n      return !c.contains(\"view-main\");\n    }\n    return !(c.contains(\"view-list\") || c.contains(\"view-main\"));\n  },\n  update() {\n    if (vv.storage.current === null) {\n      return;\n    }\n    document.getElementById(\"main-box-title\").textContent =\n        vv.storage.current.Title;\n    document.getElementById(\"main-box-artist\").textContent =\n        vv.storage.current.Artist;\n    if (vv.storage.current.cover) {\n      document.getElementById(\"main-cover-img\").style.backgroundImage =\n          `url(\"/music_directory/${vv.storage.current.cover[0]}\")`;\n    } else {\n      document.getElementById(\"main-cover-img\").style.backgroundImage = \"\";\n    }\n  },\n  onCurrent() { vv.view.main.update(); },\n  onPoll() {\n    if (vv.storage.current === null) {\n      return;\n    }\n    if (vv.view.main.hidden() ||\n        document.getElementById(\"main-cover-circle\")\n            .classList.contains(\"hide\")) {\n      return;\n    }\n    const c = document.getElementById(\"main-cover-circle-active\");\n    let elapsed = parseInt(vv.storage.control.song_elapsed * 1000, 10);\n    if (vv.storage.control.state === \"play\") {\n      elapsed += (new Date()).getTime() - vv.storage.last_modified_ms.control;\n    }\n    const total = parseInt(vv.storage.current.Time[0], 10);\n    const d = (elapsed * 360 / 1000 / total - 90) * (Math.PI / 180);\n    if (isNaN(d)) {\n      return;\n    }\n    const x = 100 + 90 * Math.cos(d);\n    const y = 100 + 90 * Math.sin(d);\n    if (x <= 100) {\n      c.setAttribute(\n          \"d\",\n          \"M 100,10 L 100,10 A 90,90 0 0,1 100,190 L 100,190 A 90,90 0 0,1 \" +\n              `${x},${y}`);\n    } else {\n      c.setAttribute(\"d\", `M 100,10 L 100,10 A 90,90 0 0,1 ${x},${y}`);\n    }\n  },\n  onStart() {\n    document.getElementById(\"control-volume\").addEventListener(\"change\", e => {\n      vv.control.volume(parseInt(e.currentTarget.value, 10));\n    });\n    vv.control.click(document.getElementById(\"main-cover\"), () => {\n      if (vv.storage.current !== null) {\n        vv.view.modal.song(vv.storage.current);\n      }\n    });\n    vv.view.main.onPreferences();\n    vv.control.swipe(\n        document.getElementById(\"main\"), vv.view.list.show, null,\n        document.getElementById(\"lists\"), true);\n  }\n};\nvv.control.addEventListener(\"poll\", vv.view.main.onPoll);\nvv.control.addEventListener(\"start\", vv.view.main.onStart);\nvv.control.addEventListener(\"current\", vv.view.main.onCurrent);\nvv.control.addEventListener(\"control\", vv.view.main.onControl);\nvv.control.addEventListener(\"preferences\", vv.view.main.onPreferences);\n\nvv.view.list = {\n  show() {\n    document.body.classList.add(\"view-list\");\n    document.body.classList.remove(\"view-main\");\n  },\n  hidden() {\n    const c = document.body.classList;\n    if (window.matchMedia(\"(orientation: portrait)\").matches) {\n      return !c.contains(\"view-list\");\n    }\n    return !(c.contains(\"view-list\") || c.contains(\"view-main\"));\n  },\n  _preferences_update() {\n    const index = vv.storage.tree.length;\n    const ul = document.getElementById(\"list-items\" + index);\n    if (vv.storage.preferences.appearance.gridview_album) {\n      ul.classList.add(\"grid\");\n      ul.classList.remove(\"nogrid\");\n    } else {\n      ul.classList.add(\"nogrid\");\n      ul.classList.remove(\"grid\");\n    }\n  },\n  _updatepos() {\n    const index = vv.storage.tree.length;\n    const lists = document.getElementsByClassName(\"list\");\n    for (let listindex = 0; listindex < lists.length; listindex++) {\n      if (listindex < index) {\n        lists[listindex].style.transform = \"translate3d(-100%,0,0)\";\n      } else if (listindex === index) {\n        lists[listindex].style.transform = \"translate3d(0,0,0)\";\n      } else {\n        lists[listindex].style.transform = \"translate3d(100%,0,0)\";\n      }\n    }\n  },\n  _updateFocus() {\n    const index = vv.storage.tree.length;\n    const ul = document.getElementById(\"list-items\" + index);\n    let focus = null;\n    let viewNowPlaying = false;\n    const rootname = vv.library.rootname();\n    const focusSong = vv.library.focus;\n    const focusParent = vv.library.child;\n    for (const listitem of Array.from(ul.children)) {\n      if (listitem.classList.contains(\"list-header\")) {\n        continue;\n      }\n      if (focusSong && focusSong.file && focusParent) {\n        if (focusParent === listitem.dataset.key) {\n          focus = listitem;\n          focus.classList.add(\"selected\");\n        } else {\n          listitem.classList.remove(\"selected\");\n        }\n      } else if (\n          rootname !== \"root\" && focusSong && focusSong.file &&\n          listitem.dataset.file === focusSong.file[0]) {\n        focus = listitem;\n        focus.classList.add(\"selected\");\n      } else {\n        listitem.classList.remove(\"selected\");\n      }\n      let treeFocused = true;\n      if (vv.storage.sorted && vv.storage.sorted.sorted) {\n        if (rootname === \"root\") {\n          treeFocused = false;\n        } else if (\n            vv.storage.sorted.keys.join() !==\n            vv.library.TREE[rootname].sort.join()) {\n          treeFocused = false;\n        }\n      }\n      const elapsed = Array.from(listitem.getElementsByClassName(\"song-elapsed\"));\n      const sep = Array.from(listitem.getElementsByClassName(\"song-lengthseparator\"));\n      if (treeFocused && elapsed.length !== 0 && vv.storage.current !== null &&\n          vv.storage.current.file[0] === listitem.dataset.file) {\n        viewNowPlaying = true;\n        if (focusSong && !focusSong.file) {\n          listitem.classList.add(\"selected\");\n        }\n        if (listitem.classList.contains(\"playing\")) {\n          continue;\n        }\n        listitem.classList.add(\"playing\");\n        for (const e of elapsed) {\n          e.classList.add(\"elapsed\");\n          e.setAttribute(\"aria-hidden\", \"false\");\n        }\n        for (const s of sep) {\n          s.setAttribute(\"aria-hidden\", \"false\");\n        }\n      } else {\n        if (!listitem.classList.contains(\"playing\")) {\n          continue;\n        }\n        listitem.classList.remove(\"playing\");\n        for (const e of elapsed) {\n          e.classList.remove(\"elapsed\");\n          e.setAttribute(\"aria-hidden\", \"true\");\n        }\n        for (const s of sep) {\n          s.setAttribute(\"aria-hidden\", \"true\");\n        }\n      }\n    }\n\n    const scroll = document.getElementById(\"list\" + index);\n    if (focus) {\n      window.requestAnimationFrame(() => {\n        const pos = focus.offsetTop;\n        const t = scroll.scrollTop;\n        if (t >= pos || pos >= t + scroll.clientHeight) {\n          scroll.scrollTop = pos;\n        }\n      });\n    } else {\n      scroll.scrollTop = 0;\n    }\n\n    if (viewNowPlaying) {\n      document.getElementById(\"header-main\").classList.add(\"playing\");\n    } else {\n      document.getElementById(\"header-main\").classList.remove(\"playing\");\n    }\n  },\n  _clearAllLists() {\n    const lists = document.getElementsByClassName(\"list\");\n    for (let treeindex = 0; treeindex < vv.storage.tree.length; treeindex++) {\n      const oldul =\n          lists[treeindex + 1].getElementsByClassName(\"list-items\")[0];\n      while (oldul.lastChild) {\n        oldul.removeChild(oldul.lastChild);\n      }\n      lists[treeindex + 1].dataset.pwd = \"\";\n    }\n  },\n  _element(song, key, style, largeImage, header) {\n    const c = document.querySelector(`#list-${style}-template`).content;\n    const e = c.querySelector(\"li\");\n    e.dataset.key = vv.song.getOne(song, key);\n    if (header) {\n      e.classList.add(\"list-header\");\n      e.classList.remove(\"selectable\");\n    } else {\n      e.classList.add(\"selectable\");\n      e.classList.remove(\"list-header\");\n    }\n    if (song.file) {\n      e.dataset.file = song.file[0];\n      e.dataset.pos = song.pos;\n    } else {\n      e.dataset.file = \"\";\n      e.dataset.pos = \"\";\n    }\n    for (const n of e.querySelectorAll(\"span\")) {\n      if (!n.dataset) {\n        continue;\n      }\n      const target = n.dataset.textContent;\n      if (target === \"key\") {\n        n.textContent = vv.song.getOne(song, key);\n      } else if (target) {\n        n.textContent = vv.song.get(song, target);\n      }\n    }\n    if (style === \"song\") {\n      if (song.file) {\n        const tooltip = [\n          \"Length\", \"Artist\", \"Album\", \"Track\", \"Genre\", \"Performer\"\n        ].map(key => `${key}: ${vv.song.get(song, key)}`);\n        tooltip.unshift(vv.song.get(song, \"Title\"));\n        e.setAttribute(\"title\", tooltip.join(\"\\n\"));\n      } else {\n        e.removeAttribute(\"title\");\n      }\n    } else if (style === \"album\") {\n      const cover = c.querySelector(\".album-cover\");\n      if (song.cover) {\n        const base = largeImage ? 150 : 70;\n        const imgsize = parseInt(base * window.devicePixelRatio, 10);\n        cover.src = \"/api/images/music_directory/\" +\n            `${song.cover}?width=${imgsize}&height=${imgsize}`;\n      } else {\n        cover.src = \"/assets/nocover.svg\";\n      }\n      cover.alt = `Cover art: ${vv.song.get(song, \"Album\")} ` +\n          `by ${vv.song.get(song, \"AlbumArtist\")}`;\n    }\n    return document.importNode(c, true);\n  },\n  _listHandler(e) {\n    if (e.currentTarget.classList.contains(\"playing\")) {\n      if (vv.storage.current === null) {\n        return;\n      }\n      vv.library.abs(vv.storage.current);\n      vv.view.main.show();\n      return;\n    }\n    const value = e.currentTarget.dataset.key;\n    const pos = e.currentTarget.dataset.pos;\n    if (e.currentTarget.classList.contains(\"song\")) {\n      vv.control.play(parseInt(pos, 10));\n    } else {\n      vv.library.down(value);\n    }\n  },\n  _update() {\n    const index = vv.storage.tree.length;\n    const scroll = document.getElementById(\"list\" + index);\n    const pwd = vv.storage.tree.join();\n    if (scroll.dataset.pwd === pwd) {\n      vv.view.list._updatepos();\n      vv.view.list._updateFocus();\n      return;\n    }\n    scroll.dataset.pwd = pwd;\n    const ls = vv.library.list();\n    const key = ls.key;\n    const songs = ls.songs;\n    const style = ls.style;\n    const newul = document.createDocumentFragment();\n    const lists = document.getElementsByClassName(\"list\");\n    for (let treeindex = 0; treeindex < vv.storage.tree.length; treeindex++) {\n      const currentpwd = vv.storage.tree.slice(0, treeindex + 1).join();\n      const viewpwd = lists[treeindex + 1].dataset.pwd;\n      if (currentpwd !== viewpwd) {\n        const oldul =\n            lists[treeindex + 1].getElementsByClassName(\"list-items\")[0];\n        while (oldul.lastChild) {\n          oldul.removeChild(oldul.lastChild);\n        }\n        lists[treeindex + 1].dataset.pwd = \"\";\n      }\n    }\n    vv.view.list._updatepos();\n    const ul = document.getElementById(\"list-items\" + index);\n    while (ul.lastChild) {\n      ul.removeChild(ul.lastChild);\n    }\n    ul.classList.remove(\"songlist\");\n    ul.classList.remove(\"albumlist\");\n    ul.classList.remove(\"plainlist\");\n    ul.classList.add(style + \"list\");\n    vv.view.list._preferences_update();\n    const p = vv.library.parent();\n    for (let i = 0, imax = songs.length; i < imax; i++) {\n      if (i === 0 && p) {\n        const li = vv.view.list._element(p.song, p.key, p.style, false, true);\n        newul.appendChild(li);\n      }\n      const li = vv.view.list._element(\n          songs[i], key, style, ul.classList.contains(\"grid\"), false);\n      vv.control.click(\n          li.querySelector(\"li\"), vv.view.list._listHandler, false);\n      newul.appendChild(li);\n    }\n    ul.appendChild(newul);\n    vv.view.list._updateFocus();\n  },\n  _updateForce() {\n    vv.view.list._clearAllLists();\n    vv.view.list._update();\n  },\n  _select_near_item() {\n    const index = vv.storage.tree.length;\n    const scroll = document.getElementById(\"list\" + index);\n    let updated = false;\n    for (const selectable of document.querySelectorAll(`#list-items${index}.selectable`)) {\n      const p = selectable.offsetTop;\n      if (scroll.scrollTop < p && p < scroll.scrollTop + scroll.clientHeight &&\n          !updated) {\n        selectable.classList.add(\"selected\");\n        updated = true;\n      } else {\n        selectable.classList.remove(\"selected\");\n      }\n    }\n  },\n  _select_focused_or(target) {\n    const style = vv.library.list().style;\n    const index = vv.storage.tree.length;\n    const scroll = document.getElementById(\"list\" + index);\n    const l = document.getElementById(\"list-items\" + index);\n    let itemcount = parseInt(scroll.clientWidth / 160, 10);\n    if (!vv.storage.preferences.appearance.gridview_album) {\n      itemcount = 1;\n    }\n    const t = scroll.scrollTop;\n    const h = scroll.clientHeight;\n    const s = l.getElementsByClassName(\"selected\");\n    const f = l.getElementsByClassName(\"playing\");\n    let p = 0;\n    let c = null;\n    let n = null;\n    if (s.length === 0 && f.length === 1) {\n      p = f[0].offsetTop;\n      if (t < p && p < t + h) {\n        f[0].classList.add(\"selected\");\n        return;\n      }\n    }\n    if (s.length > 0) {\n      p = s[0].offsetTop;\n      if (p < t || t + h < p + s[0].offsetHeight) {\n        vv.view.list._select_near_item();\n        return;\n      }\n    }\n    if (s.length === 0 && f.length === 0) {\n      vv.view.list._select_near_item();\n      return;\n    }\n    if (s.length > 0) {\n      let selectables = l.getElementsByClassName(\"selectable\");\n      if (target === \"up\" && selectables[0] === s[0]) {\n        return;\n      }\n      if (target === \"down\" && selectables[selectables.length - 1] === s[0]) {\n        return;\n      }\n      for (let i = 0; i < selectables.length; i++) {\n        c = selectables[i];\n        if (c === s[0]) {\n          if ((i > 0 && target === \"up\" && style !== \"album\") ||\n              (i > 0 && target === \"left\")) {\n            n = selectables[i - 1];\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop;\n            if (p < t) {\n              scroll.scrollTop = p;\n            }\n            return;\n          }\n          if (i > itemcount - 1 && target === \"up\" && style === \"album\") {\n            n = selectables[i - itemcount];\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop;\n            if (p < t) {\n              scroll.scrollTop = p;\n            }\n            return;\n          }\n          if ((i !== (selectables.length - 1) && target === \"down\" &&\n               style !== \"album\") ||\n              (i !== (selectables.length - 1) && target === \"right\")) {\n            n = selectables[i + 1];\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop + n.offsetHeight;\n            if (t + h < p) {\n              scroll.scrollTop = p - h;\n            }\n            return;\n          }\n          if ((i < (selectables.length - 1) && target === \"down\" &&\n               style === \"album\") ||\n              (i !== (selectables.length - 1) && target === \"right\")) {\n            if (i + itemcount >= selectables.length) {\n              n = selectables[selectables.length - 1];\n            } else {\n              n = selectables[i + itemcount];\n            }\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop + n.offsetHeight;\n            if (t + h < p) {\n              scroll.scrollTop = p - h;\n            }\n            return;\n          }\n        }\n      }\n    }\n  },\n  up() { vv.view.list._select_focused_or(\"up\"); },\n  left() { vv.view.list._select_focused_or(\"left\"); },\n  right() { vv.view.list._select_focused_or(\"right\"); },\n  down() { vv.view.list._select_focused_or(\"down\"); },\n  activate() {\n    const index = vv.storage.tree.length;\n    const es = document.getElementById(\"list-items\" + index)\n                   .getElementsByClassName(\"selected\");\n    if (es.length !== 0) {\n      const e = {};\n      e.currentTarget = es[0];\n      es[0].click_target(e);\n      return true;\n    }\n    return false;\n  },\n  onCurrent() { vv.view.list._update(); },\n  onPreferences() { vv.view.list._preferences_update(); },\n  onStart() {\n    vv.library.addEventListener(\"update\", vv.view.list._updateForce);\n    vv.library.addEventListener(\"changed\", vv.view.list._update);\n    vv.control.swipe(\n        document.getElementById(\"list1\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list0\"));\n    vv.control.swipe(\n        document.getElementById(\"list2\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list1\"));\n    vv.control.swipe(\n        document.getElementById(\"list3\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list2\"));\n    vv.control.swipe(\n        document.getElementById(\"list4\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list3\"));\n    vv.control.swipe(\n        document.getElementById(\"list5\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list4\"));\n  }\n};\nvv.control.addEventListener(\"current\", vv.view.list.onCurrent);\nvv.control.addEventListener(\"preferences\", vv.view.list.onPreferences);\nvv.control.addEventListener(\"start\", vv.view.list.onStart);\n\nvv.view.system = {\n  _initconfig(id) {\n    const obj = document.getElementById(id);\n    const s = id.indexOf(\"-\");\n    const mainkey = id.slice(0, s);\n    const subkey = id.slice(s + 1).replace(/-/g, \"_\");\n    let getter = null;\n    if (obj.type === \"checkbox\") {\n      obj.checked = vv.storage.preferences[mainkey][subkey];\n      getter = () => { return obj.checked; };\n    } else if (obj.tagName.toLowerCase() === \"select\") {\n      obj.value = String(vv.storage.preferences[mainkey][subkey]);\n      getter = () => { return obj.value; };\n    } else if (obj.type === \"range\") {\n      obj.value = String(vv.storage.preferences[mainkey][subkey]);\n      getter = () => { return parseInt(obj.value, 10); };\n      obj.addEventListener(\"input\", () => {\n        vv.storage.preferences[mainkey][subkey] = obj.value;\n        vv.control.raiseEvent(\"preferences\");\n      });\n    }\n    obj.addEventListener(\"change\", () => {\n      vv.storage.preferences[mainkey][subkey] = getter();\n      vv.storage.save.preferences();\n      vv.control.raiseEvent(\"preferences\");\n    });\n  },\n  onPreferences() {\n    if (vv.storage.preferences.appearance.animation) {\n      document.body.classList.add(\"animation\");\n    } else {\n      document.body.classList.remove(\"animation\");\n    }\n  },\n  onOutputs() {\n    const ul = document.getElementById(\"devices\");\n    while (ul.lastChild) {\n      ul.removeChild(ul.lastChild);\n    }\n    const newul = document.createDocumentFragment();\n    for (const o of vv.storage.outputs) {\n      const c = document.querySelector(\"#device-template\").content;\n      const e = c.querySelector(\"li\");\n      e.querySelector(\".system-setting-desc\").textContent = o.outputname;\n      const ch = e.querySelector(\".slideswitch\");\n      ch.setAttribute(\"aria-label\", o.outputname);\n      ch.dataset.deviceid = o.outputid;\n      ch.checked = o.outputenabled === \"1\";\n      const d = document.importNode(c, true);\n      d.querySelector(\".slideswitch\").addEventListener(\"change\", e => {\n        vv.control.output(\n            parseInt(e.currentTarget.dataset.deviceid, 10),\n            e.currentTarget.checked);\n      });\n      newul.appendChild(d);\n    }\n    ul.appendChild(newul);\n  },\n  onControl() {\n    const e = document.getElementById(\"library-rescan\");\n    if (vv.storage.control.update_library && !e.disabled) {\n      e.disabled = true;\n    } else if (!vv.storage.control.update_library && e.disabled) {\n      e.disabled = false;\n    }\n  },\n  onStart() {\n    // preferences\n    vv.view.system.onPreferences();\n\n    // Mobile\n    if (navigator.userAgent.indexOf(\"Mobile\") > 1) {\n      document.getElementById(\"config-appearance-auto-hide-scrollbar\")\n          .classList.add(\"hide\");\n    }\n\n    vv.control.addEventListener(\"control\", () => {\n      if (vv.storage.control.volume < 0) {\n        document.getElementById(\"volume-header\").classList.add(\"hide\");\n        document.getElementById(\"volume-all\").classList.add(\"hide\");\n      } else {\n        document.getElementById(\"volume-header\").classList.remove(\"hide\");\n        document.getElementById(\"volume-all\").classList.remove(\"hide\");\n      }\n    });\n\n    vv.view.system._initconfig(\"appearance-color-threshold\");\n    vv.view.system._initconfig(\"appearance-animation\");\n    vv.view.system._initconfig(\"appearance-background-image\");\n    vv.view.system._initconfig(\"appearance-background-image-blur\");\n    vv.view.system._initconfig(\"appearance-circled-image\");\n    vv.view.system._initconfig(\"appearance-gridview-album\");\n    vv.view.system._initconfig(\"appearance-auto-hide-scrollbar\");\n    vv.view.system._initconfig(\"playback-view-follow\");\n    vv.view.system._initconfig(\"volume-show\");\n    vv.view.system._initconfig(\"volume-max\");\n    document.getElementById(\"system-reload\").addEventListener(\"click\", () => {\n      location.reload();\n    });\n    document.getElementById(\"library-rescan\").addEventListener(\"click\", () => {\n      vv.control.rescan_library();\n    });\n    // info\n    document.getElementById(\"user-agent\").textContent = navigator.userAgent;\n\n    const navs = Array.from(document.getElementsByClassName(\"system-nav-item\"));\n    const showChild = e => {\n      for (const nav of navs) {\n        if (nav === e.currentTarget) {\n          if (nav.id === \"system-nav-stats\") {\n            vv.view.system._update_time();\n            vv.view.system._update_stats();\n          }\n          nav.classList.add(\"on\");\n          document.getElementById(nav.dataset.target).classList.add(\"on\");\n        } else {\n          nav.classList.remove(\"on\");\n          document.getElementById(nav.dataset.target).classList.remove(\"on\");\n        }\n      }\n    };\n    for (const nav of navs) {\n      nav.addEventListener(\"click\", showChild);\n    }\n  },\n  _zfill2(i) {\n    if (i < 100) {\n      return (\"00\" + i).slice(-2);\n    }\n    return i;\n  },\n  _strtimedelta(i) {\n    const zfill2 = vv.view.system._zfill2;\n    const uh = parseInt(i / (60 * 60), 10);\n    const um = parseInt((i - uh * 60 * 60) / 60, 10);\n    const us = parseInt(i - uh * 60 * 60 - um * 60, 10);\n    return `${zfill2(uh)}:${zfill2(um)}:${zfill2(us)}`;\n  },\n  _update_stats() {\n    document.getElementById(\"stat-albums\").textContent =\n        vv.storage.stats.albums;\n    document.getElementById(\"stat-artists\").textContent =\n        vv.storage.stats.artists;\n    document.getElementById(\"stat-db-playtime\").textContent =\n        vv.view.system._strtimedelta(\n            parseInt(vv.storage.stats.db_playtime, 10));\n    document.getElementById(\"stat-playtime\").textContent =\n        vv.view.system._strtimedelta(parseInt(vv.storage.stats.playtime, 10));\n    document.getElementById(\"stat-tracks\").textContent = vv.storage.stats.songs;\n    const db_update = new Date(parseInt(vv.storage.stats.db_update, 10) * 1000);\n    const options = {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      weekday: \"short\"\n    };\n    document.getElementById(\"stat-db-update\").textContent =\n        db_update.toLocaleString(document.documentElement.lang, options);\n    document.getElementById(\"stat-websockets\").textContent =\n        vv.storage.stats.subscribers;\n  },\n  _update_time() {\n    const diff = parseInt(\n        ((new Date()).getTime() - vv.storage.last_modified_ms.stats) / 1000,\n        10);\n    const uptime = parseInt(vv.storage.stats.uptime, 10) + diff;\n    if (vv.storage.control.state === \"play\") {\n      const playtime = parseInt(vv.storage.stats.playtime, 10) + diff;\n      document.getElementById(\"stat-playtime\").textContent =\n          vv.view.system._strtimedelta(playtime);\n    }\n    document.getElementById(\"stat-uptime\").textContent =\n        vv.view.system._strtimedelta(uptime);\n  },\n  onPoll() {\n    if (document.getElementById(\"system-stats\").classList.contains(\"on\")) {\n      vv.view.system._update_time();\n    }\n  },\n  onStats() {\n    if (document.getElementById(\"system-stats\").classList.contains(\"on\")) {\n      vv.view.system._update_stats();\n    }\n  },\n  onVersion() {\n    if (vv.storage.version.vv) {\n      document.getElementById(\"version\").textContent = vv.storage.version.vv;\n      document.getElementById(\"go-version\").textContent = vv.storage.version.go;\n    }\n  },\n  show() {\n    document.getElementById(\"modal-background\").classList.remove(\"hide\");\n    document.getElementById(\"modal-outer\").classList.remove(\"hide\");\n    document.getElementById(\"modal-system\").classList.remove(\"hide\");\n  }\n};\nvv.control.addEventListener(\"start\", vv.view.system.onStart);\nvv.control.addEventListener(\"version\", vv.view.system.onVersion);\nvv.control.addEventListener(\"poll\", vv.view.system.onPoll);\nvv.control.addEventListener(\"control\", vv.view.system.onControl);\nvv.control.addEventListener(\"status\", vv.view.system.onStats);\nvv.control.addEventListener(\"preferences\", vv.view.system.onPreferences);\nvv.control.addEventListener(\"outputs\", vv.view.system.onOutputs);\n\n// header\n{\n  const update = () => {\n    const e = document.getElementById(\"header-back-label\");\n    const b = document.getElementById(\"header-back\");\n    const m = document.getElementById(\"header-main\");\n    if (vv.library.rootname() === \"root\") {\n      b.classList.add(\"root\");\n      m.classList.add(\"root\");\n    } else {\n      b.classList.remove(\"root\");\n      m.classList.remove(\"root\");\n      const songs = vv.library.list().songs;\n      if (songs[0]) {\n        const p = vv.library.grandparent();\n        if (p) {\n          e.textContent = vv.song.getOne(p.song, p.key);\n          if (p.song.keys) {\n            for (const kv of p.song.keys) {\n              if (kv[0] === p.key) {\n                e.textContent = kv[1];\n                break;\n              }\n            }\n          }\n          b.setAttribute(\n              \"title\", b.dataset.titleFormat.replace(\"%s\", e.textContent));\n          b.setAttribute(\n              \"aria-label\",\n              b.dataset.ariaLabelFormat.replace(\"%s\", e.textContent));\n        }\n      }\n    }\n  };\n  vv.control.addEventListener(\"start\", () => {\n    document.getElementById(\"header-back\").addEventListener(\"click\", e => {\n      if (vv.view.list.hidden()) {\n        if (vv.storage.current !== null) {\n          vv.library.abs(vv.storage.current);\n        }\n      } else {\n        vv.library.up();\n      }\n      vv.view.list.show();\n      e.stopPropagation();\n    });\n    document.getElementById(\"header-main\").addEventListener(\"click\", e => {\n      e.stopPropagation();\n      if (vv.storage.current !== null) {\n        vv.library.abs(vv.storage.current);\n      }\n      vv.view.main.show();\n      e.stopPropagation();\n    });\n    document.getElementById(\"header-system\").addEventListener(\"click\", e => {\n      vv.view.system.show();\n      e.stopPropagation();\n    });\n    update();\n    vv.library.addEventListener(\"changed\", update);\n    vv.library.addEventListener(\"update\", update);\n  });\n}\n\nvv.view.footer = {\n  onPreferences() {\n    const c = document.getElementById(\"control-volume\");\n    c.max = parseInt(vv.storage.preferences.volume.max, 10);\n    if (vv.storage.preferences.volume.show) {\n      c.classList.remove(\"hide\");\n    } else {\n      c.classList.add(\"hide\");\n    }\n  },\n  onStart() {\n    vv.view.footer.onPreferences();\n    document.getElementById(\"control-prev\").addEventListener(\"click\", e => {\n      vv.control.prev();\n      e.stopPropagation();\n    });\n    document.getElementById(\"control-toggleplay\")\n        .addEventListener(\"click\", e => {\n          vv.control.play_pause();\n          e.stopPropagation();\n        });\n    document.getElementById(\"control-next\").addEventListener(\"click\", e => {\n      vv.control.next();\n      e.stopPropagation();\n    });\n    document.getElementById(\"control-repeat\").addEventListener(\"click\", e => {\n      vv.control.toggle_repeat();\n      e.stopPropagation();\n    });\n    document.getElementById(\"control-random\").addEventListener(\"click\", e => {\n      vv.control.toggle_random();\n      e.stopPropagation();\n    });\n  },\n  onControl() {\n    const toggleplay = document.getElementById(\"control-toggleplay\");\n    if (vv.storage.control.state === \"play\") {\n      toggleplay.setAttribute(\"aria-label\", toggleplay.dataset.ariaLabelPause);\n      toggleplay.classList.add(\"pause\");\n      toggleplay.classList.remove(\"play\");\n    } else {\n      toggleplay.setAttribute(\"aria-label\", toggleplay.dataset.ariaLabelPlay);\n      toggleplay.classList.add(\"play\");\n      toggleplay.classList.remove(\"pause\");\n    }\n    const repeat = document.getElementById(\"control-repeat\");\n    if (vv.storage.control.single) {\n      repeat.setAttribute(\"aria-label\", repeat.dataset.ariaLabelOn);\n      repeat.classList.add(\"single-on\");\n      repeat.classList.remove(\"single-off\");\n    } else {\n      repeat.classList.add(\"single-off\");\n      repeat.classList.remove(\"single-on\");\n    }\n    if (vv.storage.control.repeat) {\n      if (!vv.storage.control.single) {\n        repeat.setAttribute(\"aria-label\", repeat.dataset.ariaLabelSingleOff);\n      }\n      repeat.classList.add(\"on\");\n      repeat.classList.remove(\"off\");\n    } else {\n      if (!vv.storage.control.single) {\n        repeat.setAttribute(\"aria-label\", repeat.dataset.ariaLabelOff);\n      }\n      repeat.classList.add(\"off\");\n      repeat.classList.remove(\"on\");\n    }\n    const random = document.getElementById(\"control-random\");\n    if (vv.storage.control.random) {\n      random.setAttribute(\"aria-label\", random.dataset.ariaLabelOn);\n      random.classList.add(\"on\");\n      random.classList.remove(\"off\");\n    } else {\n      random.setAttribute(\"aria-label\", random.dataset.ariaLabelOff);\n      random.classList.add(\"off\");\n      random.classList.remove(\"on\");\n    }\n  }\n};\nvv.control.addEventListener(\"start\", vv.view.footer.onStart);\nvv.control.addEventListener(\"control\", vv.view.footer.onControl);\n\nvv.view.popup = {\n  show(target, description) {\n    const obj = document.getElementById(\"popup-\" + target);\n    if (!obj) {\n      vv.view.popup.show(\"fixme\", `popup-${target} is not found in html`);\n      return;\n    }\n    if (description) {\n      const desc = obj.getElementsByClassName(\"popup-description\")[0];\n      const textContent = desc.dataset[description] || description;\n      desc.textContent = textContent;\n    }\n    obj.classList.remove(\"hide\");\n    obj.classList.add(\"show\");\n    obj.timestamp = (new Date()).getTime();\n    obj.ttl = obj.timestamp + 4000;\n    setTimeout(() => {\n      if ((new Date()).getTime() - obj.ttl > 0) {\n        obj.classList.remove(\"show\");\n        obj.classList.add(\"hide\");\n      }\n    }, 5000);\n  },\n  hide(target) {\n    const obj = document.getElementById(\"popup-\" + target);\n    if (obj) {\n      const now = (new Date()).getTime();\n      if (now - obj.timestamp < 600) {\n        obj.ttl = obj.timestamp + 500;\n        setTimeout(() => {\n          if ((new Date()).getTime() - obj.ttl > 0) {\n            obj.classList.remove(\"show\");\n            obj.classList.add(\"hide\");\n          }\n        }, 600);\n      } else {\n        obj.ttl = now;\n        obj.classList.remove(\"show\");\n        obj.classList.add(\"hide\");\n      }\n    }\n  }\n};\n\n// elapsed circle/time updater\n{\n  const update = () => {\n    const data = vv.storage.control;\n    if (\"state\" in data) {\n      const elapsed = parseInt(data.song_elapsed * 1000, 10);\n      let current = elapsed;\n      if (data.state === \"play\") {\n        current += (new Date()).getTime() - vv.storage.last_modified_ms.control;\n      }\n      current = parseInt(current / 1000, 10);\n      const min = parseInt(current / 60, 10);\n      const sec = current % 60;\n      const label = min + \":\" + (\"0\" + sec).slice(-2);\n      [].forEach.call(document.getElementsByClassName(\"elapsed\"), x => {\n        if (x.textContent !== label) {\n          x.textContent = label;\n        }\n      });\n    }\n  };\n  vv.control.addEventListener(\"control\", update);\n  vv.control.addEventListener(\"poll\", update);\n}\n\nvv.view.modal = {\n  hide() {\n    document.getElementById(\"modal-background\").classList.add(\"hide\");\n    document.getElementById(\"modal-outer\").classList.add(\"hide\");\n    for (const w of Array.from(document.getElementsByClassName(\"modal-window\"))) {\n      w.classList.add(\"hide\");\n    }\n  },\n  onStart() {\n    document.getElementById(\"modal-background\")\n        .addEventListener(\"click\", vv.view.modal.hide);\n    document.getElementById(\"modal-outer\")\n        .addEventListener(\"click\", vv.view.modal.hide);\n    for (const w of Array.from(document.getElementsByClassName(\"modal-window\"))) {\n      w.addEventListener(\"click\", e => { e.stopPropagation(); });\n    }\n    for (const w of Array.from(document.getElementsByClassName(\"modal-window-close\"))) {\n      w.addEventListener(\"click\", vv.view.modal.hide);\n    }\n  },\n  help() {\n    const b = document.getElementById(\"modal-background\");\n    if (!b.classList.contains(\"hide\")) {\n      return;\n    }\n    b.classList.remove(\"hide\");\n    document.getElementById(\"modal-outer\").classList.remove(\"hide\");\n    document.getElementById(\"modal-help\").classList.remove(\"hide\");\n  },\n  song(song) {\n    const mustkeys = [\n      \"Title\", \"Artist\", \"Album\", \"Date\", \"AlbumArtist\", \"Genre\", \"Performer\",\n      \"Disc\", \"Track\", \"Composer\", \"Length\"\n    ];\n    for (const key of mustkeys) {\n      const doc = document.getElementById(\"modal-song-box-\" + key);\n      while (doc.lastChild) {\n        doc.removeChild(doc.lastChild);\n      }\n      const newdoc = document.createDocumentFragment();\n      const values = vv.song.getOrElseMulti(song, key, []);\n      if (values.length === 0) {\n        const emptyvalue = document.createElement(\"span\");\n        emptyvalue.classList.add(\"modal-song-box-item-value\");\n        emptyvalue.classList.add(\"modal-song-box-item-value-empty\");\n        newdoc.appendChild(emptyvalue);\n      } else {\n        const root = vv.library.TREE[key];\n        let targetValues = [];\n        if (root && root.tree) {\n          const target = root.tree[0][0];\n          if (target.split(\"-\").indexOf(key) !== -1) {\n            targetValues = vv.song.getOrElseMulti(song, target, values);\n          }\n        }\n        for (const value of values) {\n          const obj = document.createElement(\"span\");\n          obj.classList.add(\"modal-song-box-item-value\");\n          obj.textContent = value;\n          if (targetValues.length) {\n            obj.dataset.root = key;\n            for (const targetValue of targetValues) {\n              if (targetValue.includes(value)) {\n                obj.dataset.value = targetValue;\n                obj.classList.add(\"modal-song-box-item-value-clickable\");\n                obj.addEventListener(\"click\", e => {\n                  const d = e.currentTarget.dataset;\n                  vv.library.absaddr(d.root, d.value);\n                  vv.view.list.show();\n                });\n                break;\n              }\n            }\n          } else {\n            obj.classList.add(\"modal-song-box-item-value-unclickable\");\n          }\n          newdoc.appendChild(obj);\n        }\n      }\n      doc.appendChild(newdoc);\n    }\n    const cover = document.getElementById(\"modal-song-box-cover\");\n    if (song.cover) {\n      const imgsize = window.devicePixelRatio * 112;\n      cover.src = \"/api/images/music_directory/\" +\n          `${song.cover}?width=${imgsize}&height=${imgsize}`;\n    } else {\n      cover.src = \"/assets/nocover.svg\";\n    }\n    document.getElementById(\"modal-background\").classList.remove(\"hide\");\n    document.getElementById(\"modal-outer\").classList.remove(\"hide\");\n    document.getElementById(\"modal-song\").classList.remove(\"hide\");\n  }\n};\nvv.control.addEventListener(\"start\", vv.view.modal.onStart);\n\n// keyboard events\n{\n  const shift = 1 << 3;\n  // const alt = 1 << 2;\n  const ctrl = 1 << 1;\n  const meta = 1;\n  const none = 0;\n  const any = t => {\n    return () => {\n      t();\n      return true;\n    };\n  };\n  const inList = t => {\n    return () => {\n      if (!vv.view.list.hidden()) {\n        t();\n        return true;\n      }\n      return false;\n    };\n  };\n  const back = () => {\n    if (vv.view.list.hidden()) {\n      if (vv.storage.current !== null) {\n        vv.library.abs(vv.storage.current);\n      }\n    } else {\n      vv.library.up();\n    }\n    vv.view.list.show();\n  };\n  const keymap = {\n    [none]: {\n      Enter() { return !vv.view.list.hidden() && vv.view.list.activate(); },\n      Backspace: any(back),\n      ArrowLeft: inList(vv.view.list.left),\n      ArrowUp: inList(vv.view.list.up),\n      ArrowRight: inList(vv.view.list.right),\n      ArrowDown: inList(vv.view.list.down),\n      [\" \"]: any(vv.control.play_pause),\n      [\"?\"]: any(vv.view.modal.help)\n    },\n    [shift]: {[\"?\"]: any(vv.view.modal.help)},\n    [meta]: {\n      ArrowLeft: any(back),\n      ArrowRight: any(() => {\n        if (vv.library.rootname() !== \"root\") {\n          if (vv.storage.current !== null) {\n            vv.library.abs(vv.storage.current);\n          }\n        }\n        vv.view.main.show();\n      })\n    },\n    [shift | ctrl]:\n        {ArrowLeft: any(vv.control.prev), ArrowRight: any(vv.control.next)}\n  };\n  vv.control.addEventListener(\"start\", () => {\n    document.addEventListener(\"keydown\", e => {\n      if (!document.getElementById(\"modal-background\")\n               .classList.contains(\"hide\")) {\n        if (e.key === \"Escape\" || e.key === \"Esc\") {\n          vv.view.modal.hide();\n        }\n        return;\n      }\n      const mod = e.shiftKey << 3 | e.altKey << 2 | e.ctrlKey << 1 | e.metaKey;\n      if (mod in keymap && e.key in keymap[mod]) {\n        if (keymap[mod][e.key]()) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n    });\n  });\n}\n\nvv.control.start();\n")
	// AssetsAppJSDate is gzip encoded assets/app.js
	AssetsAppJSDate = time.Unix(1527917321, 0)
	// AssetsAppPNG is assets/app.png
	AssetsAppPNG = []byte("\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00\xc0\x00\x00\x00\xc0\b\x06\x00\x00\x00R\xdcl\a\x00\x00\x00\x04sBIT\b\b\b\b|\bd\x88\x00\x00\x00\tpHYs\x00\x00\r\xd7\x00\x00\r\xd7\x01B(\x9bx\x00\x00\x00\x19tEXtSoftware\x00www.inkscape.org\x9b\xee<\x1a\x00\x00\x1bOIDATx\x9c\xed\x9d{PT\xd7\x1dǿ\xbb,,,/\x83F\xc1\"D-\x8a\xa2)\"\x82f|\x00\xd6\xce\x18\xb1\x16\x02\x01\x95\x9a\x1a\x1f1Zu\x0655Q\x90(\x8a\x065\x99X\x8c\x83e\x9afZQ\x11J\x10\xec43\xa0\x18\xea\x83\x06i\x15\xa2\x02\x8a\xbc\xc2+\x18\x04]X\\v\xfb\a\xc1\x9a\x84=ww\xd9s\xf7\xee\xde\xf3\xf9\xf7\xfc\xb8\xe7\a\x9cｿ\xdfy\xfc\x8eD\xab\xd5j\xc1`\x88\x14\xa9\xb9\x1d`0\xcc\t\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\r\x13\x00C\xd40\x010D\x8d\xcc\xdc\x0eX\x1b\x1a\x8d\x06\x0f\x1f>Dss3ZZZ\xd0\xdeގG\x8f\x1e\xa1\xab\xab\v\x8f\x1e=\x82J\xa5\xc2\xe3Ǐ\x01\x00j\xb5\x1a\x00 \x93\r\xfc\x1b\x9c\x9c\x9c \x97\xcb\xe1\xea\xea\n\x17\x17\x17\x8c\x181\x02\xa3F\x8d\x82\x87\x87\a\xdc\xdd\xdd1r\xe4HH$\x12\xb3\xfdn\xd6\b\x13\xc00\xe8\xed\xed\xc5\xed۷QSS\x83{\xf7\xee\xe1\xfe\xfd\xfbx\xf0\xe0\x01\x9e>}J\xa5?;;;x{{c\xe2ĉ\x980a\x02|||\xe0\xeb\xeb\v{{{*\xfd\x89\x01\t\xab\n\xa1?===\xb8q\xe3\x06nܸ\x81\xca\xcaJ\xd4\xd4Ԡ\xbf\xbf߬>\xd9\xd8\xd8\xc0\xc7\xc7\a~~~\b\b\b@@@\x00\x13\x84\x010\x01p\xd0\xdaڊ˗/\xe3ڵk\xb8y\xf3泰E\xa8\xd8\xda\xda\xe2\xe5\x97_Fpp0\x16,X\x80ѣG\x9b\xdb%A\xc3\x040\x04\x1d\x1d\x1d(**¥K\x97p\xfb\xf6mX\xea\x9fH\"\x91`\xeaԩ\b\t\tAXX\x18\xdc\xdc\xdc\xcc\xed\x92\xe0`\x02\xf8\x1e\x8dF\x83\xf2\xf2r\xe4\xe7磤\xa4D\xf0ozC\x91J\xa5\x981c\x06\xc2\xc3\xc31o\xde<\xd8\xd8ؘ\xdb%A z\x01(\x95J\x14\x14\x14 ;;\x1b\xad\xad\xad\xe6v\x87\x17\xdc\xdd\xdd\x11\x19\x19\x89%K\x96@\xa1P\x98\xdb\x1d\xb3\"Z\x01<|\xf8\x10YYY8\u007f\xfe<\x9e<y\xc2K\x9f\x12\x89\x04NNN\xb0\xb3\xb3\x83\x9d\x9d\xdd\x0f\xda\xfa\xfa\xfa\xd0\xd7ׇǏ\x1f\xf3\x16r999!<<\x1c\xaf\xbf\xfe:^x\xe1\x05^\xfa\x14\x1a\xa2\x13@gg'N\x9f>\x8d\xdc\xdc\\\xa8T*\x93>[&\x93\xc1\xdb\xdb\x1b\xe3Ǐ\xc7\xcf~\xf63\xb8\xbb\xbb?\x9b\xbfwqq\x81\x8b\x8b\v\xe7<\xbeV\xabEWW\x17\xba\xba\xba\xf0\xed\xb7ߢ\xa5\xa5\x05---hjj\u0083\a\x0fPWWg\xf2\xf0\xcc\xde\xde\x1e\xbf\xf9\xcdo\x10\x1b\x1b\vWWW\x93>[\xe8\x88F\x00*\x95\n\x99\x99\x998{\xf6,zzzL\xf2LOOOL\x9b6\rӦMÔ)S\xe0\xe5\xe5\xf5lQ\x8b\x16j\xb5\x1a\xf5\xf5\xf5\xb8}\xfb6nݺ\x85\xca\xcaJ466\x9a\xe4\xd9\n\x85\x02111\x88\x89\x89\x81\\.7\xc93\x85\x8e\xd5\v@\xabբ\xa8\xa8\b\xe9\xe9\xe9hkk\x1bֳ\x14\n\x05\x02\x03\x03\x11\x14\x14\x84\xe0\xe0`\x8c\x1a5\xcaD^\x0e\x8f\xb6\xb66\x94\x96\x96\xa2\xb4\xb4\x14eeeP*\x95\xc3z\xde\xe8ѣ\xb1a\xc3\x06\x84\x84\x84X\xfdʳU\v\xa0\xa1\xa1\x01\x87\x0f\x1f\xc6͛7\x8d~\x86B\xa1\xc0\x9c9s\x10\x1a\x1a\x8a\xa0\xa0 \xd8\xdaښ\xd0C\xd3\xd3\xd7ׇ\xd2\xd2R\\\xbat\tW\xae\\\x19\xd6\xd7\xce\xdf\xdf\x1f۶m\x83\xa7\xa7\xa7\t=\x14\x16V)\x80\xfe\xfe~\xe4\xe6\xe6\xe2\xe4ɓF\xc7\xf9\x93&M\xc2ҥK\xb1p\xe1B888\x98\xd8C~\xe8\xeb\xebÕ+W\x90\x9f\x9f\x8f\xb2\xb22\xa3\x9eagg\x87\xe5˗#..\x8ezxg\x0e\xacN\x00\xf5\xf5\xf5HNNFuu\xb5\xc1?+\x93ɰp\xe1BDGGc\xe2ĉ\x14\xbc3\x1f\xf7\xee\xddCVV\x16\n\v\v\x8dJ\xa2'O\x9e\x8c]\xbbvaܸq\x14\xbc3\x1fV#\x00\xadV\x8b\xbc\xbc<|\xf2\xc9'\x06\xbf\xf5\x1d\x1c\x1c\x10\x11\x11\x81\xc8\xc8H\x8c\x1c9\x92\x92\x87\u00a0\xa3\xa3\x03\xe7Ν\xc3\xe7\x9f\u007fnpxdoo\x8fM\x9b6!<<\x9c\x92w\xfcc\x15\x02P*\x95HIIAII\x89A?'\x97˟M\xff\x8d\x181\x82\x92w¤\xb3\xb3\x13\xa7N\x9dB^^\x9e\xc1/\x8c\xf9\xf3\xe7\xe3\x0f\u007f\xf8\x83U,\xa2Y\xbc\x00\xea\xeaꐐ\x90\x80\x86\x86\x06\xbd\u007fF\"\x91`ѢEX\xb7n\x9d`fr\xccE{{;\xd2\xd3\xd3QXXh\xd0\x02\x9c\x97\x97\x17\xf6\xed\xdb\a///\x8a\xde\xd1Ǣ\x05\xf0\xe5\x97_\"%%ŠO\xb9\xaf\xaf/\xb6n\xdd\n___\x8a\x9eY\x1e\x95\x95\x95\xf8\xf8\xe3\x8fQUU\xa5\xf7\xcf(\x14\n\xecڵ\v\xaf\xbc\xf2\nE\xcf\xe8b\xb1\x02\xc8\xce\xceFZZ\x9a\xdeo-\xb9\\\x8e7\xdex\x03111\x90J\xd9IС\xd0h4\xb8p\xe1\x02\x8e\x1f?\xae\xf7KE\"\x91`ժU\xf8\xdd\xef~G\xd79JX\x9c\x004\x1a\r\x8e\x1d;\x86\xdc\xdc\\\xbd\u007ffƌ\x19x\xe7\x9dw\xe0\xee\xeeN\xd13롹\xb9\x19\xa9\xa9\xa9(//\xd7\xfbg\"##\xb1i\xd3&\x8b{\xb9X\x94\x004\x1a\r\x0e\x1d:\x84/\xbe\xf8B/{\x99L\x86\x95+WbժU\x16\xf7\x8f17Z\xad\x169998q\xe2\x84\xdeӦ\xa1\xa1\xa1x\xef\xbd\xf7,j\xbd\xc0b\x04\xf0\xf4\xe9S$%%\xe1ʕ+zُ\x1d;\x16III\xf0\xf1\xf1\xa1\xec\x99uSUU\x85\xa4\xa4$477\xebe?w\xee\\$&&\n~\xc5|\x10\x8b\x10\xc0ӧO\xb1{\xf7n\x94\x96\x96\xeae\x1f\x1c\x1c\x8c]\xbbv\xc1\xd9ٙ\xb2g⠻\xbb\x1b\xc9\xc9\xc9\x06\xfd\xfd\xf7\xed\xdbg\x11\"\x10\xbc\x00\xd4j5\xf6\xec٣\xf7\x9b\u007f\xe5ʕx\xf3\xcd7Y\xc8cb4\x1a\r222p\xea\xd4)\xbd\xec\xe7Ν\x8b\xa4\xa4$\xc1\x9f<\x13\xb4\x004\x1a\r\x0e\x1c8\x80\xc2\xc2BN[\x1b\x1b\x1blٲ\x05\xbf\xfe\xf5\xafy\xf0L\xbc\xfc\xe3\x1f\xff\xc0ѣG\xf5\xca\v\x16,X\x80\xc4\xc4DA\xbf\x8c\x84\xeb\x19\x80cǎ\xe95\xf8\x1d\x1c\x1cp\xf0\xe0A6\xf8y`\xf1\xe2\xc5HIIѫ\xf4Jqq1\x8e\x1f?\u0383W\xc6#X\x01dee\xe95\xd5\xe9\xe4\xe4\x84\xd4\xd4T\x04\x06\x06\xf2\xe0\x15\x03\x00\x02\x03\x03\xf1\xe1\x87\x1f\xea\x95cegg#''\x87\a\xaf\x8cC\x90\x02())\xc1'\x9f|\xc2i\xe7\xeaꊣG\x8f\xc2\xcf\xcfϠ\xe7\u007f\xf7\xddwƺ\xc6\xf8\x1e___\x1c9r\x04...\x9c\xb6iiiz\xe7p|#8\x01444 %%\x85s\x85\xd7\xd1\xd1\x11\x87\x0e\x1d2j\x9a\xf3ԩSؾ};\xee\u07ffo\xac\x9b\f\x00>>>8z\xf4(\xe7\x97@\xa3\xd1 99\x19uuu<y\xa6?\x82\x12\x80R\xa9DBB\x02\xe7\x91>\xb9\\\x8e\x03\a\x0e`\xf2\xe4\xc9F\xf7UVV\x86\xf5\xeb\xd7\xe3ȑ#\xe8\xec\xec4\xfa9bg\xe2ĉ8x\xf0 硡\x9e\x9e\x1e$$$\xf0V\x81C_\x04#\x00\xadV\x8b\x94\x94\x14η\x84L&\xc3\xfe\xfd\xfb\xf1\xf2\xcb/\x0f\xbb\xcf\xfe\xfe~\xe4\xe7\xe7cժU\xc8\xcc̴\xbabX|1u\xeaT\xbd\xa6<\x1b\x1a\x1a\x90\x9a\x9aʓW\xfa!\x18\x01\xe4\xe5\xe5鵟\u007f\xf3\xe6͘9s\xa6I\xfb\xee\xee\xeeFzz:V\xaf^\x8dK\x97.\x99\xf4\xd9b!((\b\xf1\xf1\xf1\x9cv\xc5\xc5\xc5\xc8\xcf\xcf\xe7\xc1#\xfd\x10\x84\x00\xea\xeb\xeb\xf5Jz\xe3\xe2\xe2\xa8Nu666\xe2\xfd\xf7\xdfg\xf9\x81\x91\xbc\xfa\xea\xabX\xbe|9\xa7]ZZ\x9a\xc9J\xb9\f\x17\xb3\v@\xadV#99\x99\xf3TRpp0V\xaf^͋O,?0\x9e\xb5k\xd7b֬YD\x9b\xde\xde^$''\x9b\xbd\xb4< \x00\x01\x9c9s\x86\xf3\x00\xbb\xbb\xbb;\xde{\xef=^W\x14Y~`\x1cR\xa9\x14\t\t\t\xf0\xf0\xf0 \xdaݽ{\x17YYY<y\xa5\x1b\xb3\n\xa0\xa1\xa1\x01\x9f}\xf6\x19\xd1F&\x93a\xef\u07bdz\xcd7Ӏ\xe5\a\x86\xe3\xec\xec\x8c={\xf6pn\x8b\xfe\xf4\xd3O\xd1\xd4\xd4ēWCc6\x01h\xb5Z\x1c>|\x18}}}D\xbb\xb5k\xd7\nbK3\xcb\x0f\fc\xf2\xe4ɜ!\xabJ\xa5\u0091#Gx\xf2hh\xcc&\x80\xa2\xa2\"Ίm\x01\x01\x01\x88\x8e\x8e\xe6\xc9#\xfd\x18\xcc\x0f>\xfe\xf8ctuu\x99\xdb\x1dA\x13\x1b\x1b\v\u007f\u007f\u007f\xa2Myy9\x8a\x8b\x8by\xf2觘E\x00*\x95\n'O\x9e$\xda\xc8\xe5rl\u07fe]\x90;\t\xfb\xfb\xfb\xf1\xf7\xbf\xff\x1dqqq,?  \x95J\xb1s\xe7N\xceE\xb2\xe3Ǐ\x9b\xbcR\xb7\xbe\x98eteffr^F\xb1n\xdd:\xceD\xcaܰ\xfc\x80\x9b1c\xc6p\x1e\x98okk3[B̻\x00:;;q\xf6\xecY\xa2\x8d\xaf\xaf/\"\"\"x\xf2h\xf8\xb0\xfc\x80LTT\x14g\x1e\x97\x99\x99\x89\xee\xeen\x9e<\xfa?\xbc\v\xe0\xf4\xe9\xd3Ē\x1b\x12\x89\x04[\xb7n\x15d\xe8\xc3\x05[?\x18\x1a\xa9T\x8a\xad[\xb7\x12K\xad+\x95J\x9c9s\x86G\xaf\x06\xe0u\x94=|\xf8\x90s\x8f\xff\xa2E\x8b,\xbah\xd5\xf3\xeb\a999,?\xf8\x1e???\x84\x86\x86\x12m\xb2\xb3\xb3y\u007fq\xf0*\x80\xac\xac,b\xb2#\x97˱n\xdd:\x1e=\xa2Gww7\x8e\x1d;\xc6\xf2\x83\xe7x뭷~r7\xda\xf3\xf4\xf6\xf6\xe2ܹs<zģ\x00\x94J%Ο?O\xb4\x89\x88\x88\xb0\xbaZ\x9d\x83\xf9\xc1\xb6m\xdbD\x9f\x1f\x8c\x1e=\x9a\xb3\xb2t^^\x9eɮ\xb0\xd2\a\xde\x04PPP@\xdc\v\xee\xe0\xe0\x80\x98\x98\x18\xbe\xdc\xe1\x9d\x1b7n\xb0\xfc\x00\x03U;H\xf7\x8fuww\xe3\u0085\v\xbc\xf9Ë\x004\x1a\r\xe7\xb9Ј\x88\b\xab/Q\xfe\xe3\xfdEO\x9f>5\xb7K\xbc\xe3\xe6\xe6\x86e˖\x11m\xb2\xb3\xb3\xa1\xd1hx\xf1\x87\x17\x01\xfc\xfb\xdf\xffFKK\x8b\xcev[[[DFF\xf2\xe1\x8a \x18\\?X\xbbv-\xae_\xbfnnwx'::\x9a\xb8O\xa8\xb9\xb9\xd9\xe8+\x9d\f\x85\x17\x01p\x1d\x80\xf8\xe5/\u007f)\xe8\x9bYh\x95N\xaa\xaf\xaf\xc7Ν;E\x97\x1f\x8c\x1a5\naaaD\x9b\x82\x82\x02^|\xa1.\x80\x8e\x8e\x0e\\\xbdz\x95h\x13\x15\x15EۍaA\xfb\xaaP1\xe6\a\\\xff\xf3\u007f\xfd\xeb_\xbc\xfc-\xa8\v\xa0\xa8\xa8\x88x\xf0\xc1\xcf\xcf\x0f\x13&L\xa0\xed\x86\xe0\x11[~\xe0\xe3\xe3C\\\xefQ\xab\xd5(**\xa2\xee\au\x01\\\xbcx\x91ؾd\xc9\x12\xda.X\x14\x83\xf9\xc1\x9bo\xbei\xf5\xeb\a\\\xff{>~\u007f\xaa\x02hmmŝ;wt\xb6+\x14\n\xce\xd5A\xa1C+?\x10\xc3\xfaAXX\x18\xb1\xc4bEE\x05\xda\xdb۩\xfa@U\x00\x97/_&\x0e\x909s\xe6\xe8UcRȰ\xfc\xc0x\x14\n\x05\xe6̙\xa3\xb3]\xab\xd5\xe2\xf2\xe5\xcbT}\xa0*\x00\xae\xe4\x97k&\x801\x805\xe7\a\\\x11\x00\xedibj\x02\xe8\xe9\xe9\xc1\xad[\xb7t\xb6+\x14\nV\xd0\xd6@\xac1?\b\n\n\"\xde7\xfc\xdf\xff\xfe\x97\xeaa\x19j\x02\xb8q\xe3\x06q'd`` qc\x945\xc0\xf2\x03n\xe4r9f̘\xa1\xb3\xbd\xaf\xaf\x0f\xff\xf9\xcf\u007f\xa8\xf5OU\x00$\x82\x82\x82hu-\x18X~\xa0\x1f\xc1\xc1\xc1\xc4v\x9a\xab\xc2\xd4\x04PYY\xa9\xb3M\"\x91\x88B\x00|`\r\xf9\x01\xd7X\xa8\xa8\xa8\xa0\xd67\x15\x01\xf4\xf6\xf6\xa2\xa6\xa6Fg\xbb\xa7\xa7'^|\xf1E\x1a]\x8b\x16K\xce\x0fƌ\x19C<\xff]]]M-\x0f\xa0\"\x80;w\xeep\xae\xfe\x8a\x1d\x96\x1f\xfc\x90\xe9ӧ\xeblS\xabո{\xf7.\x95~\xa9\b\xa0\xaa\xaa\x8a\xd8N\xfae\xc5\x02\xcb\x0f~\bט\xe0\x1aS\xc6BE\x00\\o\x1eK>\xf3kIXR~0e\xca\x14b;\xad\xaf\x19\x15\x01ܻwOg\x9b\xad\xad-\xbc\xbc\xbcht\xcbЁ%\xe4\a\xde\xde\xde\xc43\x02\xb5\xb5\xb5T\xfa5\xb9\x004\x1a\r\xea\xeb\xebu\xb6{yyq\x16M\x15;b\xcc\x0fd2\x19ƍ\x1b\xa7\xb3\xbd\xb6\xb6\x96\xca\xdf\xc5\xe4\x02\xe8\xe8\xe8 \x16\xbce[\x9f\xb9\x11k~0~\xfcx\x9dm*\x95\x8a\xca\xed\x9e&\x17\x00\xe9\xe8#\x00\x8c\x1d;\xd6\xd4]2\x8c@\x88\xf9\x01W)L\xae\xb1e\f\xbc\v\xc0\xdd\xdd\xdd\xd4]2\x86\x81\x90\xf2\x03.\x01477\x9b\xbcO\x93\v\x80k\xff6\x13\xc0\xf0\xb0\xe6\xfc\x80K\x004\xce\x06\x98\\\x00\\1\xa5\xb5\x15\xbe\xe2\x1bk\xce\x0f\xb8\xc6ƣG\x8fLާ\xc9\x05\xc0ui\x84\xab\xab\xab\xa9\xbbd\x98\x18s\xe5\a\\\xd7`Y\x84\x00HNJ\xa5R8::\x9a\xbaK\x06%\xf8\xce\x0f\\\\\\\x88_8\x8b\x10\x80R\xa9\xd4\xd9\xe6\xe8\xe8h\x91e\xcf-\x05K\xcf\x0f\xb8^\x90\xa4\xb1et\x9f\xa6~ \xe9\x10\x8c\xb5\x1f\x8017\u0590\x1f\xd8\xda\xda\xeal\xa3\x11\x8a\x99\\\x00$'I\xbf\x1c\xc32\xa0\x9d\x1fX\xbc\x00H_\x00\xb6\x05\xc2z\xa0Uߔ\x14%X\x84\x00\x18\xe2B\xa3\xd1\xf0Z\xcf\xdfԘ\xfc\x95Lz˳났\aggg,_\xbe\x9c\xb3ҳ\xa1\x90\xf6\x91\xd1\b\xa1M.\x00\xbec8\x06\xbf\xd8\xd8\xd8`\xf1\xe2\xc5X\xb3f\r\x95\xfb\x1c\xf8\xce!y\xfd\x02\x90\xd4\xcd\x18>Z\xad\x96\xeaL\xd0̙3\xb1q\xe3F\xaa;z-\xfe\v\xe0\xe4䤳\xed\xf1\xe3\xc7\xd0h4l-\x80\x12\xb4\x06\xbf\x97\x97\x176n\xdc\xc8Y\xbed\xb8\xf4\xf7\xf7\x13\xe7\xfaIc\xcbXL.\x00\xd2r\xb6V\xab\xc5\xe3Ǐ9\x97\xbc\x19\u0080V\x9c\xaf\x8b\xee\xeen\xe2b\x1e\x8dqë\x00\x80\x81\xe5l&\x00aC;\xce\xd7\x05\xd7V\a\x8b\x10\x00\xd7f\xb7o\xbf\xfd\x96x\xf4\x8dA\xc6\x1a\xe2|]ttt\x10\xdbil\xa44\xb9\x00\xb8\n^\xd18\xd5#&h\r~OOO\xacY\xb3\x06!!!T\x9e\xaf\x0f\\\a^F\x8f\x1em\xf2>M.\x00\xae\x03/\xad\xad\xad\xa6\xee\x921\f\xf8\x8e\xf3Ip\t\x80\xc6a*\x93\xff\xc6\\\xa7z\x9a\x9a\x9aL\xdd%\xc3\b\xcc\x15瓰\n\x01\xb8\xb9\xb9\xc1\xce\xceN\xe7|\xae\xd0\xcaq\b\x11k\x8e\xf3I\x90Ɔ\xbd\xbd=^x\xe1\x05\x93\xf7ir\x01H\xa5Rx{{\xa3\xba\xbaz\xc8\xf6\xfa\xfaz\xa8\xd5j\xb3\u007fn\x85\x8c5\xc7\xf9\xbax\xfa\xf4)\x1a\x1b\x1bu\xb6\x8f\x1f?\x9e\xca߅\xca(\x9c8q\xa2N\x01\xa8\xd5j\xd4\xd7\xd7\v\xee\xedc\xcd\b)\xce\xd7E]]\x1dq\xaf\x18\xa9f\xd0p\xa0\xf2\xd7\xe0\x1a\xdc_\u007f\xfd5\x13\x00\x0f\b1\xce\xd7\x05\xe9>\t`\xe0\xa5J\x03*\x02\xf8\xf9\xcf\u007fNl\xaf\xa8\xa8@xx8\x8d\xae-\x06\xb1\xc6\xf9\xba\xe0\x12\x00ט2\x16*\x02\x982e\nd2\x99\xceO\x1a\xcd\x1b?,\x051\xc6\xf9$H\x17*\xcad2L\x9e<\x99J\xbfT\x04`oo\x8f\x89\x13'\xea\xbcԠ\xa9\xa9\tmmmT\x166Ċ%\xc4\xf9\xbahii!.\x90\xfa\xf8\xf8@.\x97S\xe9\x9bڶ\xcciӦ\x11\xdbKKKiu-*lll\x10\x1e\x1e\x8e\xcf>\xfb\f˗/\xb7\xb8\xc1\x0fp\x8f\x05\x9a\x17\xaaP\x13@@@\x00\xb1]\f\x02\xa0U\xa6d\x90\x993g\"==\x1d۶m\x13|\x92K\x82\xebL1\xd7X\x1a\x0e\xd4^\x173f̀\xad\xad\xad\xce\x13>eee\xe8\xeb\xeb\xb3\xeaR),\xce\xe7F\xa5R\xa1\xbc\xbc\\g\xbb\x9d\x9d\x1d\xfc\xfd\xfd\xa9\xf5O\xed\v\xe0\xe0\xe0@\xfct)\x95JQ|\x05L\x89\xb3\xb33֯_\x8f?\xff\xf9\xcfV1\xf8\x01\xe0ڵk\xc4C\xf5\xfe\xfe\xfe\xd4\xe2\u007f\x80rU\x88ٳg\x13\xdb\xcd]\x8e\xdbR\xb0\x868_\x17\\c\x80\xf6)4\xaa\x02X\xb0`\x011\f\xb8r\xe5\x8aE\x97\xd4\x00X\x9c?\x1c\x94J%\xae^\xbd\xaa\xb3]\"\x91`\xfe\xfc\xf9T}\xa0*\x80ѣGc\xeaԩ:\xdb{zz,\xfe+@3\xce߳g\x0f\x0e\x1f>l1\x8bY\x86RXXH\xbc\x00{\xfa\xf4\xe9\xd4\xcb\xe9S?\x9d\x1e\x1a\x1aJl\xcf\xcfϧ\xed\x82Ea\x8dq\xbe.\n\n\n\x88\xed\\c\xc7\x14\xf0\"\x00R\xcc\xfa\xf5\xd7_\x13\xafU\x15\v\xd6\x1c\xe7\x0fEuu5\xf1\xf6w\x99L\xc6\xcb\v\x80\xba\x00\xdc\xdc\xdc0g\xce\x1c\xa2MVV\x16m7\x86\x05\x8b\xf3M\xcfٳg\x89\xeds\xe7\xce\xe5\xe5o\xc1K\x81\x9e%K\x96\x10\xdb\v\v\v\xa9\xdc\xffd*h\xd6\xdb9x\xf0\xa0U\xc7\xf9C\xd1\xde\xdeΙ\xfbq\x8d\x19S\xc1\x8b\x00f͚E<ΦV\xab\x91\x93\x93Ç+\x82`0\xce\xcf\xc8Ƞ>\xcd'D\xb2\xb2\xb2\x88{\xff=<<\xa8\xae\xfe>\x0f/\x02\x90J\xa5\x88\x8c\x8c$\xda\xe4\xe6\xe6R\xb9\bYH\x88-\xce\x1f\x8a\x87\x0f\x1f\"//\x8fh\x13\x15\x15\xc5[\xf5@\xdej\x14.Y\xb2\x84Xڮ\xb7\xb7\x17\x99\x99\x99|\xb9\xc3;b\x8c\xf3\x87\xe2o\u007f\xfb\x1bq\xea\xd3\xd9\xd9\x19\x8b\x17/\xe6\xcd\x1f\xde\x04\xa0P(8\x0f\xc1\xe4\xe5\xe5\t:\x170\x061\xcc\xe7\xebKkk+Ο?O\xb4Y\xb6l\x19\x1c\x1c\x1cx\xf2\x88\xe7\v2bbb\x88\xbf\x9cJ\xa5Bzz:\x8f\x1e\xd1\xc3\xd9\xd9\x19\x9b7o\x16\xc5|\xbe\xbe\x9c8q\x82X\xfe\xdc\xc1\xc1\x01\xaf\xbd\xf6\x1a\x8f\x1e\xf1,\x80\x11#F`ٲeD\x9b\xc2\xc2B\xe2\xe9 \xa1\xf3|\x9c\x1f\x19\x19)\xca8\u007f(*++Q\\\\L\xb4\x89\x8a\x8a\xe2=<\xe4\xbdNyll,\x14\n\x85\xcev\xadV\x8b\xb4\xb44h4\x1a\x1e\xbd2\r,\xce\x1f\x9a\xfe\xfe~|\xf4\xd1G\xc4\xf5\x14GGGDGG\xf3\xe8\xd5\x00\xbc\v\xc0\xd5\xd5\x15111D\x9b\xbbw\xef\";;\x9b'\x8f\x86\x0f\x8b\xf3\xc9dee\xa1\xa6\xa6\x86h\xb3b\xc5\n8;;\xf3\xe4\xd1\xff1\xcbM\x15111\x9ce\xee2228K\xe5\x99\x1b1\xed\xdb1\x96\x96\x96\x16\xfc\xe5/\u007f!\xdaxxx **\x8a'\x8f~\x88Y\x04 \x97˱~\xfdz\xa2\x8dJ\xa5Bjj\xaa C!\x1b\x1b\x1bDDD\xe0\xaf\u007f\xfd\xabh\xe7\xf3\xf5A\xa3\xd1 %%\x05\xbd\xbd\xbdD\xbb\xb7\xdf~\xdbl'\x03\xcdvWQHH\bf̘A\xb4)//\xe7\xdc3\xc27\x83q\xfe\x96-[\xd8E\x1f\x1cdff\xe2\xe6͛D\x9b\xc0\xc0@̛7\x8f'\x8f~\x8a\xd9\x04 \x91H\x10\x1f\x1f\xcfy\xdc-##\x03UUU<y\xa5\x1b\x16\xe7\x1bƝ;w\xf0駟\x12m\xe4r9\xe2\xe3\xe3\xf9qH\af\xbd\xad\xce\xd3\xd3\x13\xbf\xfd\xedo\x896j\xb5\x1a\x89\x89\x89\x9c\xd7\xe7Ђ\xc5\xf9\x86\xd3\xddݍ\xbd{\xf7r\xde\v\xbdz\xf5j\xcer\xfa\xb41\xfbu\x8d\xb1\xb1\xb1\x984i\x12Ѧ\xb5\xb5\x15\a\x0e\x1c\xe05\x1f`\xfbv\x8cC\xa3\xd1`\xef\u07bd\x9c\x13\x18\xbe\xbe\xbefK|\x9f\xc7\xec\x02\xb0\xb1\xb1\xc1\xeeݻaooO\xb4+--EFF\x06/>\xb1\xf9|\xe39y\xf2$\xbe\xfa\xea+\xa2\x8d\x83\x83\x03v\xed\xda\x05\x1b\x1b\x1b\x9e\xbcҍ\xd9\x05\x00\x00\xe3ƍ\xc3ƍ\x1b9\xedN\x9d:\x85\xcf?\xff\x9c\x9a\x1f,\xce\x1f\x1e\x05\x05\x058}\xfa4\xa7\xdd\xe6͛\xe1\xe9\xe9ɃG\xdc\b滾t\xe9R|\xf5\xd5W\xb8|\xf92\xd1\xee\x8f\u007f\xfc#Ǝ\x1d\x8bY\xb3f\x99\xacoK\xae\xab)\x14\xae_\xbf\x8e\x0f?\xfc\x90\xd3.44\x94\xd7ݞ\\\b\xe2\v0\xc8Ν;\xe1\xed\xedM\xb4Q\xab\xd5HHH\xe0\x9c^\xd3\a\x16盆\xca\xcaJ\xbc\xff\xfe\xfb\xe8\xef\xef'\xdayyya\xfb\xf6\xed<y\xa5\x1f\x12-\xed\x03\xaf\x06\xd2\xd8؈\r\x1b6\xe0ɓ'D;\x85B\x81\xa3G\x8f\x1aU6;--\r\xb5\xb5\xb5\x16U?_\xa8\xd4\xd4\xd4 >>\x1e\xdd\xdd\xddD;\x85B\x81\xe3Ǐs\xbe\xe0\xf8Fp\x02\x00\x06\nf%$$p\xce\xfa\xb8\xb8\xb8 55\x95s\x16\xe9\xc7|\xf7\xddwT.\\\x13\x1bUUUرc\a\xba\xba\xba\x88vR\xa9\x14\xfb\xf7\xef\xe7\xac\x14h\x0e\x04\x15\x02\r\xf2\xca+\xaf\xe8\x95\x14wuu!>>\xde\xe0\v7\xd8\xe0\x1f>\xb7n\xddB||<\xe7\xe0\a\x80M\x9b6\tr\xf0\x03\x02\x15\x00\x00\xbc\xf6\xdak\x9c\xe7\x88\x01\xe0ɓ'رc\a+\xb4\xcb#\u05ef_ǎ\x1d;8\xc3T\x00\x88\x8e\x8e\xd6\xeb\xffh.\x04+\x00`\xe0ͱp\xe1BN\xbb\xde\xde^\xbc\xfb\xee\xbbT\xa7H\x19\x03\\\xb8p\x01\xbbw\xef&\x9e\xeb\x1ddѢEذa\x03\x0f^\x19\x8f s\x80\xe7\xe9\xef\xefGRR\x12JJJ\xf4\xb2_\xb1b\x05֬Y\xc3[U\x01\xb1\xa0\xd1hp\xf2\xe4I\xbd\xe6\xf9\x01`\u07bcyسg\x8f \x16\xbbH\b^\x00\xc0\xc0%\xca\t\t\t\x9c7\x89\f\x12\x14\x14\x84ݻw\x9b倅5\xf2\xe8\xd1#$''s\xae\xf0\x0e\x12\x1c\x1c\x8c\xe4\xe4d\x8b\x98V\xb6\b\x01\x00\x03\"ػw\xaf\xde_\x02www$%%Q\xbb]P,ܹs\aIIIhmm\xd5\xcb~\u07bcyHLL\xb4\x88\xc1\x0fX\x90\x00\x80\x81\xcf\xf0\a\x1f|\x80\u007f\xfe\xf3\x9fz\xd9\xdb\xd8\xd8 ..\x0e\xabV\xadb!\x91\x81h\xb5Z\xe4\xe4\xe4\xe0ĉ\x13\x9c\xbb:\aY\xb8p!\xde}\xf7]\xc1\x87=\xcfcQ\x02\x00\x06Dp\xfc\xf8q\x83\xce\f\xfb\xfb\xfb\xe3\x9dw\xde1\xfb\xd6[K\xe1\x9bo\xbe\xc1\xa1C\x87\fZm\x8f\x8e\x8eƆ\r\x1b,\xeeEcq\x02\x18$??\x1f\x1f}\xf4\x11\xe7\xf2\xfb r\xb9\x1co\xbc\xf1\x06bbb,\xee\x9f\xc4\x17\xfd\xfd\xfd\xc8\xcd\xcdEFF\x86\xde7\xf7H\xa5R\xfc\xfe\xf7\xbfGDD\x04e\xef\xe8`\xb1\x02\x00\x06V\x8c\xf7\xef\xdf\x0f\xa5R\xa9\xf7\xcf\xf8\xf8\xf8`˖-\x9c\xf7\x18\x8b\x8d\x9b7o\xe2رc\x9c\xd5\x1b\x9eG\xa1P !!A\xb0\x8b\\\xfa`\xd1\x02\x00\x80\xfa\xfaz$&&\xa2\xae\xaeN\uf7d1H$\b\r\r\xc5[o\xbd%\xfa\xdb\xea[[[q\xe2\xc4\t\x83\xaf\xaaz饗\xb0o\xdf>\xc1lk6\x16\x8b\x17\x000p\xd9\xda\a\x1f|\xc0Yy\xec\xc7\xd8\xd9\xd9a\xe9ҥX\xb9r\xa5\xe8\xb6Gttt\xe0ԩS8\u007f\xfe<\xb1\\\xe1P\x84\x86\x86bǎ\x1d\xbc\xd6\xf0\xa4\x85U\b`\x90\xfc\xfc|\xa4\xa5\xa5q\x96\xe1\xf81r\xb9\x1c˖-CTT\x14^|\xf1EJ\xde\t\x83\xb6\xb66\x9c;w\x0eyyyz\xad\xe6>\x8f\x83\x83\x036o\xde,\xa8\xfd\xfc\xc3Ū\x04\x00\x00\r\r\rؿ\u007f?\xf1\xfe)]\xc8d2\x84\x85\x85!**\n>>>\x14\xbc3\x1f\xd5\xd5\xd5\xc8\xca\xca\xc2ŋ\x17\xf5\x9e\xd6|\x1e___\xecڵ\xcb\xe2C\x9e\x1fcu\x02\x00\xfe?\x9b\xf1\xa7?\xfd\xc9\xe0\xaf\xc1 \x93&M\xc2ҥK\x11\x16\x16F\xace*d\x94J%JJJ\xf0\xc5\x17_\xa0\xac\xac̨g\xc8\xe5r\xc4\xc6\xc6\"..\xceb\x16\xb7\f\xc1*\x050HSS\x13\x8e\x1c9\x82\xf2\xf2r\xa3\x9faoo\x8fٳg#,,\fAAA\x9cu\x8c̍J\xa5\xc2\xf5\xeb\xd7q\xf1\xe2E\\\xbdz\xd5\xe00\xe7y\x02\x03\x03\x11\x1f\x1fo\xd5\xeb'V-\x80A\x8a\x8b\x8bq\xe2\xc4\t\xb4\xb4\xb4\f\xeb9\x0e\x0e\x0e\b\b\b@pp0\x82\x82\x820f\xcc\x18\x13y8<ZZZPZZ\x8a\xd2\xd2R\x94\x95\x95\x19\xfd\xd5\x1b\xc4\xc3\xc3\x03o\xbf\xfd\xb6Y+\xb6\xf1\x85(\x04\x00\x00}}}8{\xf6,233\rZ7 \xe1\xe1\xe1\x81\xe9ӧcڴi\x982e\n^z\xe9%\xeaa\x82Z\xadƃ\a\x0fp\xfb\xf6mTTT\xe0֭[&+\"\xec\xe8\xe8\x88\x15+V **\xcal\xb5:\xf9F4\x02\x18\xa4\xbb\xbb\x1bgΜANN\x8eޫ\x9d\xfa\"\x93\xc90n\xdc8\x8c\x1f?\x1ecǎ\x85\x87\x87\a\xdc\xdd\xdd1r\xe4H\xb8\xba\xba\xc2\xc5Ņs\x15Z\xa3Ѡ\xab\xab\v\x8f\x1e=BGG\a\x9a\x9b\x9b\xd1\xdc܌o\xbe\xf9\x06\xb5\xb5\xb5hll4*\x89%\xa1P(\x10\x19\x19\x89\xd7_\u007f]t;hE'\x80A:;;\x9fM\ar\x1d\xe86%NNN\x90\xc9d?\x99C\xef\xe9\xe9\x81Z\xad\xc6\xe3Ǐy\xf3\xc5\xd9\xd9\xf9\xd9\xf4\xaf\xab\xab+o\xfd\n\t\xd1\n`\x90\x9e\x9e\x1e\\\xb8p\x01\xd9\xd9ق\xbf\x8f\xc0T\f\xd6\xe3\u007f\xf5\xd5W9+\xf2Y;\xa2\x17\xc0 \x1a\x8d\x06\xe5\xe5\xe5\xc8\xcf\xcfGII\x89\xc9\xc3\fs#\x93\xc90k\xd6,\xfc\xeaW\xbf\xc2\xfc\xf9\xf3ن\xc0\xefa\x02\x18\x82\xce\xceN\x14\x15\x15\xe1ҥK\xa8\xa8\xa8 \xdem%d$\x12\t\xa6O\x9f\x8e\x90\x90\x10\x84\x86\x86\xb2:\xa7C\xc0\x04\xc0A[[\x1b\xbe\xfc\xf2K\\\xbbv\r7o\xdeD__\x9f\xb9]\"bgg\x87_\xfc\xe2\x17\x98={6\xe6͛g\xf5[;\x86\v\x13\x80\x01\xa8T*\x94\x97\x97\xe3ƍ\x1b\xa8\xa8\xa8@uu\xb5\xd9C%\x99L\x86I\x93&\xc1\xcf\xcf\x0f3g΄\xbf\xbf\xbf\xe0\x17\xeb\x84\x04\x13\xc00P\xa9T\xb8s\xe7\x0e\xaa\xab\xabQ[[\x8b\xfb\xf7\uf8f6\xb6vX\xab\xaf$\xe4r9Ə\x1f\x8f\t\x13&`\u0084\t\xf0\xf1\xf1\xc1\xe4ɓـ\x1f\x06L\x00\x14\xe8\xe8\xe8@KK\vZZZ\xd0\xdeގ\xce\xce\xcegs\xfb*\x95\nO\x9e<\x81F\xa3yv\x9a\xcd\xc6\xc6\x06R\xa9\x14\x8e\x8e\x8e\x90\xcb\xe5puu\x85\xab\xab+F\x8c\x18\x81Q\xa3F\xc1\xdd\xdd\x1d\x1e\x1e\x1epss3\xf3of}0\x010D\r\x9b\vc\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x1a&\x00\x86\xa8a\x02`\x88\x9a\xff\x01R\x18\xb8\xacc\xde@\xa5\x00\x00\x00\x00IEND\xaeB`\x82")
	// AssetsAppPNGDate is gzip encoded assets/app.png
	AssetsAppPNGDate = time.Unix(1527896175, 0)
	// AssetsAppSVG is assets/app.svg
	AssetsAppSVG = []byte("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1024\" height=\"1024\" viewBox=\"0 0 200 200\">\n<g stroke=\"#404040\" stroke-width=\"12\" fill=\"#404040\">\n  <path class=\"fill play\" d=\"M 70,60 140,100 70,140 z\"/>\n</g>\n<g stroke=\"#404040\" stroke-width=\"8\" fill=\"none\">\n  <path class=\"stroke play_circle\" d=\"M 25,100 A 75,75 0 1,1 175,100 A 75,75 0 1,1 25,100 z\"/>\n</g>\n</svg>\n")
	// AssetsAppSVGDate is gzip encoded assets/app.svg
	AssetsAppSVGDate = time.Unix(1527896175, 0)
	// AssetsAppv2JS is assets/appv2.js
	AssetsAppv2JS = []byte("\"use strict\";\nconst vv = {\n  consts: {playlistLength: 9999},\n  pubsub: {},\n  song: {},\n  songs: {},\n  storage: {},\n  library: {},\n  view: {main: {}, list: {}, system: {}, popup: {}, modal: {}, footer: {}},\n  control: {},\n  request: {}\n};\nvv.pubsub = {\n  add(listener, ev, func) {\n    if (!(ev in listener)) {\n      listener[ev] = [];\n    }\n    listener[ev].push(func);\n  },\n  rm(listener, ev, func) {\n    for (let i = 0, imax = listener[ev].length; i < imax; i++) {\n      if (listener[ev][i] === func) {\n        listener[ev].splice(i, 1);\n        return;\n      }\n    }\n  },\n  raise(listener, ev) {\n    if (!(ev in listener)) {\n      return;\n    }\n    for (const f of listener[ev]) {\n      f();\n    }\n  }\n};\nvv.song = {\n  tag(song, keys, other) {\n    for (const key of keys) {\n      if (key in song) {\n        return song[key];\n      }\n    }\n    return other;\n  },\n  getTagOrElseMulti(song, key, other) {\n    if (key in song) {\n      return song[key];\n    } else if (key === \"AlbumSort\") {\n      return vv.song.tag(song, [\"Album\"], other);\n    } else if (key === \"ArtistSort\") {\n      return vv.song.tag(song, [\"Artist\"], other);\n    } else if (key === \"AlbumArtist\") {\n      return vv.song.tag(song, [\"Artist\"], other);\n    } else if (key === \"AlbumArtistSort\") {\n      return vv.song.tag(song, [\"AlbumArtist\", \"Artist\"], other);\n    } else if (key === \"AlbumSort\") {\n      return vv.song.tag(song, [\"Album\"], other);\n    }\n    return other;\n  },\n  getOrElseMulti(song, keys, other) {\n    let ret = [];\n    for (const key of keys.split(\"-\")) {\n      const t = vv.song.getTagOrElseMulti(song, key, other);\n      if (!ret.length) {\n        ret = t;\n      } else if (t.length !== 0) {\n        const newret = [];\n        for (const oldV of ret) {\n          for (const newV of t) {\n            newret.push(oldV + \"-\" + newV);\n          }\n        }\n        ret = newret;\n      }\n    }\n    return ret;\n  },\n  getOrElse(song, key, other) {\n    const ret = vv.song.getOrElseMulti(song, key, null);\n    if (!ret) {\n      return other;\n    }\n    return ret.join();\n  },\n  getOne(song, key) {\n    const other = `[no ${key}]`;\n    if (!song.keys) {\n      return vv.song.getOrElseMulti(song, key, [other])[0];\n    }\n    for (const kv of song.keys) {\n      if (kv[0] === key) {\n        return kv[1];\n      }\n    }\n    return vv.song.getOrElseMulti(song, key, [other])[0];\n  },\n  get(song, key) { return vv.song.getOrElse(song, key, `[no ${key}]`); },\n  sortkeys(song, keys, memo) {\n    let songs = [Object.assign({}, song)];\n    songs[0].sortkey = \"\";\n    songs[0].keys = [];\n    for (const key of keys) {\n      const writememo = memo.indexOf(key) !== -1;\n      const values = vv.song.getOrElseMulti(song, key, []);\n      if (values.length === 0) {\n        for (const song of songs) {\n          song.sortkey += \" \";\n          if (writememo) {\n            song.keys.push([key, `[no ${key}]`]);\n          }\n        }\n      } else if (values.length === 1) {\n        for (const song of songs) {\n          song.sortkey += values[0];\n          if (writememo) {\n            song.keys.push([key, values[0]]);\n          }\n        }\n      } else {\n        let newsongs = [];\n        for (const song of songs) {\n          for (const value of values) {\n            const newsong = Object.assign({}, song);\n            newsong.keys = Object.assign([], song.keys);\n            newsong.sortkey += value;\n            if (writememo) {\n              newsong.keys.push([key, value]);\n            }\n            newsongs.push(newsong);\n          }\n        }\n        songs = newsongs;\n      }\n    }\n    return songs;\n  }\n};\nvv.songs = {\n  sort(songs, keys, memo) {\n    const newsongs = [];\n    for (const song of songs) {\n      Array.prototype.push.apply(newsongs, vv.song.sortkeys(song, keys, memo));\n    }\n    const sorted = newsongs.sort((a, b) => {\n      if (a.sortkey < b.sortkey) {\n        return -1;\n      }\n      return 1;\n    });\n    for (let j = 0, jmax = sorted.length; j < jmax; j++) {\n      sorted[j].pos = [j];\n    }\n    return sorted;\n  },\n  uniq(songs, key) {\n    return songs.filter((song, i, self) => {\n      if (i === 0) {\n        return true;\n      } else if (\n          vv.song.getOne(song, key) === vv.song.getOne(self[i - 1], key)) {\n        return false;\n      }\n      return true;\n    });\n  },\n  filter(songs, filters) {\n    return songs.filter(song => {\n      for (const key in filters) {\n        if (filters.hasOwnProperty(key)) {\n          if (vv.song.getOne(song, key) !== filters[key]) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  },\n  weakFilter(songs, filters, max) {\n    if (songs.length <= max) {\n      return songs;\n    }\n    for (const filter of filters) {\n      const newsongs = [];\n      for (const song of songs) {\n        if (vv.song.getOne(song, filter[0]) === filter[1]) {\n          newsongs.push(song);\n        }\n      }\n      if (newsongs.length <= max) {\n        return newsongs;\n      }\n      songs = newsongs;\n    }\n    if (songs.length > max) {\n      const ret = [];\n      for (let k = 0; k < max; k++) {\n        ret.push(songs[k]);\n      }\n      return ret;\n    }\n    return songs;\n  }\n};\nvv.storage = {\n  _listener: {},\n  loaded: false,\n  root: \"root\",\n  tree: [],\n  current: null,\n  control: {},\n  library: [],\n  outputs: [],\n  stats: {},\n  last_modified: {},\n  etag: {},\n  last_modified_ms: {},\n  version: {},\n  preferences: {\n    volume: {show: true, max: \"100\"},\n    playback: {view_follow: true},\n    appearance: {\n      color_threshold: 128,\n      animation: true,\n      background_image: true,\n      background_image_blur: 32,\n      circled_image: true,\n      gridview_album: true,\n      auto_hide_scrollbar: true\n    }\n  },\n  _idbUpdateTables(e) {\n    const db = e.target.result;\n    const st = db.createObjectStore(\"cache\", {keyPath: \"id\"});\n    const close = () => { db.close(); };\n    st.onsuccess = close;\n    st.onerror = close;\n  },\n  _cacheLoad(key, callback) {\n    if (!window.indexedDB) {\n      const ls = localStorage[key + \"_last_modified\"];\n      const data = localStorage[key];\n      if (ls && data) {\n        callback(JSON.parse(data), ls);\n        return;\n      }\n      callback();\n      return;\n    }\n    const req = window.indexedDB.open(\"storage\", 1);\n    req.onerror = () => {};\n    req.onupgradeneeded = vv.storage._idbUpdateTables;\n    req.onsuccess = e => {\n      const db = e.target.result;\n      const t = db.transaction(\"cache\", \"readonly\");\n      const so = t.objectStore(\"cache\");\n      const req = so.get(key);\n      req.onsuccess = e => {\n        const ret = e.target.result;\n        if (ret && ret.value && ret.date) {\n          callback(e.target.result.value, e.target.result.date);\n        } else {\n          callback();\n        }\n        db.close();\n      };\n      req.onerror = () => {\n        callback();\n        db.close();\n      };\n    };\n  },\n  _cacheSave(key, value, date) {\n    if (!window.indexedDB) {\n      const ls = localStorage[key + \"_last_modified\"];\n      if (ls && ls === date) {\n        return;\n      }\n      localStorage[key] = JSON.stringify(value);\n      localStorage[key + \"_last_modified\"] = date;\n      return;\n    }\n    const req = window.indexedDB.open(\"storage\", 1);\n    req.onerror = () => {};\n    req.onupgradeneeded = vv.storage._idbUpdateTables;\n    req.onsuccess = e => {\n      const db = e.target.result;\n      const t = db.transaction(\"cache\", \"readwrite\");\n      const so = t.objectStore(\"cache\");\n      const req = so.get(key);\n      req.onerror = () => { db.close(); };\n      req.onsuccess = e => {\n        const ret = e.target.result;\n        if (ret && ret.date && ret.date === date) {\n          return;\n        }\n        const req = so.put({id: key, value: value, date: date});\n        req.onerror = () => { db.close(); };\n        req.onsuccess = () => { db.close(); };\n      };\n    };\n  },\n  addEventListener(e, f) { vv.pubsub.add(vv.storage._listener, e, f); },\n  save: {\n    current() {\n      try {\n        localStorage.current = JSON.stringify(vv.storage.current);\n        localStorage.current_last_modified = vv.storage.last_modified.current;\n      } catch (e) {\n      }\n    },\n    root() {\n      try {\n        localStorage.root = vv.storage.root;\n      } catch (e) {\n      }\n    },\n    preferences() {\n      try {\n        localStorage.preferences = JSON.stringify(vv.storage.preferences);\n      } catch (e) {\n      }\n    },\n    sorted() {\n      try {\n        localStorage.sorted = JSON.stringify(vv.storage.sorted);\n        localStorage.sorted_last_modified = vv.storage.last_modified.sorted;\n      } catch (e) {\n      }\n    },\n    library() {\n      try {\n        vv.storage._cacheSave(\n            \"library\", vv.storage.library, vv.storage.last_modified.library);\n      } catch (e) {\n      }\n    }\n  },\n  load() {\n    try {\n      if (localStorage.version !== \"v2\") {\n        localStorage.clear();\n      }\n      localStorage.version = \"v2\";\n      if (localStorage.root && localStorage.root.length !== 0) {\n        vv.storage.root = localStorage.root;\n        if (vv.storage.root !== \"root\") {\n          vv.storage.tree.push([\"root\", vv.storage.root]);\n        }\n      }\n      if (localStorage.preferences) {\n        const c = JSON.parse(localStorage.preferences);\n        for (const i in c) {\n          if (c.hasOwnProperty(i)) {\n            for (const j in c[i]) {\n              if (c[i].hasOwnProperty(j)) {\n                if (vv.storage.preferences[i]) {\n                  vv.storage.preferences[i][j] = c[i][j];\n                }\n              }\n            }\n          }\n        }\n      }\n      if (localStorage.current && localStorage.current_last_modified) {\n        const current = JSON.parse(localStorage.current);\n        if (Object.prototype.toString.call(current.file) === \"[object Array]\") {\n          vv.storage.current = current;\n          vv.storage.last_modified.current = localStorage.current_last_modified;\n        }\n      }\n      if (localStorage.sorted && localStorage.sorted_last_modified) {\n        const sorted = JSON.parse(localStorage.sorted);\n        vv.storage.sorted = sorted;\n        vv.storage.last_modified.sorted = localStorage.sorted_last_modified;\n      }\n      vv.storage._cacheLoad(\"library\", (data, date) => {\n        if (data && date) {\n          vv.storage.library = data;\n          vv.storage.last_modified.library = date;\n        }\n        vv.storage.loaded = true;\n        vv.pubsub.raise(vv.storage._listener, \"onload\");\n      });\n    } catch (e) {\n      vv.storage.loaded = true;\n      vv.pubsub.raise(vv.storage._listener, \"onload\");\n      // private browsing\n    }\n    // Mobile\n    if (navigator.userAgent.indexOf(\"Mobile\") > 1) {\n      vv.storage.preferences.appearance.auto_hide_scrollbar = false;\n    }\n  }\n};\nvv.storage.load();\n\nvv.library = {\n  focus: {},\n  child: null,\n  _roots: {\n    AlbumArtist: [],\n    Album: [],\n    Artist: [],\n    Genre: [],\n    Date: [],\n    Composer: [],\n    Performer: []\n  },\n  TREE: {\n    AlbumArtist: {\n      sort: [\n        \"AlbumArtist\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\",\n        \"file\"\n      ],\n      tree: [[\"AlbumArtist\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Album: {\n      sort: [\n        \"AlbumArtist-Date-Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"\n      ],\n      tree: [[\"AlbumArtist-Date-Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Artist: {\n      sort: [\n        \"Artist\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"\n      ],\n      tree: [[\"Artist\", \"plain\"], [\"Title\", \"song\"]]\n    },\n    Genre: {\n      sort: [\"Genre\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"],\n      tree: [[\"Genre\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Date: {\n      sort: [\"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\", \"file\"],\n      tree: [[\"Date\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Composer: {\n      sort: [\n        \"Composer\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\",\n        \"file\"\n      ],\n      tree: [[\"Composer\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    },\n    Performer: {\n      sort: [\n        \"Performer\", \"Date\", \"Album\", \"DiscNumber\", \"TrackNumber\", \"Title\",\n        \"file\"\n      ],\n      tree: [[\"Performer\", \"plain\"], [\"Album\", \"album\"], [\"Title\", \"song\"]]\n    }\n  },\n  _listener: {},\n  addEventListener(e, f) { vv.pubsub.add(vv.library._listener, e, f); },\n  removeEventListener(e, f) { vv.pubsub.rm(vv.library._listener, e, f); },\n  _mkmemo(key) {\n    const ret = [];\n    for (const leef of vv.library.TREE[key].tree) {\n      ret.push(leef[0]);\n    }\n    return ret;\n  },\n  _list_child_cache: [{}, {}, {}, {}, {}, {}],\n  list_child() {\n    const root = vv.library.rootname();\n    if (vv.library._roots[root].length === 0) {\n      vv.library._roots[root] = vv.songs.sort(\n          vv.storage.library, vv.library.TREE[root].sort,\n          vv.library._mkmemo(root));\n    }\n    const filters = {};\n    for (let i = 0, imax = vv.storage.tree.length; i < imax; i++) {\n      if (i === 0) {\n        continue;\n      }\n      filters[vv.storage.tree[i][0]] = vv.storage.tree[i][1];\n    }\n    const ret = {};\n    ret.key = vv.library.TREE[root].tree[vv.storage.tree.length - 1][0];\n    ret.songs = vv.library._roots[root];\n    ret.songs = vv.songs.filter(ret.songs, filters);\n    ret.songs = vv.songs.uniq(ret.songs, ret.key);\n    ret.style = vv.library.TREE[root].tree[vv.storage.tree.length - 1][1];\n    ret.isdir = vv.storage.tree.length !== vv.library.TREE[root].tree.length;\n    return ret;\n  },\n  list_root() {\n    const ret = [];\n    for (const key in vv.library.TREE) {\n      if (vv.library.TREE.hasOwnProperty(key)) {\n        ret.push({root: [key]});\n      }\n    }\n    return {key: \"root\", songs: ret, style: \"plain\", isdir: true};\n  },\n  _list_cache: {},\n  update_list() {\n    if (vv.library.rootname() === \"root\") {\n      vv.library._list_cache = vv.library.list_root();\n      return true;\n    }\n    const cache = vv.library._list_child_cache[vv.storage.tree.length - 1];\n    const pwd = vv.storage.tree.join();\n    if (cache.pwd === pwd) {\n      vv.library._list_cache = cache.data;\n      return false;\n    }\n    vv.library._list_cache = vv.library.list_child();\n    if (vv.library._list_cache.songs.length === 0) {\n      vv.library.up();\n    } else {\n      vv.library._list_child_cache[vv.storage.tree.length - 1].pwd = pwd;\n      vv.library._list_child_cache[vv.storage.tree.length - 1].data =\n          vv.library._list_cache;\n    }\n    return true;\n  },\n  list() {\n    if (!vv.library._list_cache.songs ||\n        !vv.library._list_cache.songs.length === 0) {\n      vv.library.update_list();\n    }\n    return vv.library._list_cache;\n  },\n  updateData(data) {\n    for (let i = 0, imax = vv.library._list_child_cache.length; i < imax; i++) {\n      vv.library._list_child_cache[i] = {};\n    }\n    for (const key in vv.library.TREE) {\n      if (vv.library.TREE.hasOwnProperty(key)) {\n        if (key === vv.storage.root) {\n          vv.library._roots[key] = vv.songs.sort(\n              data, vv.library.TREE[key].sort, vv.library._mkmemo(key));\n        } else {\n          vv.library._roots[key] = [];\n        }\n      }\n    }\n  },\n  update(data) {\n    vv.library.updateData(data);\n    vv.library.update_list();\n    vv.pubsub.raise(vv.library._listener, \"update\");\n  },\n  rootname() {\n    let r = \"root\";\n    if (vv.storage.tree.length !== 0) {\n      r = vv.storage.tree[0][1];\n    }\n    if (r !== vv.storage.root) {\n      vv.storage.root = r;\n      vv.storage.save.root();\n    }\n    return r;\n  },\n  filters(pos) { return vv.library._roots[vv.library.rootname()][pos].keys; },\n  sortkeys() {\n    const r = vv.library.rootname();\n    if (r === \"root\") {\n      return [];\n    }\n    return vv.library.TREE[r].sort;\n  },\n  up() {\n    const songs = vv.library.list().songs;\n    if (songs[0]) {\n      vv.library.focus = songs[0];\n      if (vv.library.rootname() === \"root\") {\n        vv.library.child = null;\n      } else {\n        vv.library.child = vv.storage.tree[vv.storage.tree.length - 1][1];\n      }\n    }\n    if (vv.library.rootname() !== \"root\") {\n      vv.storage.tree.pop();\n    }\n    vv.library.update_list();\n    if (vv.library.list().songs.length === 1 && vv.storage.tree.length !== 0) {\n      vv.library.up();\n    } else {\n      vv.pubsub.raise(vv.library._listener, \"changed\");\n    }\n  },\n  down(value) {\n    let r = vv.library.rootname();\n    if (r === \"root\") {\n      vv.storage.tree.push([r, value]);\n      r = value;\n    } else {\n      const key = vv.library.TREE[r].tree[vv.storage.tree.length - 1][0];\n      vv.storage.tree.push([key, value]);\n    }\n    vv.library.focus = {};\n    vv.library.child = null;\n    vv.library.update_list();\n    const songs = vv.library.list().songs;\n    if (songs.length === 1 &&\n        vv.library.TREE[r].tree.length !== vv.storage.tree.length) {\n      vv.library.down(vv.song.get(songs[0], vv.library.list().key));\n    } else {\n      vv.pubsub.raise(vv.library._listener, \"changed\");\n    }\n  },\n  absaddr(first, second) {\n    vv.storage.tree.splice(0, vv.storage.tree.length);\n    vv.storage.tree.push([\"root\", first]);\n    vv.library.down(second);\n  },\n  absFallback(song) {\n    if (vv.library.rootname() !== \"root\" && song.file) {\n      const r = vv.storage.tree[0];\n      vv.storage.tree.length = 0;\n      vv.storage.tree.splice(0, vv.storage.tree.length);\n      vv.storage.tree.push(r);\n      const root = vv.storage.tree[0][1];\n      const selected = vv.library.TREE[root].tree;\n      for (let i = 0, imax = selected.length; i < imax; i++) {\n        if (i === selected.length - 1) {\n          break;\n        }\n        const key = selected[i][0];\n        vv.storage.tree.push([key, vv.song.getOne(song, key)]);\n      }\n      vv.library.update_list();\n      for (const candidate of vv.library.list().songs) {\n        if (candidate.file && candidate.file[0] === song.file[0]) {\n          vv.library.focus = candidate;\n          vv.library.child = null;\n          break;\n        }\n      }\n    } else {\n      vv.storage.tree.splice(0, vv.storage.tree.length);\n      vv.library.update_list();\n    }\n    vv.pubsub.raise(vv.library._listener, \"changed\");\n  },\n  absSorted(song) {\n    let root = \"\";\n    const pos = parseInt(song.Pos[0], 10);\n    const keys = vv.storage.sorted.sort.join();\n    for (const key in vv.library.TREE) {\n      if (vv.library.TREE.hasOwnProperty(key)) {\n        if (vv.library.TREE[key].sort.join() === keys) {\n          root = key;\n          break;\n        }\n      }\n    }\n    if (!root) {\n      vv.view.popup.show(\"fixme\", `modal: unknown sort keys: ${keys}`);\n      return;\n    }\n    let songs = vv.library._roots[root];\n    if (!songs || songs.length === 0) {\n      vv.library._roots[root] = vv.songs.sort(\n          vv.storage.library, vv.library.TREE[root].sort,\n          vv.library._mkmemo(root));\n      songs = vv.library._roots[root];\n      if (songs.length === 0) {\n        return;\n      }\n    }\n    if (songs.length > vv.consts.playlistLength) {\n      songs = vv.songs.weakFilter(\n          songs, vv.storage.sorted.filters || [], vv.consts.playlistLength);\n    }\n    if (!songs[pos]) {\n      return;\n    }\n    if (songs[pos].file[0] === song.file[0]) {\n      vv.library.focus = songs[pos];\n      vv.library.child = null;\n      vv.storage.tree.length = 0;\n      vv.storage.tree.push([\"root\", root]);\n      for (let i = 0; i < vv.library.focus.keys.length - 1; i++) {\n        vv.storage.tree.push(vv.library.focus.keys[i]);\n      }\n      vv.library.update_list();\n      vv.pubsub.raise(vv.library._listener, \"changed\");\n    } else {\n      vv.library.absFallback(song);\n    }\n  },\n  abs(song) {\n    if (vv.storage.sorted && vv.storage.sorted.hasOwnProperty(\"sort\") && vv.storage.sorted.sort !== null) {\n      vv.library.absSorted(song);\n    } else {\n      vv.library.absFallback(song);\n    }\n  },\n  parent() {\n    const root = vv.library.rootname();\n    if (root === \"root\") {\n      return;\n    }\n    const v = vv.library.list().songs;\n    if (vv.storage.tree.length > 1) {\n      const key = vv.library.TREE[root].tree[vv.storage.tree.length - 2][0];\n      const style = vv.library.TREE[root].tree[vv.storage.tree.length - 2][1];\n      return {key: key, song: v[0], style: style, isdir: true};\n    }\n    return {key: \"top\", song: {top: [root]}, style: \"plain\", isdir: true};\n  },\n  grandparent() {\n    const root = vv.library.rootname();\n    if (root === \"root\") {\n      return;\n    }\n    const v = vv.library.list().songs;\n    if (vv.storage.tree.length > 2) {\n      const key = vv.library.TREE[root].tree[vv.storage.tree.length - 3][0];\n      const style = vv.library.TREE[root].tree[vv.storage.tree.length - 3][1];\n      return {key: key, song: v[0], style: style, isdir: true};\n    } else if (vv.storage.tree.length === 2) {\n      return {key: \"top\", song: {top: [root]}, style: \"plain\", isdir: true};\n    }\n    return {\n      key: \"root\",\n      song: {root: [\"Library\"]},\n      style: \"plain\",\n      isdir: true\n    };\n  },\n  load() {\n    if (vv.storage.loaded) {\n      vv.library.updateData(vv.storage.library);\n    } else {\n      vv.storage.addEventListener(\n          \"onload\", () => { vv.library.updateData(vv.storage.library); });\n    }\n  }\n};\nvv.library.load();\nvv.request = {\n  _requests: {},\n  abortAll(options) {\n    options = options || {};\n    for (const key in vv.request._requests) {\n      if (vv.request._requests.hasOwnProperty(key)) {\n        if (options.stop) {\n          vv.request._requests[key].onabort = () => {};\n        }\n        vv.request._requests[key].abort();\n      }\n    }\n  },\n  get(path, ifmodified, etag, callback, timeout) {\n    const key = \"GET \" + path;\n    if (vv.request._requests[key]) {\n      vv.request._requests[key].onabort = () => {};  // disable retry\n      vv.request._requests[key].abort();\n    }\n    const xhr = new XMLHttpRequest();\n    vv.request._requests[key] = xhr;\n    if (!timeout) {\n      timeout = 1000;\n    }\n    xhr.responseType = \"json\";\n    xhr.timeout = timeout;\n    xhr.onload = () => {\n      if (xhr.status === 200 || xhr.status === 304) {\n        if (xhr.status === 200 && callback) {\n          callback(\n              xhr.response, xhr.getResponseHeader(\"Last-Modified\"),\n              xhr.getResponseHeader(\"Etag\"),\n              xhr.getResponseHeader(\"Date\"));\n        }\n        return;\n      }\n      // error handling\n      if (xhr.status !== 0) {\n        vv.view.popup.show(\"network\", xhr.statusText);\n      }\n    };\n    xhr.onabort = () => {\n      if (timeout < 50000) {\n        setTimeout(\n            () => { vv.request.get(path, ifmodified, etag, callback, timeout * 2); });\n      }\n    };\n    xhr.onerror = () => { vv.view.popup.show(\"network\", \"Error\"); };\n    xhr.ontimeout = () => {\n      if (timeout < 50000) {\n        vv.view.popup.show(\"network\", \"timeoutRetry\");\n        vv.request.abortAll();\n        setTimeout(\n            () => { vv.request.get(path, ifmodified, etag, callback, timeout * 2); });\n      } else {\n        vv.view.popup.show(\"network\", \"timeout\");\n      }\n    };\n    xhr.open(\"GET\", path, true);\n    if (etag !== \"\") {\n      xhr.setRequestHeader(\"If-None-Match\", etag);\n    } else {\n      xhr.setRequestHeader(\"If-Modified-Since\", ifmodified);\n    }\n    xhr.send();\n  },\n  post(path, obj) {\n    const key = \"POST \" + path;\n    if (vv.request._requests[key]) {\n      vv.request._requests[key].abort();\n    }\n    const xhr = new XMLHttpRequest();\n    vv.request._requests[key] = xhr;\n    xhr.responseType = \"json\";\n    xhr.timeout = 1000;\n    xhr.onload = () => {\n      if (xhr.status !== 200&&xhr.status !== 202) {\n        if (xhr.response && xhr.response.error) {\n          vv.view.popup.show(\"network\", xhr.response.error);\n        } else {\n          vv.view.popup.show(\"network\", xhr.responseText);\n        }\n      }\n    };\n    xhr.ontimeout = () => {\n      vv.view.popup.show(\"network\", \"timeout\");\n      vv.request.abortAll();\n    };\n    xhr.onerror = () => { vv.view.popup.show(\"network\", \"Error\"); };\n    xhr.open(\"POST\", path, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.send(JSON.stringify(obj));\n  }\n};\nvv.control = {\n  _getOrElse(m, k, v) { return k in m ? m[k] : v; },\n  _listener: {},\n  addEventListener(e, f) { vv.pubsub.add(vv.control._listener, e, f); },\n  removeEventListener(e, f) { vv.pubsub.rm(vv.control._listener, e, f); },\n  raiseEvent(e) { vv.pubsub.raise(vv.control._listener, e); },\n  swipe(element, f, resetFunc, leftElement, landscape) {\n    element.swipe_target = f;\n    let starttime = 0;\n    let now = 0;\n    let x = 0;\n    let y = 0;\n    let diff_x = 0;\n    let diff_y = 0;\n    let swipe = false;\n    const start = e => {\n      if ((e.buttons && e.buttons !== 1) ||\n          (landscape && window.innerHeight < window.innerWidth)) {\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      x = t.screenX;\n      y = t.screenY;\n      starttime = (new Date()).getTime();\n      swipe = true;\n    };\n    const finalize = e => {\n      starttime = 0;\n      now = 0;\n      x = 0;\n      y = 0;\n      diff_x = 0;\n      diff_y = 0;\n      swipe = false;\n      e.currentTarget.classList.remove(\"swipe\");\n      e.currentTarget.classList.add(\"swiped\");\n      if (leftElement) {\n        leftElement.classList.remove(\"swipe\");\n        leftElement.classList.add(\"swiped\");\n      }\n      if (!resetFunc) {\n        e.currentTarget.style.transform = \"\";\n        if (leftElement) {\n          leftElement.style.transform = \"\";\n        }\n      }\n      setTimeout(() => {\n        element.classList.remove(\"swiped\");\n        if (leftElement) {\n          leftElement.classList.remove(\"swiped\");\n        }\n      });\n    };\n    const cancel = e => {\n      if (swipe) {\n        finalize(e);\n        if (resetFunc) {\n          resetFunc();\n        }\n      }\n    };\n    const move = e => {\n      if (e.buttons === 0 || (e.buttons && e.buttons !== 1) || !swipe ||\n          (landscape && window.innerHeight < window.innerWidth)) {\n        cancel(e);\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      diff_x = x - t.screenX;\n      diff_y = y - t.screenY;\n      now = (new Date()).getTime();\n      if (now - starttime < 200 && Math.abs(diff_y) > Math.abs(diff_x)) {\n        cancel(e);\n      } else if (Math.abs(diff_x) > 3) {\n        e.currentTarget.classList.add(\"swipe\");\n        e.currentTarget.style.transform = `translate3d(${diff_x * -1}px,0,0)`;\n        if (leftElement) {\n          leftElement.classList.add(\"swipe\");\n          leftElement.style.transform =\n              `translate3d(${diff_x * -1 - e.currentTarget.offsetWidth}px,0,0)`;\n        }\n      }\n    };\n    const end = e => {\n      if ((e.buttons && e.buttons !== 1) || !swipe ||\n          (landscape && window.innerHeight < window.innerWidth)) {\n        cancel(e);\n        return;\n      }\n      const p = e.currentTarget.clientWidth / diff_x;\n      if ((p > -4 && p < 0) ||\n          (now - starttime < 200 && Math.abs(diff_y) < Math.abs(diff_x) &&\n           diff_x < 0)) {\n        finalize(e);\n        f(e);\n      } else {\n        cancel(e);\n      }\n    };\n    if (\"ontouchend\" in element) {\n      element.addEventListener(\"touchstart\", start, {passive: true});\n      element.addEventListener(\"touchmove\", move, {passive: true});\n      element.addEventListener(\"touchend\", end, {passive: true});\n    } else {\n      element.addEventListener(\"mousedown\", start, {passive: true});\n      element.addEventListener(\"mousemove\", move, {passive: true});\n      element.addEventListener(\"mouseup\", end, {passive: true});\n    }\n  },\n  click(element, f) {\n    element.click_target = f;\n    const enter = e => { e.currentTarget.classList.add(\"hover\"); };\n    const leave = e => { e.currentTarget.classList.remove(\"hover\"); };\n    const start = e => {\n      if (e.buttons && e.buttons !== 1) {\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      e.currentTarget.x = t.screenX;\n      e.currentTarget.y = t.screenY;\n      e.currentTarget.touch = true;\n      e.currentTarget.classList.add(\"active\");\n    };\n    const move = e => {\n      if (e.buttons && e.buttons !== 1 || !e.currentTarget.touch) {\n        return;\n      }\n      const t = e.touches ? e.touches[0] : e;\n      if (Math.abs(e.currentTarget.x - t.screenX) >= 5 ||\n          Math.abs(e.currentTarget.y - t.screenY) >= 5) {\n        e.currentTarget.touch = false;\n        e.currentTarget.classList.remove(\"active\");\n      }\n    };\n    const end = e => {\n      if (e.buttons && e.buttons !== 1) {\n        return;\n      }\n      e.currentTarget.classList.remove(\"active\");\n      if (e.currentTarget.touch) {\n        f(e);\n      }\n    };\n    if (\"ontouchend\" in element) {\n      element.addEventListener(\"touchstart\", start, {passive: true});\n      element.addEventListener(\"touchmove\", move, {passive: true});\n      element.addEventListener(\"touchend\", end, {passive: true});\n    } else {\n      element.addEventListener(\"mousedown\", start, {passive: true});\n      element.addEventListener(\"mousemove\", move, {passive: true});\n      element.addEventListener(\"mouseup\", end, {passive: true});\n      element.addEventListener(\"mouseenter\", enter, {passive: true});\n      element.addEventListener(\"mouseleave\", leave, {passive: true});\n    }\n  },\n  rescan_library() {\n    vv.request.post(\"/api/music/library\", {updating: true});\n    vv.storage.control.update_library = true;\n    vv.control.raiseEvent(\"control\");\n  },\n  prev() { vv.request.post(\"/api/music\", {state: \"prev\"}); },\n  play_pause() {\n    const state = vv.control._getOrElse(vv.storage.control, \"state\", \"stopped\");\n    const action = state === \"play\" ? \"pause\" : \"play\";\n    vv.request.post(\"/api/music\", {state: action});\n    vv.storage.control.state = action;\n    vv.control.raiseEvent(\"control\");\n  },\n  next() { vv.request.post(\"/api/music\", {state: \"next\"}); },\n  toggle_repeat() {\n    if (vv.storage.control.single) {\n      vv.request.post(\"/api/music\", {repeat: false, single: false});\n      vv.storage.control.single = false;\n      vv.storage.control.repeat = false;\n    } else if (vv.storage.control.repeat) {\n      vv.request.post(\"/api/music\", {single: true});\n      vv.storage.control.single = true;\n    } else {\n      vv.request.post(\"/api/music\", {repeat: true});\n      vv.storage.control.repeat = true;\n    }\n    vv.control.raiseEvent(\"control\");\n  },\n  toggle_random() {\n    vv.request.post(\"/api/music\", {random: !vv.storage.control.random});\n    vv.storage.control.random = !vv.storage.control.random;\n    vv.control.raiseEvent(\"control\");\n  },\n  play(pos) {\n    vv.request.post(\"/api/music/playlist\", {\n      sort: vv.library.sortkeys(),\n      filters: vv.library.filters(pos),\n      current: pos\n    });\n  },\n  volume(num) { vv.request.post(\"/api/music\", {volume: num}); },\n  output(id, on) {\n    vv.request.post(`/api/music/outputs`, {[id]: {enabled: on}});\n  },\n  _fetch(target, store) {\n    vv.request.get(\n        target,\n        vv.control._getOrElse(vv.storage.last_modified, store, \"\"),\n        vv.control._getOrElse(vv.storage.etag, store, \"\"),\n        (ret, modified, etag, date) => {\n          if (!ret.error) {\n            if (Object.prototype.toString.call(ret.data) ===\n                    \"[object Object]\" &&\n                Object.keys(ret.data).length === 0) {\n              return;\n            }\n            let diff = 0;\n            try {\n              diff = Date.now() - Date.parse(date);\n            } catch (e) {\n              // use default value;\n            }\n            vv.storage[store] = ret;\n            vv.storage.last_modified_ms[store] = Date.parse(modified) + diff;\n            vv.storage.last_modified[store] = modified;\n            vv.storage.etag[store] = etag;\n            if (store === \"library\") {\n              vv.storage.save.library();\n            } else if (store === \"sorted\") {\n              vv.storage.save.sorted();\n            }\n            vv.control.raiseEvent(store);\n          }\n        });\n  },\n  _fetchAll() {\n    vv.control._fetch(\"/api/music/playlist\", \"sorted\");\n    vv.control._fetch(\"/api/version\", \"version\");\n    vv.control._fetch(\"/api/music/outputs\", \"outputs\");\n    vv.control._fetch(\"/api/music/playlist/songs/current\", \"current\");\n    vv.control._fetch(\"/api/music\", \"control\");\n    vv.control._fetch(\"/api/music/library/songs\", \"library\");\n  },\n  _notify_last_update: (new Date()).getTime(),\n  _notify_last_connection: (new Date()).getTime(),\n  _connected: false,\n  _notify_err_cnt: 0,\n  _ws: null,\n  _listennotify(cause) {\n    vv.request.abortAll({stop: true});\n    if (cause) {\n      vv.view.popup.show(\"network\", cause);\n    }\n    vv.control._notify_last_connection = (new Date()).getTime();\n    vv.control._connected = false;\n    const wsp = document.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    const uri = `${wsp}//${location.host}/api/music`;\n    if (vv.control._ws !== null) {\n      vv.control._ws.onclose = () => {};\n      vv.control._ws.close();\n    }\n    vv.control._ws = new WebSocket(uri);\n    vv.control._ws.onopen = () => {\n      if (vv.control._notify_err_cnt > 0) {\n        vv.view.popup.hide(\"network\");\n      }\n      vv.control._connected = true;\n      vv.control._notify_last_update = (new Date()).getTime();\n      vv.control._fetchAll();\n    };\n    vv.control._ws.onmessage = e => {\n      if (e && e.data) {\n        if (e.data === \"/api/music/library/songs\") {\n          vv.control._fetch(\"/api/music/library/songs\", \"library\");\n        } else if (e.data === \"/api/music\") {\n          vv.control._fetch(\"/api/music\", \"control\");\n        } else if (e.data === \"/api/music/playlist/songs/current\") {\n          vv.control._fetch(\"/api/music/playlist/songs/current\", \"current\");\n        } else if (e.data === \"/api/music/outputs\") {\n          vv.control._fetch(\"/api/music/outputs\", \"outputs\");\n        } else if (e.data === \"/api/music/stats\") {\n          vv.control._fetch(\"/api/music/stats\", \"stats\");\n        } else if (e.data === \"/api/music/playlist\") {\n          vv.control._fetch(\"/api/music/playlist\", \"sorted\");\n        }\n        const new_notify_last_update = (new Date()).getTime();\n        if (new_notify_last_update - vv.control._notify_last_update > 10000) {\n          // recover lost notification\n          setTimeout(vv.control._listennotify);\n        }\n        vv.control._notify_last_update = new_notify_last_update;\n        vv.control._notify_err_cnt = 0;\n      }\n    };\n    vv.control._ws.onclose = () => {\n      if (vv.control._notify_err_cnt > 0) {\n        vv.view.popup.show(\"network\", \"closed\");\n      }\n      vv.control._notify_last_update = (new Date()).getTime();\n      vv.control._notify_err_cnt++;\n      setTimeout(vv.control._listennotify, 1000);\n    };\n  },\n  _init() {\n    const polling = () => {\n      const now = (new Date()).getTime();\n      if (vv.control._connected &&\n          now - 10000 > vv.control._notify_last_update) {\n        vv.control._notify_err_cnt++;\n        setTimeout(() => { vv.control._listennotify(\"doesNotRespond\"); });\n      } else if (\n          !vv.control._connected &&\n          now - 2000 > vv.control._notify_last_connection) {\n        vv.control._notify_err_cnt++;\n        setTimeout(() => { vv.control._listennotify(\"timeoutRetry\"); });\n      }\n      vv.control.raiseEvent(\"poll\");\n      setTimeout(polling, 1000);\n    };\n    const start = () => {\n      vv.control.raiseEvent(\"start\");\n      vv.view.list.show();\n      vv.control.raiseEvent(\"current\");\n      vv.control._listennotify();\n      polling();\n    };\n    if (vv.storage.loaded) {\n      start();\n    } else {\n      vv.storage.addEventListener(\"onload\", start);\n    }\n  },\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", vv.control._init);\n    } else {\n      vv.control._init();\n    }\n  },\n  load() {\n    const focus = () => {\n      vv.storage.save.current();\n      if (vv.storage.preferences.playback.view_follow &&\n          vv.storage.current !== null) {\n        vv.library.abs(vv.storage.current);\n      }\n    };\n\n    let unsorted = (!vv.storage.sorted || !vv.storage.sorted.hasOwnProperty(\"sort\") || vv.storage.sorted.sort === null);\n    const focusremove = (key, remove) => {\n      const n = () => {\n        if (unsorted && vv.storage.sorted && vv.storage.current !== null) {\n          if (vv.storage.sorted &&\n              vv.storage.preferences.playback.view_follow) {\n            vv.library.abs(vv.storage.current);\n          }\n          unsorted = false;\n        }\n        setTimeout(() => { remove(key, n); });\n      };\n      return n;\n    };\n    vv.control.addEventListener(\"current\", focus);\n    vv.control.addEventListener(\n        \"library\", () => { vv.library.update(vv.storage.library); });\n    if (unsorted) {\n      vv.control.addEventListener(\n          \"current\", focusremove(\"current\", vv.control.removeEventListener));\n      vv.control.addEventListener(\n          \"sorted\", focusremove(\"sorted\", vv.control.removeEventListener));\n      vv.library.addEventListener(\n          \"update\", focusremove(\"update\", vv.library.removeEventListener));\n    }\n  }\n};\nvv.control.load();\n\n// background\n{\n  let rgbg = {r: 128, g: 128, b: 128, gray: 128};\n  const mkcolor = (rgb, magic) => {\n    return \"#\" +\n        (((1 << 24) + (magic(rgb.r) << 16) + (magic(rgb.g) << 8) + magic(rgb.b))\n             .toString(16)\n             .slice(1));\n  };\n  const darker = c => {\n    // Vivaldi does not recognize #000000\n    if ((c - 20) < 0) {\n      return 1;\n    }\n    return c - 20;\n  };\n  const lighter = c => {\n    if ((c + 100) > 255) {\n      return 255;\n    }\n    return c + 100;\n  };\n  const update_theme = () => {\n    const color = document.querySelector(\"meta[name=theme-color]\");\n    if (rgbg.gray < vv.storage.preferences.appearance.color_threshold) {\n      document.body.classList.add(\"dark\");\n      document.body.classList.remove(\"light\");\n      color.setAttribute(\"content\", mkcolor(rgbg, darker));\n    } else {\n      document.body.classList.add(\"light\");\n      document.body.classList.remove(\"dark\");\n      color.setAttribute(\"content\", mkcolor(rgbg, lighter));\n    }\n  };\n  const calc_color = path => {\n    const img = new Image();\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      const context = canvas.getContext(\"2d\");\n      context.drawImage(img, 0, 0, 5, 5);\n      try {\n        const d = context.getImageData(0, 0, 5, 5).data;\n        const new_rgbg = {r: 128, g: 128, b: 128, gray: 128};\n        for (let i = 0; i < d.length - 3; i += 4) {\n          new_rgbg.r += d[i];\n          new_rgbg.g += d[i + 1];\n          new_rgbg.b += d[i + 2];\n          new_rgbg.gray += (d[i] + d[i + 1] + d[i + 2]);\n        }\n        new_rgbg.r = parseInt(new_rgbg.r * 3 / d.length, 10);\n        new_rgbg.g = parseInt(new_rgbg.g * 3 / d.length, 10);\n        new_rgbg.b = parseInt(new_rgbg.b * 3 / d.length, 10);\n        new_rgbg.gray /= d.length;\n        rgbg = new_rgbg;\n        update_theme();\n      } catch (e) {\n        // failed to getImageData\n      }\n    };\n    img.src = path;\n  };\n  const update = () => {\n    const e = document.getElementById(\"background-image\");\n    if (vv.storage.preferences.appearance.background_image) {\n      e.classList.remove(\"hide\");\n      document.getElementById(\"background-image\").classList.remove(\"hide\");\n      let cover = \"/assets/nocover.svg\";\n      let coverForCalc = \"/assets/nocover.svg\";\n      if (vv.storage.current !== null && vv.storage.current.cover) {\n        cover = vv.storage.current.cover[0];\n        const imgsize = parseInt(70 * window.devicePixelRatio, 10);\n        coverForCalc =\n            `${cover}?width=${imgsize}&height=${imgsize}`;\n      }\n      const newimage = `url(\"${cover}\")`;\n      if (e.style.backgroundImage !== newimage) {\n        calc_color(coverForCalc);\n        e.style.backgroundImage = newimage;\n      }\n      e.style.filter =\n          `blur(${vv.storage.preferences.appearance.background_image_blur}px)`;\n    } else {\n      e.classList.add(\"hide\");\n      document.getElementById(\"background-image\").classList.add(\"hide\");\n    }\n    document.body.classList.remove(\"unload\");\n  };\n  vv.control.addEventListener(\"current\", update);\n  vv.control.addEventListener(\"preferences\", update);\n  vv.control.addEventListener(\"preferences\", update_theme);\n  vv.control.addEventListener(\"start\", update);\n}\n\nvv.view.main = {\n  onPreferences() {\n    const e = document.getElementById(\"main-cover\");\n    if (vv.storage.preferences.appearance.circled_image) {\n      e.classList.add(\"circled\");\n    } else {\n      e.classList.remove(\"circled\");\n    }\n    if (vv.storage.preferences.appearance.auto_hide_scrollbar) {\n      document.body.classList.add(\"auto-hide-scrollbar\");\n    } else {\n      document.body.classList.remove(\"auto-hide-scrollbar\");\n    }\n  },\n  onControl() {\n    const c = document.getElementById(\"control-volume\");\n    if (vv.storage.control.hasOwnProperty(\"volume\") && vv.storage.control.volume !== null) {\n      c.value = vv.storage.control.volume;\n      c.classList.remove(\"disabled\");\n    } else {\n      c.classList.add(\"disabled\");\n    }\n  },\n  show() {\n    document.body.classList.add(\"view-main\");\n    document.body.classList.remove(\"view-list\");\n  },\n  hidden() {\n    const c = document.body.classList;\n    if (window.matchMedia(\"(orientation: portrait)\").matches) {\n      return !c.contains(\"view-main\");\n    }\n    return !(c.contains(\"view-list\") || c.contains(\"view-main\"));\n  },\n  update() {\n    if (vv.storage.current === null) {\n      return;\n    }\n    document.getElementById(\"main-box-title\").textContent =\n        vv.storage.current.Title;\n    document.getElementById(\"main-box-artist\").textContent =\n        vv.storage.current.Artist;\n    if (vv.storage.current.cover) {\n      document.getElementById(\"main-cover-img\").style.backgroundImage =\n          `url(\"${vv.storage.current.cover[0]}\")`;\n    } else {\n      document.getElementById(\"main-cover-img\").style.backgroundImage = \"\";\n    }\n  },\n  onCurrent() { vv.view.main.update(); },\n  onPoll() {\n    if (vv.storage.current === null || !vv.storage.current.Time) {\n      return;\n    }\n    if (vv.view.main.hidden() ||\n        document.getElementById(\"main-cover-circle\")\n            .classList.contains(\"hide\")) {\n      return;\n    }\n    const c = document.getElementById(\"main-cover-circle-active\");\n    let elapsed = parseInt(vv.storage.control.song_elapsed * 1000, 10);\n    if (vv.storage.control.state === \"play\") {\n      elapsed += (new Date()).getTime() - vv.storage.last_modified_ms.control;\n    }\n    const total = parseInt(vv.storage.current.Time[0], 10);\n    const d = (elapsed * 360 / 1000 / total - 90) * (Math.PI / 180);\n    if (isNaN(d)) {\n      return;\n    }\n    const x = 100 + 90 * Math.cos(d);\n    const y = 100 + 90 * Math.sin(d);\n    if (x <= 100) {\n      c.setAttribute(\n          \"d\",\n          \"M 100,10 L 100,10 A 90,90 0 0,1 100,190 L 100,190 A 90,90 0 0,1 \" +\n              `${x},${y}`);\n    } else {\n      c.setAttribute(\"d\", `M 100,10 L 100,10 A 90,90 0 0,1 ${x},${y}`);\n    }\n  },\n  onStart() {\n    document.getElementById(\"control-volume\").addEventListener(\"change\", e => {\n      vv.control.volume(parseInt(e.currentTarget.value, 10));\n    });\n    vv.control.click(document.getElementById(\"main-cover\"), () => {\n      if (vv.storage.current !== null) {\n        vv.view.modal.song(vv.storage.current);\n      }\n    });\n    vv.view.main.onPreferences();\n    vv.control.swipe(\n        document.getElementById(\"main\"), vv.view.list.show, null,\n        document.getElementById(\"lists\"), true);\n  }\n};\nvv.control.addEventListener(\"poll\", vv.view.main.onPoll);\nvv.control.addEventListener(\"start\", vv.view.main.onStart);\nvv.control.addEventListener(\"current\", vv.view.main.onCurrent);\nvv.control.addEventListener(\"control\", vv.view.main.onControl);\nvv.control.addEventListener(\"preferences\", vv.view.main.onPreferences);\n\nvv.view.list = {\n  show() {\n    document.body.classList.add(\"view-list\");\n    document.body.classList.remove(\"view-main\");\n  },\n  hidden() {\n    const c = document.body.classList;\n    if (window.matchMedia(\"(orientation: portrait)\").matches) {\n      return !c.contains(\"view-list\");\n    }\n    return !(c.contains(\"view-list\") || c.contains(\"view-main\"));\n  },\n  _preferences_update() {\n    const index = vv.storage.tree.length;\n    const ul = document.getElementById(\"list-items\" + index);\n    if (vv.storage.preferences.appearance.gridview_album) {\n      ul.classList.add(\"grid\");\n      ul.classList.remove(\"nogrid\");\n    } else {\n      ul.classList.add(\"nogrid\");\n      ul.classList.remove(\"grid\");\n    }\n  },\n  _updatepos() {\n    const index = vv.storage.tree.length;\n    const lists = document.getElementsByClassName(\"list\");\n    for (let listindex = 0; listindex < lists.length; listindex++) {\n      if (listindex < index) {\n        lists[listindex].style.transform = \"translate3d(-100%,0,0)\";\n      } else if (listindex === index) {\n        lists[listindex].style.transform = \"translate3d(0,0,0)\";\n      } else {\n        lists[listindex].style.transform = \"translate3d(100%,0,0)\";\n      }\n    }\n  },\n  _updateFocus() {\n    const index = vv.storage.tree.length;\n    const ul = document.getElementById(\"list-items\" + index);\n    let focus = null;\n    let viewNowPlaying = false;\n    const rootname = vv.library.rootname();\n    const focusSong = vv.library.focus;\n    const focusParent = vv.library.child;\n    for (const listitem of Array.from(ul.children)) {\n      if (listitem.classList.contains(\"list-header\")) {\n        continue;\n      }\n      if (focusSong && focusSong.file && focusParent) {\n        if (focusParent === listitem.dataset.key) {\n          focus = listitem;\n          focus.classList.add(\"selected\");\n        } else {\n          listitem.classList.remove(\"selected\");\n        }\n      } else if (\n          rootname !== \"root\" && focusSong && focusSong.file &&\n          listitem.dataset.file === focusSong.file[0]) {\n        focus = listitem;\n        focus.classList.add(\"selected\");\n      } else {\n        listitem.classList.remove(\"selected\");\n      }\n      let treeFocused = true;\n      if (vv.storage.sorted && vv.storage.sorted.hasOwnProperty(\"sort\") && vv.storage.sorted.sort !== null) {\n        if (rootname === \"root\") {\n          treeFocused = false;\n        } else if (\n            vv.storage.sorted.sort.join() !==\n            vv.library.TREE[rootname].sort.join()) {\n          treeFocused = false;\n        }\n      }\n      const elapsed = Array.from(listitem.getElementsByClassName(\"song-elapsed\"));\n      const sep = Array.from(listitem.getElementsByClassName(\"song-lengthseparator\"));\n      if (treeFocused && elapsed.length !== 0 && vv.storage.current !== null &&\n          vv.storage.current.file[0] === listitem.dataset.file) {\n        viewNowPlaying = true;\n        if (focusSong && !focusSong.file) {\n          listitem.classList.add(\"selected\");\n        }\n        if (listitem.classList.contains(\"playing\")) {\n          continue;\n        }\n        listitem.classList.add(\"playing\");\n        for (const e of elapsed) {\n          e.classList.add(\"elapsed\");\n          e.setAttribute(\"aria-hidden\", \"false\");\n        }\n        for (const s of sep) {\n          s.setAttribute(\"aria-hidden\", \"false\");\n        }\n      } else {\n        if (!listitem.classList.contains(\"playing\")) {\n          continue;\n        }\n        listitem.classList.remove(\"playing\");\n        for (const e of elapsed) {\n          e.classList.remove(\"elapsed\");\n          e.setAttribute(\"aria-hidden\", \"true\");\n        }\n        for (const s of sep) {\n          s.setAttribute(\"aria-hidden\", \"true\");\n        }\n      }\n    }\n\n    const scroll = document.getElementById(\"list\" + index);\n    if (focus) {\n      window.requestAnimationFrame(() => {\n        const pos = focus.offsetTop;\n        const t = scroll.scrollTop;\n        if (t >= pos || pos >= t + scroll.clientHeight) {\n          scroll.scrollTop = pos;\n        }\n      });\n    } else {\n      scroll.scrollTop = 0;\n    }\n\n    if (viewNowPlaying) {\n      document.getElementById(\"header-main\").classList.add(\"playing\");\n    } else {\n      document.getElementById(\"header-main\").classList.remove(\"playing\");\n    }\n  },\n  _clearAllLists() {\n    const lists = document.getElementsByClassName(\"list\");\n    for (let treeindex = 0; treeindex < vv.storage.tree.length; treeindex++) {\n      const oldul =\n          lists[treeindex + 1].getElementsByClassName(\"list-items\")[0];\n      while (oldul.lastChild) {\n        oldul.removeChild(oldul.lastChild);\n      }\n      lists[treeindex + 1].dataset.pwd = \"\";\n    }\n  },\n  _element(song, key, style, largeImage, header) {\n    const c = document.querySelector(`#list-${style}-template`).content;\n    const e = c.querySelector(\"li\");\n    e.dataset.key = vv.song.getOne(song, key);\n    if (header) {\n      e.classList.add(\"list-header\");\n      e.classList.remove(\"selectable\");\n    } else {\n      e.classList.add(\"selectable\");\n      e.classList.remove(\"list-header\");\n    }\n    if (song.file) {\n      e.dataset.file = song.file[0];\n      e.dataset.pos = song.pos;\n    } else {\n      e.dataset.file = \"\";\n      e.dataset.pos = \"\";\n    }\n    for (const n of e.querySelectorAll(\"span\")) {\n      if (!n.dataset) {\n        continue;\n      }\n      const target = n.dataset.textContent;\n      if (target === \"key\") {\n        n.textContent = vv.song.getOne(song, key);\n      } else if (target) {\n        n.textContent = vv.song.get(song, target);\n      }\n    }\n    if (style === \"song\") {\n      if (song.file) {\n        const tooltip = [\n          \"Length\", \"Artist\", \"Album\", \"Track\", \"Genre\", \"Performer\"\n        ].map(key => `${key}: ${vv.song.get(song, key)}`);\n        tooltip.unshift(vv.song.get(song, \"Title\"));\n        e.setAttribute(\"title\", tooltip.join(\"\\n\"));\n      } else {\n        e.removeAttribute(\"title\");\n      }\n    } else if (style === \"album\") {\n      const cover = c.querySelector(\".album-cover\");\n      if (song.cover) {\n        const base = largeImage ? 150 : 70;\n        const imgsize = parseInt(base * window.devicePixelRatio, 10);\n        cover.src = `${song.cover}?width=${imgsize}&height=${imgsize}`;\n      } else {\n        cover.src = \"/assets/nocover.svg\";\n      }\n      cover.alt = `Cover art: ${vv.song.get(song, \"Album\")} ` +\n          `by ${vv.song.get(song, \"AlbumArtist\")}`;\n    }\n    return document.importNode(c, true);\n  },\n  _listHandler(e) {\n    if (e.currentTarget.classList.contains(\"playing\")) {\n      if (vv.storage.current === null) {\n        return;\n      }\n      vv.library.abs(vv.storage.current);\n      vv.view.main.show();\n      return;\n    }\n    const value = e.currentTarget.dataset.key;\n    const pos = e.currentTarget.dataset.pos;\n    if (e.currentTarget.classList.contains(\"song\")) {\n      vv.control.play(parseInt(pos, 10));\n    } else {\n      vv.library.down(value);\n    }\n  },\n  _update() {\n    const index = vv.storage.tree.length;\n    const scroll = document.getElementById(\"list\" + index);\n    const pwd = vv.storage.tree.join();\n    if (scroll.dataset.pwd === pwd) {\n      vv.view.list._updatepos();\n      vv.view.list._updateFocus();\n      return;\n    }\n    scroll.dataset.pwd = pwd;\n    const ls = vv.library.list();\n    const key = ls.key;\n    const songs = ls.songs;\n    const style = ls.style;\n    const newul = document.createDocumentFragment();\n    const lists = document.getElementsByClassName(\"list\");\n    for (let treeindex = 0; treeindex < vv.storage.tree.length; treeindex++) {\n      const currentpwd = vv.storage.tree.slice(0, treeindex + 1).join();\n      const viewpwd = lists[treeindex + 1].dataset.pwd;\n      if (currentpwd !== viewpwd) {\n        const oldul =\n            lists[treeindex + 1].getElementsByClassName(\"list-items\")[0];\n        while (oldul.lastChild) {\n          oldul.removeChild(oldul.lastChild);\n        }\n        lists[treeindex + 1].dataset.pwd = \"\";\n      }\n    }\n    vv.view.list._updatepos();\n    const ul = document.getElementById(\"list-items\" + index);\n    while (ul.lastChild) {\n      ul.removeChild(ul.lastChild);\n    }\n    ul.classList.remove(\"songlist\");\n    ul.classList.remove(\"albumlist\");\n    ul.classList.remove(\"plainlist\");\n    ul.classList.add(style + \"list\");\n    vv.view.list._preferences_update();\n    const p = vv.library.parent();\n    for (let i = 0, imax = songs.length; i < imax; i++) {\n      if (i === 0 && p) {\n        const li = vv.view.list._element(p.song, p.key, p.style, false, true);\n        newul.appendChild(li);\n      }\n      const li = vv.view.list._element(\n          songs[i], key, style, ul.classList.contains(\"grid\"), false);\n      vv.control.click(\n          li.querySelector(\"li\"), vv.view.list._listHandler, false);\n      newul.appendChild(li);\n    }\n    ul.appendChild(newul);\n    vv.view.list._updateFocus();\n  },\n  _updateForce() {\n    vv.view.list._clearAllLists();\n    vv.view.list._update();\n  },\n  _select_near_item() {\n    const index = vv.storage.tree.length;\n    const scroll = document.getElementById(\"list\" + index);\n    let updated = false;\n    for (const selectable of document.querySelectorAll(`#list-items${index}.selectable`)) {\n      const p = selectable.offsetTop;\n      if (scroll.scrollTop < p && p < scroll.scrollTop + scroll.clientHeight &&\n          !updated) {\n        selectable.classList.add(\"selected\");\n        updated = true;\n      } else {\n        selectable.classList.remove(\"selected\");\n      }\n    }\n  },\n  _select_focused_or(target) {\n    const style = vv.library.list().style;\n    const index = vv.storage.tree.length;\n    const scroll = document.getElementById(\"list\" + index);\n    const l = document.getElementById(\"list-items\" + index);\n    let itemcount = parseInt(scroll.clientWidth / 160, 10);\n    if (!vv.storage.preferences.appearance.gridview_album) {\n      itemcount = 1;\n    }\n    const t = scroll.scrollTop;\n    const h = scroll.clientHeight;\n    const s = l.getElementsByClassName(\"selected\");\n    const f = l.getElementsByClassName(\"playing\");\n    let p = 0;\n    let c = null;\n    let n = null;\n    if (s.length === 0 && f.length === 1) {\n      p = f[0].offsetTop;\n      if (t < p && p < t + h) {\n        f[0].classList.add(\"selected\");\n        return;\n      }\n    }\n    if (s.length > 0) {\n      p = s[0].offsetTop;\n      if (p < t || t + h < p + s[0].offsetHeight) {\n        vv.view.list._select_near_item();\n        return;\n      }\n    }\n    if (s.length === 0 && f.length === 0) {\n      vv.view.list._select_near_item();\n      return;\n    }\n    if (s.length > 0) {\n      let selectables = l.getElementsByClassName(\"selectable\");\n      if (target === \"up\" && selectables[0] === s[0]) {\n        return;\n      }\n      if (target === \"down\" && selectables[selectables.length - 1] === s[0]) {\n        return;\n      }\n      for (let i = 0; i < selectables.length; i++) {\n        c = selectables[i];\n        if (c === s[0]) {\n          if ((i > 0 && target === \"up\" && style !== \"album\") ||\n              (i > 0 && target === \"left\")) {\n            n = selectables[i - 1];\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop;\n            if (p < t) {\n              scroll.scrollTop = p;\n            }\n            return;\n          }\n          if (i > itemcount - 1 && target === \"up\" && style === \"album\") {\n            n = selectables[i - itemcount];\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop;\n            if (p < t) {\n              scroll.scrollTop = p;\n            }\n            return;\n          }\n          if ((i !== (selectables.length - 1) && target === \"down\" &&\n               style !== \"album\") ||\n              (i !== (selectables.length - 1) && target === \"right\")) {\n            n = selectables[i + 1];\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop + n.offsetHeight;\n            if (t + h < p) {\n              scroll.scrollTop = p - h;\n            }\n            return;\n          }\n          if ((i < (selectables.length - 1) && target === \"down\" &&\n               style === \"album\") ||\n              (i !== (selectables.length - 1) && target === \"right\")) {\n            if (i + itemcount >= selectables.length) {\n              n = selectables[selectables.length - 1];\n            } else {\n              n = selectables[i + itemcount];\n            }\n            c.classList.remove(\"selected\");\n            n.classList.add(\"selected\");\n            p = n.offsetTop + n.offsetHeight;\n            if (t + h < p) {\n              scroll.scrollTop = p - h;\n            }\n            return;\n          }\n        }\n      }\n    }\n  },\n  up() { vv.view.list._select_focused_or(\"up\"); },\n  left() { vv.view.list._select_focused_or(\"left\"); },\n  right() { vv.view.list._select_focused_or(\"right\"); },\n  down() { vv.view.list._select_focused_or(\"down\"); },\n  activate() {\n    const index = vv.storage.tree.length;\n    const es = document.getElementById(\"list-items\" + index)\n                   .getElementsByClassName(\"selected\");\n    if (es.length !== 0) {\n      const e = {};\n      e.currentTarget = es[0];\n      es[0].click_target(e);\n      return true;\n    }\n    return false;\n  },\n  onCurrent() { vv.view.list._update(); },\n  onPreferences() { vv.view.list._preferences_update(); },\n  onStart() {\n    vv.library.addEventListener(\"update\", vv.view.list._updateForce);\n    vv.library.addEventListener(\"changed\", vv.view.list._update);\n    vv.control.swipe(\n        document.getElementById(\"list1\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list0\"));\n    vv.control.swipe(\n        document.getElementById(\"list2\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list1\"));\n    vv.control.swipe(\n        document.getElementById(\"list3\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list2\"));\n    vv.control.swipe(\n        document.getElementById(\"list4\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list3\"));\n    vv.control.swipe(\n        document.getElementById(\"list5\"), vv.library.up,\n        vv.view.list._updatepos, document.getElementById(\"list4\"));\n  }\n};\nvv.control.addEventListener(\"current\", vv.view.list.onCurrent);\nvv.control.addEventListener(\"preferences\", vv.view.list.onPreferences);\nvv.control.addEventListener(\"start\", vv.view.list.onStart);\n\nvv.view.system = {\n  _initconfig(id) {\n    const obj = document.getElementById(id);\n    const s = id.indexOf(\"-\");\n    const mainkey = id.slice(0, s);\n    const subkey = id.slice(s + 1).replace(/-/g, \"_\");\n    let getter = null;\n    if (obj.type === \"checkbox\") {\n      obj.checked = vv.storage.preferences[mainkey][subkey];\n      getter = () => { return obj.checked; };\n    } else if (obj.tagName.toLowerCase() === \"select\") {\n      obj.value = String(vv.storage.preferences[mainkey][subkey]);\n      getter = () => { return obj.value; };\n    } else if (obj.type === \"range\") {\n      obj.value = String(vv.storage.preferences[mainkey][subkey]);\n      getter = () => { return parseInt(obj.value, 10); };\n      obj.addEventListener(\"input\", () => {\n        vv.storage.preferences[mainkey][subkey] = obj.value;\n        vv.control.raiseEvent(\"preferences\");\n      });\n    }\n    obj.addEventListener(\"change\", () => {\n      vv.storage.preferences[mainkey][subkey] = getter();\n      vv.storage.save.preferences();\n      vv.control.raiseEvent(\"preferences\");\n    });\n  },\n  onPreferences() {\n    if (vv.storage.preferences.appearance.animation) {\n      document.body.classList.add(\"animation\");\n    } else {\n      document.body.classList.remove(\"animation\");\n    }\n  },\n  onOutputs() {\n    const ul = document.getElementById(\"devices\");\n    while (ul.lastChild) {\n      ul.removeChild(ul.lastChild);\n    }\n    const newul = document.createDocumentFragment();\n    for (const id in vv.storage.outputs) {\n      if (vv.storage.outputs.hasOwnProperty(id)) {\n        const o = vv.storage.outputs[id];\n        const c = document.querySelector(\"#device-template\").content;\n        const e = c.querySelector(\"li\");\n        e.querySelector(\".system-setting-desc\").textContent = o.name;\n        const ch = e.querySelector(\".slideswitch\");\n        ch.setAttribute(\"aria-label\", o.name);\n        ch.dataset.deviceid = id;\n        ch.checked = o.enabled;\n        const d = document.importNode(c, true);\n        d.querySelector(\".slideswitch\").addEventListener(\"change\", e => {\n          vv.control.output(\n              parseInt(e.currentTarget.dataset.deviceid, 10),\n              e.currentTarget.checked);\n        });\n        newul.appendChild(d);\n      }\n    }\n    ul.appendChild(newul);\n  },\n  onControl() {\n    const e = document.getElementById(\"library-rescan\");\n    if (vv.storage.control.update_library && !e.disabled) {\n      e.disabled = true;\n    } else if (!vv.storage.control.update_library && e.disabled) {\n      e.disabled = false;\n    }\n  },\n  onStart() {\n    // preferences\n    vv.view.system.onPreferences();\n\n    // Mobile\n    if (navigator.userAgent.indexOf(\"Mobile\") > 1) {\n      document.getElementById(\"config-appearance-auto-hide-scrollbar\")\n          .classList.add(\"hide\");\n    }\n\n    vv.control.addEventListener(\"control\", () => {\n      if (vv.storage.control.hasOwnProperty(\"volume\") && vv.storage.control.volume !== null) {\n        document.getElementById(\"volume-header\").classList.remove(\"hide\");\n        document.getElementById(\"volume-all\").classList.remove(\"hide\");\n      } else {\n        document.getElementById(\"volume-header\").classList.add(\"hide\");\n        document.getElementById(\"volume-all\").classList.add(\"hide\");\n      }\n    });\n\n    vv.view.system._initconfig(\"appearance-color-threshold\");\n    vv.view.system._initconfig(\"appearance-animation\");\n    vv.view.system._initconfig(\"appearance-background-image\");\n    vv.view.system._initconfig(\"appearance-background-image-blur\");\n    vv.view.system._initconfig(\"appearance-circled-image\");\n    vv.view.system._initconfig(\"appearance-gridview-album\");\n    vv.view.system._initconfig(\"appearance-auto-hide-scrollbar\");\n    vv.view.system._initconfig(\"playback-view-follow\");\n    vv.view.system._initconfig(\"volume-show\");\n    vv.view.system._initconfig(\"volume-max\");\n    document.getElementById(\"system-reload\").addEventListener(\"click\", () => {\n      location.reload();\n    });\n    document.getElementById(\"library-rescan\").addEventListener(\"click\", () => {\n      vv.control.rescan_library();\n    });\n    // info\n    document.getElementById(\"user-agent\").textContent = navigator.userAgent;\n\n    const navs = Array.from(document.getElementsByClassName(\"system-nav-item\"));\n    const showChild = e => {\n      for (const nav of navs) {\n        if (nav === e.currentTarget) {\n          if (nav.id === \"system-nav-stats\") {\n            vv.view.system._update_time();\n            vv.view.system._update_stats();\n          }\n          nav.classList.add(\"on\");\n          document.getElementById(nav.dataset.target).classList.add(\"on\");\n        } else {\n          nav.classList.remove(\"on\");\n          document.getElementById(nav.dataset.target).classList.remove(\"on\");\n        }\n      }\n    };\n    for (const nav of navs) {\n      nav.addEventListener(\"click\", showChild);\n    }\n  },\n  _zfill2(i) {\n    if (i < 100) {\n      return (\"00\" + i).slice(-2);\n    }\n    return i;\n  },\n  _strtimedelta(i) {\n    const zfill2 = vv.view.system._zfill2;\n    const uh = parseInt(i / (60 * 60), 10);\n    const um = parseInt((i - uh * 60 * 60) / 60, 10);\n    const us = parseInt(i - uh * 60 * 60 - um * 60, 10);\n    return `${zfill2(uh)}:${zfill2(um)}:${zfill2(us)}`;\n  },\n  _update_stats() {\n    document.getElementById(\"stat-albums\").textContent =\n        vv.storage.stats.albums;\n    document.getElementById(\"stat-artists\").textContent =\n        vv.storage.stats.artists;\n    document.getElementById(\"stat-db-playtime\").textContent =\n        vv.view.system._strtimedelta(\n            parseInt(vv.storage.stats.db_playtime, 10));\n    document.getElementById(\"stat-playtime\").textContent =\n        vv.view.system._strtimedelta(parseInt(vv.storage.stats.playtime, 10));\n    document.getElementById(\"stat-tracks\").textContent = vv.storage.stats.songs;\n    const db_update = new Date(parseInt(vv.storage.stats.db_update, 10) * 1000);\n    const options = {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      weekday: \"short\"\n    };\n    document.getElementById(\"stat-db-update\").textContent =\n        db_update.toLocaleString(document.documentElement.lang, options);\n    document.getElementById(\"stat-websockets\").textContent =\n        vv.storage.stats.subscribers;\n  },\n  _update_time() {\n    const diff = parseInt(\n        ((new Date()).getTime() - vv.storage.last_modified_ms.stats) / 1000,\n        10);\n    const uptime = parseInt(vv.storage.stats.uptime, 10) + diff;\n    if (vv.storage.control.state === \"play\") {\n      const playtime = parseInt(vv.storage.stats.playtime, 10) + diff;\n      document.getElementById(\"stat-playtime\").textContent =\n          vv.view.system._strtimedelta(playtime);\n    }\n    document.getElementById(\"stat-uptime\").textContent =\n        vv.view.system._strtimedelta(uptime);\n  },\n  onPoll() {\n    if (document.getElementById(\"system-stats\").classList.contains(\"on\")) {\n      vv.view.system._update_time();\n    }\n  },\n  onStats() {\n    if (document.getElementById(\"system-stats\").classList.contains(\"on\")) {\n      vv.view.system._update_stats();\n    }\n  },\n  onVersion() {\n    if (vv.storage.version.app) {\n      document.getElementById(\"version\").textContent = vv.storage.version.app;\n      document.getElementById(\"go-version\").textContent = vv.storage.version.go;\n    }\n  },\n  show() {\n    document.getElementById(\"modal-background\").classList.remove(\"hide\");\n    document.getElementById(\"modal-outer\").classList.remove(\"hide\");\n    document.getElementById(\"modal-system\").classList.remove(\"hide\");\n  }\n};\nvv.control.addEventListener(\"start\", vv.view.system.onStart);\nvv.control.addEventListener(\"version\", vv.view.system.onVersion);\nvv.control.addEventListener(\"poll\", vv.view.system.onPoll);\nvv.control.addEventListener(\"control\", vv.view.system.onControl);\nvv.control.addEventListener(\"status\", vv.view.system.onStats);\nvv.control.addEventListener(\"preferences\", vv.view.system.onPreferences);\nvv.control.addEventListener(\"outputs\", vv.view.system.onOutputs);\n\n// header\n{\n  const update = () => {\n    const e = document.getElementById(\"header-back-label\");\n    const b = document.getElementById(\"header-back\");\n    const m = document.getElementById(\"header-main\");\n    if (vv.library.rootname() === \"root\") {\n      b.classList.add(\"root\");\n      m.classList.add(\"root\");\n    } else {\n      b.classList.remove(\"root\");\n      m.classList.remove(\"root\");\n      const songs = vv.library.list().songs;\n      if (songs[0]) {\n        const p = vv.library.grandparent();\n        if (p) {\n          e.textContent = vv.song.getOne(p.song, p.key);\n          if (p.song.keys) {\n            for (const kv of p.song.keys) {\n              if (kv[0] === p.key) {\n                e.textContent = kv[1];\n                break;\n              }\n            }\n          }\n          b.setAttribute(\n              \"title\", b.dataset.titleFormat.replace(\"%s\", e.textContent));\n          b.setAttribute(\n              \"aria-label\",\n              b.dataset.ariaLabelFormat.replace(\"%s\", e.textContent));\n        }\n      }\n    }\n  };\n  vv.control.addEventListener(\"start\", () => {\n    document.getElementById(\"header-back\").addEventListener(\"click\", e => {\n      if (vv.view.list.hidden()) {\n        if (vv.storage.current !== null) {\n          vv.library.abs(vv.storage.current);\n        }\n      } else {\n        vv.library.up();\n      }\n      vv.view.list.show();\n      e.stopPropagation();\n    });\n    document.getElementById(\"header-main\").addEventListener(\"click\", e => {\n      e.stopPropagation();\n      if (vv.storage.current !== null) {\n        vv.library.abs(vv.storage.current);\n      }\n      vv.view.main.show();\n      e.stopPropagation();\n    });\n    document.getElementById(\"header-system\").addEventListener(\"click\", e => {\n      vv.view.system.show();\n      e.stopPropagation();\n    });\n    update();\n    vv.library.addEventListener(\"changed\", update);\n    vv.library.addEventListener(\"update\", update);\n  });\n}\n\nvv.view.footer = {\n  onPreferences() {\n    const c = document.getElementById(\"control-volume\");\n    c.max = parseInt(vv.storage.preferences.volume.max, 10);\n    if (vv.storage.preferences.volume.show) {\n      c.classList.remove(\"hide\");\n    } else {\n      c.classList.add(\"hide\");\n    }\n  },\n  onStart() {\n    vv.view.footer.onPreferences();\n    document.getElementById(\"control-prev\").addEventListener(\"click\", e => {\n      vv.control.prev();\n      e.stopPropagation();\n    });\n    document.getElementById(\"control-toggleplay\")\n        .addEventListener(\"click\", e => {\n          vv.control.play_pause();\n          e.stopPropagation();\n        });\n    document.getElementById(\"control-next\").addEventListener(\"click\", e => {\n      vv.control.next();\n      e.stopPropagation();\n    });\n    document.getElementById(\"control-repeat\").addEventListener(\"click\", e => {\n      vv.control.toggle_repeat();\n      e.stopPropagation();\n    });\n    document.getElementById(\"control-random\").addEventListener(\"click\", e => {\n      vv.control.toggle_random();\n      e.stopPropagation();\n    });\n  },\n  onControl() {\n    const toggleplay = document.getElementById(\"control-toggleplay\");\n    if (vv.storage.control.state === \"play\") {\n      toggleplay.setAttribute(\"aria-label\", toggleplay.dataset.ariaLabelPause);\n      toggleplay.classList.add(\"pause\");\n      toggleplay.classList.remove(\"play\");\n    } else {\n      toggleplay.setAttribute(\"aria-label\", toggleplay.dataset.ariaLabelPlay);\n      toggleplay.classList.add(\"play\");\n      toggleplay.classList.remove(\"pause\");\n    }\n    const repeat = document.getElementById(\"control-repeat\");\n    if (vv.storage.control.single) {\n      repeat.setAttribute(\"aria-label\", repeat.dataset.ariaLabelOn);\n      repeat.classList.add(\"single-on\");\n      repeat.classList.remove(\"single-off\");\n    } else {\n      repeat.classList.add(\"single-off\");\n      repeat.classList.remove(\"single-on\");\n    }\n    if (vv.storage.control.repeat) {\n      if (!vv.storage.control.single) {\n        repeat.setAttribute(\"aria-label\", repeat.dataset.ariaLabelSingleOff);\n      }\n      repeat.classList.add(\"on\");\n      repeat.classList.remove(\"off\");\n    } else {\n      if (!vv.storage.control.single) {\n        repeat.setAttribute(\"aria-label\", repeat.dataset.ariaLabelOff);\n      }\n      repeat.classList.add(\"off\");\n      repeat.classList.remove(\"on\");\n    }\n    const random = document.getElementById(\"control-random\");\n    if (vv.storage.control.random) {\n      random.setAttribute(\"aria-label\", random.dataset.ariaLabelOn);\n      random.classList.add(\"on\");\n      random.classList.remove(\"off\");\n    } else {\n      random.setAttribute(\"aria-label\", random.dataset.ariaLabelOff);\n      random.classList.add(\"off\");\n      random.classList.remove(\"on\");\n    }\n  }\n};\nvv.control.addEventListener(\"start\", vv.view.footer.onStart);\nvv.control.addEventListener(\"control\", vv.view.footer.onControl);\n\nvv.view.popup = {\n  show(target, description) {\n    const obj = document.getElementById(\"popup-\" + target);\n    if (!obj) {\n      vv.view.popup.show(\"fixme\", `popup-${target} is not found in html`);\n      return;\n    }\n    if (description) {\n      const desc = obj.getElementsByClassName(\"popup-description\")[0];\n      const textContent = desc.dataset[description] || description;\n      desc.textContent = textContent;\n    }\n    obj.classList.remove(\"hide\");\n    obj.classList.add(\"show\");\n    obj.timestamp = (new Date()).getTime();\n    obj.ttl = obj.timestamp + 4000;\n    setTimeout(() => {\n      if ((new Date()).getTime() - obj.ttl > 0) {\n        obj.classList.remove(\"show\");\n        obj.classList.add(\"hide\");\n      }\n    }, 5000);\n  },\n  hide(target) {\n    const obj = document.getElementById(\"popup-\" + target);\n    if (obj) {\n      const now = (new Date()).getTime();\n      if (now - obj.timestamp < 600) {\n        obj.ttl = obj.timestamp + 500;\n        setTimeout(() => {\n          if ((new Date()).getTime() - obj.ttl > 0) {\n            obj.classList.remove(\"show\");\n            obj.classList.add(\"hide\");\n          }\n        }, 600);\n      } else {\n        obj.ttl = now;\n        obj.classList.remove(\"show\");\n        obj.classList.add(\"hide\");\n      }\n    }\n  }\n};\n\n// elapsed circle/time updater\n{\n  const update = () => {\n    const data = vv.storage.control;\n    if (\"state\" in data) {\n      const elapsed = parseInt(data.song_elapsed * 1000, 10);\n      let current = elapsed;\n      if (data.state === \"play\") {\n        current += (new Date()).getTime() - vv.storage.last_modified_ms.control;\n      }\n      current = parseInt(current / 1000, 10);\n      const min = parseInt(current / 60, 10);\n      const sec = current % 60;\n      const label = min + \":\" + (\"0\" + sec).slice(-2);\n      [].forEach.call(document.getElementsByClassName(\"elapsed\"), x => {\n        if (x.textContent !== label) {\n          x.textContent = label;\n        }\n      });\n    }\n  };\n  vv.control.addEventListener(\"control\", update);\n  vv.control.addEventListener(\"poll\", update);\n}\n\nvv.view.modal = {\n  hide() {\n    document.getElementById(\"modal-background\").classList.add(\"hide\");\n    document.getElementById(\"modal-outer\").classList.add(\"hide\");\n    for (const w of Array.from(document.getElementsByClassName(\"modal-window\"))) {\n      w.classList.add(\"hide\");\n    }\n  },\n  onStart() {\n    document.getElementById(\"modal-background\")\n        .addEventListener(\"click\", vv.view.modal.hide);\n    document.getElementById(\"modal-outer\")\n        .addEventListener(\"click\", vv.view.modal.hide);\n    for (const w of Array.from(document.getElementsByClassName(\"modal-window\"))) {\n      w.addEventListener(\"click\", e => { e.stopPropagation(); });\n    }\n    for (const w of Array.from(document.getElementsByClassName(\"modal-window-close\"))) {\n      w.addEventListener(\"click\", vv.view.modal.hide);\n    }\n  },\n  help() {\n    const b = document.getElementById(\"modal-background\");\n    if (!b.classList.contains(\"hide\")) {\n      return;\n    }\n    b.classList.remove(\"hide\");\n    document.getElementById(\"modal-outer\").classList.remove(\"hide\");\n    document.getElementById(\"modal-help\").classList.remove(\"hide\");\n  },\n  song(song) {\n    const mustkeys = [\n      \"Title\", \"Artist\", \"Album\", \"Date\", \"AlbumArtist\", \"Genre\", \"Performer\",\n      \"Disc\", \"Track\", \"Composer\", \"Length\"\n    ];\n    for (const key of mustkeys) {\n      const doc = document.getElementById(\"modal-song-box-\" + key);\n      while (doc.lastChild) {\n        doc.removeChild(doc.lastChild);\n      }\n      const newdoc = document.createDocumentFragment();\n      const values = vv.song.getOrElseMulti(song, key, []);\n      if (values.length === 0) {\n        const emptyvalue = document.createElement(\"span\");\n        emptyvalue.classList.add(\"modal-song-box-item-value\");\n        emptyvalue.classList.add(\"modal-song-box-item-value-empty\");\n        newdoc.appendChild(emptyvalue);\n      } else {\n        const root = vv.library.TREE[key];\n        let targetValues = [];\n        if (root && root.tree) {\n          const target = root.tree[0][0];\n          if (target.split(\"-\").indexOf(key) !== -1) {\n            targetValues = vv.song.getOrElseMulti(song, target, values);\n          }\n        }\n        for (const value of values) {\n          const obj = document.createElement(\"span\");\n          obj.classList.add(\"modal-song-box-item-value\");\n          obj.textContent = value;\n          if (targetValues.length) {\n            obj.dataset.root = key;\n            for (const targetValue of targetValues) {\n              if (targetValue.includes(value)) {\n                obj.dataset.value = targetValue;\n                obj.classList.add(\"modal-song-box-item-value-clickable\");\n                obj.addEventListener(\"click\", e => {\n                  const d = e.currentTarget.dataset;\n                  vv.library.absaddr(d.root, d.value);\n                  vv.view.list.show();\n                });\n                break;\n              }\n            }\n          } else {\n            obj.classList.add(\"modal-song-box-item-value-unclickable\");\n          }\n          newdoc.appendChild(obj);\n        }\n      }\n      doc.appendChild(newdoc);\n    }\n    const cover = document.getElementById(\"modal-song-box-cover\");\n    if (song.cover) {\n      const imgsize = window.devicePixelRatio * 112;\n      cover.src = `${song.cover}?width=${imgsize}&height=${imgsize}`;\n    } else {\n      cover.src = \"/assets/nocover.svg\";\n    }\n    document.getElementById(\"modal-background\").classList.remove(\"hide\");\n    document.getElementById(\"modal-outer\").classList.remove(\"hide\");\n    document.getElementById(\"modal-song\").classList.remove(\"hide\");\n  }\n};\nvv.control.addEventListener(\"start\", vv.view.modal.onStart);\n\n// keyboard events\n{\n  const shift = 1 << 3;\n  // const alt = 1 << 2;\n  const ctrl = 1 << 1;\n  const meta = 1;\n  const none = 0;\n  const any = t => {\n    return () => {\n      t();\n      return true;\n    };\n  };\n  const inList = t => {\n    return () => {\n      if (!vv.view.list.hidden()) {\n        t();\n        return true;\n      }\n      return false;\n    };\n  };\n  const back = () => {\n    if (vv.view.list.hidden()) {\n      if (vv.storage.current !== null) {\n        vv.library.abs(vv.storage.current);\n      }\n    } else {\n      vv.library.up();\n    }\n    vv.view.list.show();\n  };\n  const keymap = {\n    [none]: {\n      Enter() { return !vv.view.list.hidden() && vv.view.list.activate(); },\n      Backspace: any(back),\n      ArrowLeft: inList(vv.view.list.left),\n      ArrowUp: inList(vv.view.list.up),\n      ArrowRight: inList(vv.view.list.right),\n      ArrowDown: inList(vv.view.list.down),\n      [\" \"]: any(vv.control.play_pause),\n      [\"?\"]: any(vv.view.modal.help)\n    },\n    [shift]: {[\"?\"]: any(vv.view.modal.help)},\n    [meta]: {\n      ArrowLeft: any(back),\n      ArrowRight: any(() => {\n        if (vv.library.rootname() !== \"root\") {\n          if (vv.storage.current !== null) {\n            vv.library.abs(vv.storage.current);\n          }\n        }\n        vv.view.main.show();\n      })\n    },\n    [shift | ctrl]:\n        {ArrowLeft: any(vv.control.prev), ArrowRight: any(vv.control.next)}\n  };\n  vv.control.addEventListener(\"start\", () => {\n    document.addEventListener(\"keydown\", e => {\n      if (!document.getElementById(\"modal-background\")\n               .classList.contains(\"hide\")) {\n        if (e.key === \"Escape\" || e.key === \"Esc\") {\n          vv.view.modal.hide();\n        }\n        return;\n      }\n      const mod = e.shiftKey << 3 | e.altKey << 2 | e.ctrlKey << 1 | e.metaKey;\n      if (mod in keymap && e.key in keymap[mod]) {\n        if (keymap[mod][e.key]()) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n    });\n  });\n}\n\nvv.control.start();\n")
	// AssetsAppv2JSDate is gzip encoded assets/appv2.js
	AssetsAppv2JSDate = time.Unix(1565479375, 0)
	// AssetsManifestJSON is assets/manifest.json
	AssetsManifestJSON = []byte("{\n    \"short_name\": \"Music\",\n    \"name\": \"Web App client for Music Player Daemon\",\n    \"icons\": [\n        {\n            \"src\": \"/assets/app.svg\",\n            \"sizes\": \"1024x1024\",\n            \"type\": \"image/svg+xml\"\n        }\n    ],\n    \"start_url\": \"/\",\n    \"theme_color\": \"#ffffff\",\n    \"background_color\": \"#ffffff\",\n    \"display\": \"standalone\"\n}\n\n")
	// AssetsManifestJSONDate is gzip encoded assets/manifest.json
	AssetsManifestJSONDate = time.Unix(1527896175, 0)
	// AssetsNocoverSVG is assets/nocover.svg
	AssetsNocoverSVG = []byte("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\" viewBox=\"0 0 100 100\">\n<g class=\"odd\" fill=\"#404040\" stroke-width=\"0\">\n    <path d=\"M 0,10 10,0 0,0 z\"/>\n    <path d=\"M 0,30 30,0 20,0 0,20 z\"/>\n    <path d=\"M 0,50 50,0 40,0 0,40 z\"/>\n    <path d=\"M 0,70 70,0 60,0 0,60 z\"/>\n    <path d=\"M 0,90 90,0 80,0 0,80 z\"/>\n    <path d=\"M 10,100 100,10 100,0 0,100 z\"/>\n    <path d=\"M 30,100 100,30 100,20 20,100 z\"/>\n    <path d=\"M 50,100 100,50 100,40 40,100 z\"/>\n    <path d=\"M 70,100 100,70 100,60 60,100 z\"/>\n    <path d=\"M 90,100 100,90 100,80 80,100 z\"/>\n</g>\n<g class=\"even\" fill=\"#e0e0e0\" stroke-width=\"0\">\n    <path d=\"M 0,20 20,0 10,0 0,10 z\"/>\n    <path d=\"M 0,40 40,0 30,0 0,30 z\"/>\n    <path d=\"M 0,60 60,0 50,0 0,50 z\"/>\n    <path d=\"M 0,80 80,0 70,0 0,70 z\"/>\n    <path d=\"M 0,100 100,0 90,0 0,90 z\"/>\n    <path d=\"M 20,100 100,20 100,10 10,100 z\"/>\n    <path d=\"M 40,100 100,40 100,30 30,100 z\"/>\n    <path d=\"M 60,100 100,60 100,50 50,100 z\"/>\n    <path d=\"M 80,100 100,80 100,70 70,100 z\"/>\n    <path d=\"M 100,100 100,100 100,90 90,100 z\"/>\n</g>\n</svg>\n")
	// AssetsNocoverSVGDate is gzip encoded assets/nocover.svg
	AssetsNocoverSVGDate = time.Unix(1527896175, 0)
	// AssetsWPNG is assets/w.png
	AssetsWPNG = []byte("\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00\x01\x00\x00\x00\x01\x01\x00\x00\x00\x007n\xf9$\x00\x00\x00\x04gAMA\x00\x01\x86\xa01\xe8\x96_\x00\x00\x00\x02bKGD\x00\x01݊\x13\xa4\x00\x00\x00\tpHYs\x00\x00\v\x13\x00\x00\v\x13\x01\x00\x9a\x9c\x18\x00\x00\x00\atIME\a\xe1\b\x12\n\x125\xf8|\x87t\x00\x00\x00\nIDAT\b\xd7ch\x00\x00\x00\x82\x00\x81\xddCj\xf4\x00\x00\x00\x00IEND\xaeB`\x82")
	// AssetsWPNGDate is gzip encoded assets/w.png
	AssetsWPNGDate = time.Unix(1527896175, 0)
)
